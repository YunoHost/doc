# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2025-11-05 06:40+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Yaml Front Matter Hash Value: title
#: docs/admin/40.backups/30.custom_backup_methods.mdx:1
#, no-wrap
msgid "Custom backup methods"
msgstr ""

#. type: Plain text
#: docs/admin/40.backups/30.custom_backup_methods.mdx:6
msgid ""
"It is possible to create your own backup method and link it to YunoHost's "
"backup file collection system. This can be useful if you want to use your "
"own backup software or conduct disk mount/dismount operations for example."
msgstr ""

#. type: Plain text
#: docs/admin/40.backups/30.custom_backup_methods.mdx:8
msgid ""
"This operation is done with a hook and will allow you to launch a backup "
"this way:"
msgstr ""

#. type: Fenced code block (bash)
#: docs/admin/40.backups/30.custom_backup_methods.mdx:9
#, no-wrap
msgid "yunohost backup create --method custom\n"
msgstr ""

#. type: Plain text
#: docs/admin/40.backups/30.custom_backup_methods.mdx:14
msgid ""
"Below is a simplistic example that can be used to set up a rotational backup "
"with different disks that are changed every week:"
msgstr ""

#. type: Plain text
#: docs/admin/40.backups/30.custom_backup_methods.mdx:16
msgid "`/etc/yunohost/hooks.d/backup_method/05-custom`"
msgstr ""

#. type: Fenced code block (bash)
#: docs/admin/40.backups/30.custom_backup_methods.mdx:17
#, no-wrap
msgid ""
"#!/bin/bash\n"
"set -euo pipefail\n"
"\n"
"work_dir=\"$2\"\n"
"name=\"$3\"\n"
"repo=\"$4\"\n"
"size=\"$5\"\n"
"description=\"$6\"\n"
"\n"
"case \"$1\" in\n"
"  need_mount)\n"
"    # Set false if your method can itself put files in good place in your archive\n"
"    true\n"
"    ;;\n"
"  backup)\n"
"    mount /dev/sda1 /mnt/hdd\n"
"    if [[ \"$(df /mnt/hdd | tail -n1 | cut -d\" \" -f1)\" != \"/dev/sda1\" ]]\n"
"    then\n"
"        exit 1\n"
"    fi\n"
"    pushd \"$work_dir\"\n"
"    current_date=$(date +\"%Y-%m-%d_%H:%M\")\n"
"    cp -a \"${work_dir}\" \"/mnt/hdd/${current_date}_$name\"\n"
"    popd\n"
"    umount /mnt/hdd\n"
"    ;;\n"
"  *)\n"
"    echo \"hook called with unknown argument \\`$1'\" >&2\n"
"    exit 1\n"
"    ;;\n"
"esac\n"
"\n"
"exit 0\n"
msgstr ""
