# French translations for PACKAGE package
# Copyright (C) 2025 Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# Automatically generated, 2025.
#
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2025-11-05 06:40+0100\n"
"PO-Revision-Date: 2025-11-05 06:40+0100\n"
"Last-Translator: Automatically generated\n"
"Language-Team: none\n"
"Language: fr\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=(n > 1);\n"

#. type: Yaml Front Matter Hash Value: title
#: docs/dev/50.packaging/15.resources.mdx:1
#, no-wrap
msgid "Resources"
msgstr ""

#. type: Yaml Front Matter Hash Value: sidebar_position
#: docs/dev/50.packaging/15.resources.mdx:1
#: docs/admin/05.get_started/20.install_on/arm_board.mdx:1
#, no-wrap
msgid "2"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:8
msgid ""
"Doc auto-generated by [this script](https://github.com/YunoHost/doc/blob/"
"e1ce8661ec6f1f6597eeb5adc82e2ca367aafcad/scripts/resources_doc_generate.py) "
"on 18/09/2025 (YunoHost version 12.1.25)"
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:9
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.0.mdx:2106
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.1.mdx:1460
#, no-wrap
msgid "Apt"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:12
msgid ""
"Create a virtual package in apt, depending on the list of specified packages "
"that the app needs. The virtual packages is called `$app-ynh-deps` (with `_` "
"being replaced by `-` in the app name, see `ynh_install_app_dependencies`)"
msgstr ""

#. type: Title ####
#: docs/dev/50.packaging/15.resources.mdx:13
#: docs/dev/50.packaging/15.resources.mdx:50
#: docs/dev/50.packaging/15.resources.mdx:74
#: docs/dev/50.packaging/15.resources.mdx:116
#: docs/dev/50.packaging/15.resources.mdx:153
#: docs/dev/50.packaging/15.resources.mdx:179
#: docs/dev/50.packaging/15.resources.mdx:221
#: docs/dev/50.packaging/15.resources.mdx:250
#: docs/dev/50.packaging/15.resources.mdx:292
#: docs/dev/50.packaging/15.resources.mdx:340
#: docs/dev/50.packaging/15.resources.mdx:370
#: docs/dev/50.packaging/15.resources.mdx:504 docs/dev/80.core/forms.mdx:146
#: docs/dev/80.core/forms.mdx:196 docs/dev/80.core/forms.mdx:228
#: docs/dev/80.core/forms.mdx:247 docs/dev/80.core/forms.mdx:275
#: docs/dev/80.core/forms.mdx:311 docs/dev/80.core/forms.mdx:334
#: docs/dev/80.core/forms.mdx:355 docs/dev/80.core/forms.mdx:376
#: docs/dev/80.core/forms.mdx:395 docs/dev/80.core/forms.mdx:421
#: docs/dev/80.core/forms.mdx:449 docs/dev/80.core/forms.mdx:469
#: docs/dev/80.core/forms.mdx:488 docs/dev/80.core/forms.mdx:507
#: docs/dev/80.core/forms.mdx:527 docs/dev/80.core/forms.mdx:548
#: docs/dev/80.core/forms.mdx:572 docs/dev/80.core/forms.mdx:597
#: docs/dev/80.core/forms.mdx:627 docs/dev/80.core/forms.mdx:646
#: docs/dev/80.core/forms.mdx:667 docs/dev/80.core/forms.mdx:686
#, no-wrap
msgid "Example"
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:15
#, no-wrap
msgid ""
"[resources.apt]\n"
"packages = [\"nyancat\", \"lolcat\", \"sl\"]\n"
"\n"
"# (this part is optional and corresponds to the legacy ynh_install_extra_app_dependencies helper)\n"
"extras.yarn.repo = \"deb https://dl.yarnpkg.com/debian/ stable main\"\n"
"extras.yarn.key = \"https://dl.yarnpkg.com/debian/pubkey.gpg\"\n"
"extras.yarn.packages = [\"yarn\"]\n"
msgstr ""

#. type: Title ####
#: docs/dev/50.packaging/15.resources.mdx:25
#: docs/dev/50.packaging/15.resources.mdx:56
#: docs/dev/50.packaging/15.resources.mdx:81
#: docs/dev/50.packaging/15.resources.mdx:123
#: docs/dev/50.packaging/15.resources.mdx:159
#: docs/dev/50.packaging/15.resources.mdx:186
#: docs/dev/50.packaging/15.resources.mdx:227
#: docs/dev/50.packaging/15.resources.mdx:346
#: docs/dev/50.packaging/15.resources.mdx:511 docs/dev/80.core/forms.mdx:64
#: docs/dev/80.core/forms.mdx:89 docs/dev/80.core/forms.mdx:123
#: docs/dev/80.core/forms.mdx:163 docs/dev/80.core/forms.mdx:210
#: docs/dev/80.core/forms.mdx:236 docs/dev/80.core/forms.mdx:257
#: docs/dev/80.core/forms.mdx:295 docs/dev/80.core/forms.mdx:321
#: docs/dev/80.core/forms.mdx:342 docs/dev/80.core/forms.mdx:362
#: docs/dev/80.core/forms.mdx:384 docs/dev/80.core/forms.mdx:406
#: docs/dev/80.core/forms.mdx:431 docs/dev/80.core/forms.mdx:457
#: docs/dev/80.core/forms.mdx:477 docs/dev/80.core/forms.mdx:496
#: docs/dev/80.core/forms.mdx:515 docs/dev/80.core/forms.mdx:535
#: docs/dev/80.core/forms.mdx:558 docs/dev/80.core/forms.mdx:582
#: docs/dev/80.core/forms.mdx:611 docs/dev/80.core/forms.mdx:634
#: docs/dev/80.core/forms.mdx:654 docs/dev/80.core/forms.mdx:674
#: docs/dev/80.core/forms.mdx:694
#, no-wrap
msgid "Properties"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:30
msgid "`packages`: List of packages to be installed via `apt`"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:30
msgid ""
"`packages_from_raw_bash`: A multi-line bash snippet (using triple quotes as "
"open/close) which should echo additional packages to be installed. Meant to "
"be used for packages to be conditionally installed depending on "
"architecture, debian version, install questions, or other logic."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:30
msgid ""
"`extras`: A dict of (repo, key, packages) corresponding to \"extra\" "
"repositories to fetch dependencies from"
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:31
#: docs/dev/50.packaging/15.resources.mdx:59
#: docs/dev/50.packaging/15.resources.mdx:88
#: docs/dev/50.packaging/15.resources.mdx:127
#: docs/dev/50.packaging/15.resources.mdx:162
#: docs/dev/50.packaging/15.resources.mdx:192
#: docs/dev/50.packaging/15.resources.mdx:230
#: docs/dev/50.packaging/15.resources.mdx:271
#: docs/dev/50.packaging/15.resources.mdx:349
#: docs/dev/50.packaging/15.resources.mdx:490
#: docs/dev/50.packaging/15.resources.mdx:518
#, no-wrap
msgid "Provision/Update"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:35
msgid ""
"The code literally calls the bash helpers `ynh_install_app_dependencies` and "
"`ynh_install_extra_app_dependencies`, similar to what happens in v1."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:35
msgid ""
"Note that when `packages` contains some phpX.Y-foobar dependencies, this "
"will automagically define a `phpversion` setting equal to `X.Y` which can "
"therefore be used in app scripts ($phpversion) or templates "
"(`__PHPVERSION__`)"
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:36
#: docs/dev/50.packaging/15.resources.mdx:64
#: docs/dev/50.packaging/15.resources.mdx:96
#: docs/dev/50.packaging/15.resources.mdx:133
#: docs/dev/50.packaging/15.resources.mdx:169
#: docs/dev/50.packaging/15.resources.mdx:200
#: docs/dev/50.packaging/15.resources.mdx:236
#: docs/dev/50.packaging/15.resources.mdx:276
#: docs/dev/50.packaging/15.resources.mdx:317
#: docs/dev/50.packaging/15.resources.mdx:356
#: docs/dev/50.packaging/15.resources.mdx:494
#: docs/dev/50.packaging/15.resources.mdx:523
#, no-wrap
msgid "Deprovision"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:39
msgid "The code literally calls the bash helper `ynh_remove_app_dependencies`"
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:42
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.0.mdx:373
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.1.mdx:194
#, no-wrap
msgid "Composer"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:45
msgid "Installs a composer version to be used by the app"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:47
msgid ""
"You may then use `ynh_composer_exec` in your script to run composer actions"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:49
msgid ""
"Note that this resource requires that the app requires an `install_dir`, and "
"installs php dependencies via the `apt` resource."
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:51
#, no-wrap
msgid ""
"[resources.composer]\n"
"version = \"2.7.7\"\n"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:58
msgid "`version`: The composer version needed by the app"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:63
msgid ""
"Download `composer.phar` for the corresponding version from `getcomposer.org`"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:63
msgid "`composer.phar` is placed in the `$install_dir` of the app"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:63
msgid "Define `composer_version` as the requested version"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:67
msgid "Delete `composer.phar`"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:67
msgid "Delete the `composer_verison` setting"
msgstr ""

#. type: Title ##
#: docs/dev/50.packaging/15.resources.mdx:70
#, no-wrap
msgid "Data Dir"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:73
msgid ""
"Creates a directory to be used by the app as the data store directory, "
"typically where the app multimedia or large assets added by users are "
"located. The corresponding path is stored in the settings as `data_dir`. "
"This resource behaves very similarly to install_dir."
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:76
#, no-wrap
msgid ""
"[resources.data_dir]\n"
"# (empty - defaults are usually okay)\n"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:87
msgid ""
"`dir`: (default: `/home/yunohost.app/__APP__`) The full path of the data dir"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:87
msgid ""
"`subdirs`: (default: empty list) A list of subdirs to initialize inside the "
"data dir. For example, `['foo', 'bar']`"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:87
msgid ""
"`owner`: (default: `__APP__:rwx`) The owner (and owner permissions) for the "
"data dir"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:87
msgid ""
"`group`: (default: `__APP__:rx`) The group (and group permissions) for the "
"data dir"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:95
#: docs/dev/50.packaging/15.resources.mdx:199
msgid ""
"if the dir path changed and a folder exists at the old location, the folder "
"will be `mv`'ed to the new location"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:95
#: docs/dev/50.packaging/15.resources.mdx:199
msgid "otherwise, creates the directory if it doesn't exists yet"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:95
msgid "create each subdir declared and which do not exist already"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:95
msgid ""
"(re-)apply permissions (only on the folder itself and declared subdirs, not "
"recursively)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:95
msgid ""
"save the value of `dir` as `data_dir` in the app's settings, which can be "
"then used by the app scripts (`$data_dir`) and conf templates "
"(`__DATA_DIR__`)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:100
msgid ""
"(only if the purge option is chosen by the user) recursively deletes the "
"directory if it exists"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:100
msgid "also delete the corresponding setting"
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:101
#: docs/dev/50.packaging/15.resources.mdx:138
#: docs/dev/50.packaging/15.resources.mdx:204
#: docs/dev/50.packaging/15.resources.mdx:280
#: docs/dev/50.packaging/15.resources.mdx:322
#, no-wrap
msgid "Legacy management"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:105
msgid ""
"In the past, the setting may have been called `datadir`. The code will "
"automatically rename it as `data_dir`."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:105
#: docs/dev/50.packaging/15.resources.mdx:208
msgid ""
"As explained in the 'Provision/Update' section, the folder will also be "
"moved if the location changed"
msgstr ""

#. type: Title ##
#: docs/dev/50.packaging/15.resources.mdx:108
#, no-wrap
msgid "Database"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:111
msgid ""
"Initialize a database, either using MySQL or Postgresql. Relevant DB infos "
"are stored in settings `$db_name`, `$db_user` and `$db_pwd`."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:113
msgid ""
"NB: only one DB can be handled in such a way (is there really an app that "
"would need two completely different DB ?...)"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:115
msgid ""
"NB2: no automagic migration will happen in an suddenly change `type` from "
"`mysql` to `postgresql` or viceversa in its life"
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:118
#, no-wrap
msgid ""
"[resources.database]\n"
"type = \"mysql\"   # or : \"postgresql\". Only these two values are supported\n"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:126
msgid "`type`: The database type, either `mysql` or `postgresql`"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:132
msgid ""
"(Re)set the `$db_name` and `$db_user` settings with the sanitized app name "
"(replacing `-` and `.` with `_`)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:132
msgid ""
"If `$db_pwd` doesn't already exists, pick a random database password and "
"store it in that setting"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:132
msgid ""
"If the database doesn't exists yet, create the SQL user and DB using "
"`ynh_mysql_create_db` or `ynh_psql_create_db`."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:137
msgid "Drop the DB using `ynh_mysql_remove_db` or `ynh_psql_remove_db`"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:137
msgid "Deletes the `db_name`, `db_user` and `db_pwd` settings"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:141
msgid ""
"In the past, the sql passwords may have been named `mysqlpwd` or `psqlpwd`, "
"in which case it will automatically be renamed as `db_pwd`"
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:144
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.0.mdx:278
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.1.mdx:162
#, no-wrap
msgid "Go"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:147
msgid "Installs a go version to be used by the app, using \"goenv\""
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:149
msgid ""
"Sourcing the helpers will then automatically tweak the `PATH` variable such "
"that you may call `go` directly."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:152
msgid ""
"Sourcing the helpers will also automatically define: - `$go_dir`, the "
"directory containing the specific version of Go"
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:154
#, no-wrap
msgid ""
"[resources.go]\n"
"version = \"1.20\"\n"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:161
msgid "`version`: The go version needed by the app"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:168
msgid "Fetch/update a copy of the goenv tool and xxenv-latest"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:168
msgid ""
"Compute the actual \"latest\" version for the requested version, e.g. `1.20` "
"may corresponds to `1.20.2`"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:168
msgid "This \"actual version\" is stored as `go_version` in the app settings"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:168
msgid "Install the corresponding Go version"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:168
#: docs/dev/50.packaging/15.resources.mdx:172
#: docs/dev/50.packaging/15.resources.mdx:235
#: docs/dev/50.packaging/15.resources.mdx:239
#: docs/dev/50.packaging/15.resources.mdx:355
#: docs/dev/50.packaging/15.resources.mdx:359
msgid "Garbage-collect unused versions"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:172
msgid "Delete the `go_version` setting"
msgstr ""

#. type: Title ##
#: docs/dev/50.packaging/15.resources.mdx:175
#, no-wrap
msgid "Install Dir"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:178
msgid ""
"Creates a directory to be used by the app as the installation directory, "
"typically where the app sources and assets are located. The corresponding "
"path is stored in the settings as `install_dir`"
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:181
#, no-wrap
msgid ""
"[resources.install_dir]\n"
"# (empty - defaults are usually okay)\n"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:191
msgid "`dir`: (default: `/var/www/__APP__`) The full path of the install dir"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:191
msgid ""
"`owner`: (default: `__APP__:rwx`) The owner (and owner permissions) for the "
"install dir"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:191
msgid ""
"`group`: (default: `__APP__:rx`) The group (and group permissions) for the "
"install dir"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:199
msgid ""
"during install, the folder will be deleted if it already exists (FIXME: is "
"this what we want?)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:199
msgid "(re-)apply permissions (only on the folder itself, not recursively)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:199
msgid ""
"save the value of `dir` as `install_dir` in the app's settings, which can be "
"then used by the app scripts (`$install_dir`) and conf templates "
"(`__INSTALL_DIR__`)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:203
msgid "recursively deletes the directory if it exists"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:208
msgid ""
"In the past, the setting was called `final_path`. The code will "
"automatically rename it as `install_dir`."
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:211
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.0.mdx:94
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.1.mdx:92
#, no-wrap
msgid "Nodejs"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:214
msgid "Installs a nodejs version using \"n\" to be used by the app"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:216
msgid ""
"Sourcing the helpers will then automatically tweak the PATH variable such "
"that you may call `npm` directly."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:220
msgid ""
"Sourcing the helpers will also automatically define: - `$path_with_nodejs` "
"to be used in the systemd config "
"(`Environment=\"PATH=__PATH_WITH_NODEJS__\"`)  - `$nodejs_dir`, the "
"directory containing the specific version of nodejs, which may be used in "
"the systemd config too (e.g. `ExecStart=__NODEJS_DIR__/node foo bar`)"
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:222
#, no-wrap
msgid ""
"[resources.nodejs]\n"
"version = \"18.2\"\n"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:229
msgid "`version`: The nodejs version needed by the app"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:235
msgid "Call \"n\" to install the corresponding nodejs version"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:235
msgid ""
"Resolve the \"actual version\" installed (typically if version `20` is "
"requested, the actual version may be `20.1.2`)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:235
msgid ""
"This \"actual version\" is stored as `nodejs_version` in the app settings"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:239
msgid "Delete the `nodejs_version` setting"
msgstr ""

#. type: Title ##
#: docs/dev/50.packaging/15.resources.mdx:242
#, no-wrap
msgid "Permissions"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:245
msgid ""
"Configure the SSO permissions/tiles. Typically, webapps are expected to have "
"a 'main' permission mapped to '/', meaning that a tile pointing to the "
"`$domain/$path` will be available in the SSO for users allowed to access "
"that app."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:247
msgid ""
"Additional permissions can be created, typically to have a specific tile and/"
"or access rules for the admin part of a webapp."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:249
msgid ""
"The list of allowed user/groups may be initialized using the content of the "
"`init_{perm}_permission` question from the manifest, hence "
"`init_main_permission` replaces the `is_public` question and shall contain a "
"group name (typically, `all_users` or `visitors`)."
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:252
#, no-wrap
msgid ""
"[resources.permissions]\n"
"main.url = \"/\"\n"
"# (these two previous lines should be enough in the majority of cases)\n"
"\n"
"admin.url = \"/admin\"\n"
"admin.show_tile = false\n"
"admin.allowed = \"admins\"   # Assuming the \"admins\" group exists (cf future developments ;))\n"
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:262
#, no-wrap
msgid "Properties (for each perm name)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:270
msgid ""
"`url`: The relative URI corresponding to this permission. Typically `/` or `/"
"something`. This property may be omitted for non-web permissions. Can also "
"be a regex, prefixed by `re:` like `re:/api/[A-Z]*$`."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:270
msgid ""
"`show_tile`: (default: `true` if `url` is defined) Wether or not a tile "
"should be displayed for that permission in the user portal"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:270
msgid ""
"`allowed`: (default: nobody) The group initially allowed to access this "
"perm, if `init_{perm}_permission` is not defined in the manifest questions. "
"Note that the admin may tweak who is allowed/unallowed on that permission "
"later on, this is only meant to **initialize** the permission."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:270
msgid ""
"`auth_header`: (default: `true`) Define for the URL of this permission, if "
"SSOwat pass the authentication header to the application. Default is true"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:270
msgid ""
"`protected`: (default: `false`) Define if this permission is protected. If "
"it is protected the administrator won't be able to add or remove the "
"visitors group of this permission. Defaults to 'false'."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:270
msgid ""
"`additional_urls`: (default: none) List of additional URL for which access "
"will be allowed/forbidden"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:275
msgid ""
"Delete any permissions that may exist and be related to this app yet is not "
"declared anymore"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:275
msgid ""
"Loop over the declared permissions and create them if needed or update them "
"with the new values"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:279
msgid "Delete all permission related to this app"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:283
msgid "Legacy `is_public` setting will be deleted if it exists"
msgstr ""

#. type: Title ##
#: docs/dev/50.packaging/15.resources.mdx:286
#, no-wrap
msgid "Ports"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:289
msgid ""
"Book port(s) to be used by the app, typically to be used to the internal "
"reverse-proxy between nginx and the app process."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:291
msgid ""
"Note that because multiple ports can be booked, each properties is prefixed "
"by the name of the port. `main` is a special name and will correspond to the "
"setting `$port`, whereas for example `xmpp_client` will correspond to the "
"setting `$port_xmpp_client`."
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:294
#, no-wrap
msgid ""
"[resources.ports]\n"
"# (empty should be fine for most apps... though you can customize stuff if absolutely needed)\n"
"\n"
"\n"
"main.default = 12345    # if you really want to specify a prefered value .. but shouldnt matter in the majority of cases\n"
"\n"
"xmpp_client.default = 5222  # if you need another port, pick a name for it (here, \"xmpp_client\")\n"
"xmpp_client.exposed = \"TCP\" # here, we're telling that the port needs to be publicly exposed on TCP on the firewall\n"
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:305
#, no-wrap
msgid "Properties (for every port name)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:310
msgid ""
"`default`: The prefered value for the port. If this port is already being "
"used by another process right now, or is booked in another app's setting, "
"the code will increment the value until it finds a free port and store that "
"value as the setting. If no value is specified, a random value between 10000 "
"and 60000 is used."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:310
msgid ""
"`exposed`: (default: `false`) Wether this port should be opened on the "
"firewall and be publicly reachable. This should be kept to `false` for the "
"majority of apps than only need a port for internal reverse-proxying! "
"Possible values: `false`, `true`(=`Both`), `Both`, `TCP`, `UDP`. This will "
"result in the port being opened on the firewall, and the diagnosis checking "
"that a program answers on that port."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:310
msgid ""
"`fixed`: (default: `false`) Tells that the app absolutely needs the specific "
"value provided in `default`, typically because it's needed for a specific "
"protocol"
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:311
#, no-wrap
msgid "Provision/Update (for every port name)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:316
msgid ""
"If not already booked, look for a free port, starting with the `default` "
"value (or a random value between 10000 and 60000 if no `default` set)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:316
msgid ""
"If `exposed` is not `false`, open the port in the firewall accordingly - "
"otherwise make sure it's closed."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:316
msgid ""
"The value of the port is stored in the `$port` setting for the `main` port, "
"or `$port_NAME` for other `NAME`s"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:321
msgid "Close the ports on the firewall if relevant"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:321
msgid "Deletes all the port settings"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:325
msgid ""
"In the past, some settings may have been named `NAME_port` instead of "
"`port_NAME`, in which case the code will automatically rename the old "
"setting."
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:328
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.0.mdx:183
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.1.mdx:130
#, no-wrap
msgid "Ruby"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:331
msgid "Installs a ruby version to be used by the app, using \"rbenv\""
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:333
msgid ""
"Note that ruby is compiled on the target system, and therefore requires the "
"following dependencies to be installed : `gcc, make, libjemalloc-dev, libffi-"
"dev, libyaml-dev, zlib1g-dev`"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:335
msgid ""
"Sourcing the helpers will then automatically tweak the `PATH` variable such "
"that you may call `ruby` and `gem` directly."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:339
msgid ""
"Sourcing the helpers will also automatically define: - `$path_with_ruby` to "
"be used in the systemd config (`Environment=\"PATH=__PATH_WITH_RUBY__\"`)  - "
"`$ruby_dir`, the directory containing the specific version of ruby, which "
"may be used in the systemd config too (e.g. `ExecStart=__RUBY_DIR__/ruby foo "
"bar`)"
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:341
#, no-wrap
msgid ""
"[resources.ruby]\n"
"version = \"3.2\"\n"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:348
msgid "`version`: The ruby version needed by the app"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:355
msgid ""
"Fetch/update a copy of the rbenv tool as well as ruby-build, rbenv-aliases "
"and xxenv-latest"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:355
msgid ""
"Compute the actual \"latest\" version for the requested version, e.g. `3.2` "
"may corresponds to `3.2.1`"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:355
msgid "This \"actual version\" is stored as `ruby_version` in the app settings"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:355
msgid "Install (compile) Ruby (may take some time)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:359
msgid "Delete the `ruby_version` setting"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:362
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.0.mdx:9
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.0.mdx:13
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.1.mdx:9
#: docs/dev/50.packaging/20.scripts/20.helpers_v2.1.mdx:13
#: docs/admin/45.tutorials/15.filezilla.mdx:59
#, no-wrap
msgid "Sources"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:365
msgid ""
"Declare what are the sources / assets used by this app. Typically, this "
"corresponds to some tarball published by the upstream project, that needs to "
"be downloaded and extracted in the install dir using the ynh_setup_source "
"helper."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:367
msgid ""
"This resource is intended both to declare the assets, which will be parsed "
"by ynh_setup_source during the app script runtime, AND to prefetch and "
"validate the sha256sum of those asset before actually running the script, to "
"be able to report an error early when the asset turns out to not be "
"available for some reason."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:369
msgid ""
"Various options are available to accomodate the behavior according to the "
"asset structure"
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:372
#, no-wrap
msgid ""
"[resources.sources]\n"
"\n"
"    [resources.sources.main]\n"
"    url = \"https://github.com/foo/bar/archive/refs/tags/v1.2.3.tar.gz\"\n"
"    sha256 = \"01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b\"\n"
"\n"
"    autoupdate.strategy = \"latest_github_tag\"\n"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:384
msgid ""
"Or more complex examples with several element, including one with asset that "
"depends on the CPU architecture.  With [packaging format v2.x](https://"
"github.com/YunoHost/apps/blob/a5c97003e730dfd2303631a57ade2fc755f960ca/"
"schemas/manifest.v2.schema.json#L169-L172), YunoHost currently supports "
"`amd64`, `armhf` (`armv7`), `arm64` and `i386` architectures."
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:385
#, no-wrap
msgid ""
"[resources.sources]\n"
"\n"
"    [resources.sources.main]\n"
"    in_subdir = false\n"
"    amd64.url = \"https://github.com/foo/bar/archive/refs/tags/v1.2.3.amd64.tar.gz\"\n"
"    amd64.sha256 = \"01ba4719c80b6fe911b091a7c05124b64eeece964e09c058ef8f9805daca546b\"\n"
"    i386.url = \"https://github.com/foo/bar/archive/refs/tags/v1.2.3.386.tar.gz\"\n"
"    i386.sha256 = \"53c234e5e8472b6ac51c1ae1cab3fe06fad053beb8ebfd8977b010655bfdd3c3\"\n"
"    armhf.url = \"https://github.com/foo/bar/archive/refs/tags/v1.2.3.arm.tar.gz\"\n"
"    armhf.sha256 = \"4355a46b19d348dc2f57c046f8ef63d4538ebb936000f3c9ee954a27460dd865\"\n"
"\n"
"    autoupdate.strategy = \"latest_github_release\"\n"
"    autoupdate.asset.amd64 = \".*\\\\.amd64.tar.gz\"\n"
"    autoupdate.asset.i386 = \".*\\\\.386.tar.gz\"\n"
"    autoupdate.asset.armhf = \".*\\\\.arm.tar.gz\"\n"
"\n"
"    [resources.sources.zblerg]\n"
"    url = \"https://zblerg.com/download/zblerg\"\n"
"    sha256 = \"1121cfccd5913f0a63fec40a6ffd44ea64f9dc135c66634ba001d10bcf4302a2\"\n"
"    format = \"script\"\n"
"    rename = \"zblerg.sh\"\n"
msgstr ""

#. type: Title ###
#: docs/dev/50.packaging/15.resources.mdx:409
#, no-wrap
msgid "Properties (for each source)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"`prefetch` : `true` (default) or `false`, wether or not to pre-fetch this "
"asset during the provisioning phase of the resource. If several arch-"
"dependent url are provided, YunoHost will only prefetch the one for the "
"current system architecture."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid "`url` : the asset's URL"
msgstr ""

#. type: Bullet: '  - '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"If the asset's URL depend on the architecture, you may instead provide "
"`amd64.url`, `i386.url`, `armhf.url` and `arm64.url` (depending on what "
"architectures are supported), using the same `dpkg --print-architecture` "
"nomenclature as for the supported architecture key in the manifest"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"`sha256` : the asset's sha256sum. This is used both as an integrity check, "
"and as a layer of security to protect against malicious actors which could "
"have injected malicious code inside the asset..."
msgstr ""

#. type: Bullet: '  - '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"Same as `url` : if the asset's URL depend on the architecture, you may "
"instead provide `amd64.sha256`, `i386.sha256`, ..."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"`format` : The \"format\" of the asset. It is typically automatically "
"guessed from the extension of the URL (or the mention of \"tarball\", "
"\"zipball\" in the URL), but can be set explicitly:"
msgstr ""

#. type: Bullet: '  - '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid "`tar.gz`, `tar.xz`, `tar.bz2` : will use `tar` to extract the archive"
msgstr ""

#. type: Bullet: '  - '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid "`zip` : will use `unzip` to extract the archive"
msgstr ""

#. type: Bullet: '  - '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"`docker` : useful to extract files from an already-built docker image "
"(instead of rebuilding them locally). Will use `docker-image-extract`"
msgstr ""

#. type: Bullet: '  - '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"`whatever`: whatever arbitrary value, not really meaningful except to imply "
"that the file won't be extracted (eg because it's a .deb to be manually "
"installed with dpkg/apt, or a script, or ...)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"`in_subdir`: `true` (default) or `false`, depending on if there's an "
"intermediate subdir in the archive before accessing the actual files. Can "
"also be `N` (an integer) to handle special cases where there's `N` level of "
"subdir to get rid of to actually access the files"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"`extract` : `true` or `false`. Defaults to `true` for archives such as "
"`zip`, `tar.gz`, `tar.bz2`, ... Or defaults to `false` when `format` is not "
"something that should be extracted. When `extract = false`, the file will "
"only be `mv`ed to the location, possibly renamed using the `rename` value"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"`rename`: some string like `whatever_your_want`, to be used for convenience "
"when `extract` is `false` and the default name of the file is not practical"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:425
msgid ""
"`platform`: for example `linux/amd64` (defaults to `linux/$YNH_ARCH`) to be "
"used in conjonction with `format = \"docker\"` to specify which architecture "
"to extract for"
msgstr ""

#. type: Title ####
#: docs/dev/50.packaging/15.resources.mdx:426
#, no-wrap
msgid "Regarding `autoupdate`"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:429
msgid ""
"Strictly speaking, this has nothing to do with the actual app install. "
"`autoupdate` is expected to contain metadata for automatic maintenance / "
"update of the app sources info in the manifest. It is meant to be a simpler "
"replacement for \"autoupdate\" GitHub workflow mechanism."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:431
msgid ""
"The infos are used by [this script](https://github.com/YunoHost/apps_tools/"
"blob/main/autoupdate_app_sources/autoupdate_app_sources.py) which is ran by "
"the YunoHost infrastructure periodically and will create the corresponding "
"pull request automatically."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:433
msgid ""
"`autoupdate` property is meant to be associated to the `main` ressource "
"(i.e. the source declared under `[resources.sources.main]`). Failing to do "
"so will result in incorrect versioning in manifest's autoupdate - only the "
"YunoHost package version (the number after `~`) will [get incremented]"
"(https://github.com/YunoHost/apps_tools/blob/"
"7603de396b02b8f154870c7fef484c31d9cb69cb/autoupdate_app_sources/"
"autoupdate_app_sources.py#L245)."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:435
msgid ""
"The script will rely on the code repo specified in `code` in the upstream "
"section of the manifest."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:437
#, no-wrap
msgid "The `autoupdate.strategy` is expected to be constructed like this: `latest_<gitforge>_<strategy>`\n"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:439
#, no-wrap
msgid "You need to replace the `<gitforge>` in the strategy name by either `github`, `gitlab`, `gitea` or `forgejo`, as the autoupdater supports:\n"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:443
msgid "GitHub"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:443
msgid "GitLab (official and self-hosted instances)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:443
msgid "Gitea & Forgejo instances"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:445
msgid "And choose one strategy in the following ones:"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:451
msgid ""
"`latest_<gitforge>_release` : similar to `latest_<gitforge>_tag`, but "
"starting from the list of releases. Note that it's the only strategy that "
"provides the changelog link in the PR message. Pre- or draft releases are "
"ignored. Releases may have assets attached to them, in which case you can "
"define:"
msgstr ""

#. type: Bullet: '  - '
#: docs/dev/50.packaging/15.resources.mdx:451
msgid ""
"`autoupdate.asset = \"some regex\"` (when there's only one asset to use). "
"The regex is used to find the appropriate asset among the list of all assets"
msgstr ""

#. type: Bullet: '  - '
#: docs/dev/50.packaging/15.resources.mdx:451
msgid ""
"or several `autoupdate.asset.$arch = \"some_regex\"` (when the asset is arch-"
"specific). The regex is used to find the appropriate asset for the specific "
"arch among the list of assets"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:451
msgid ""
"`latest_<gitforge>_tag` : look for the latest tag (by sorting tags and "
"finding the \"largest\" version). Then using the corresponding tar.gz url. "
"Tags containing `rc`, `beta`, `alpha`, `start` are ignored, and actually any "
"tag which doesn't look like `x.y.z` or `vx.y.z`"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:451
msgid ""
"`latest_<gitforge>_commit` : will use the latest commit on GitHub, and the "
"corresponding tarball. If this is used for the 'main' source, it will also "
"assume that the version is YYYY.MM.DD corresponding to the date of the "
"commit."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:453
msgid ""
"It is also possible to define `autoupdate.upstream` to use a different Git "
"repository instead of the code repository from the upstream section of the "
"manifest. This can be useful when, for example, the app uses other assets "
"such as plugin from a different repository."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:455
msgid ""
"If the upstream project provides non-standard tag or release names, you can "
"fix this, with a regex with a matching group."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:457
msgid "For example, if tags look like `release-v4.1`, put:"
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:458
#, no-wrap
msgid "autoupdate.version_regex = \"^release-v(.*)$\"\n"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:463
msgid ""
"And the autoupdater will use the matched group (here: `4.1`) as the version."
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:465
msgid ""
"You can make sure that your autoupdate strategy is working well immediately "
"(without waiting for the next check on the infra) by doing the following:"
msgstr ""

#. type: Bullet: '1. '
#: docs/dev/50.packaging/15.resources.mdx:468
msgid ""
"Clone the apps_tools repository: `https://github.com/YunoHost/apps_tools`"
msgstr ""

#. type: Bullet: '2. '
#: docs/dev/50.packaging/15.resources.mdx:468
msgid "In `apps_tools` open a terminal to run the following commands:"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:472
#, no-wrap
msgid ""
"    ```bash\n"
"    # Create test branch\n"
"    git checkout -b localtest\n"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:476
#, no-wrap
msgid ""
"    # Create a Python virtual environment\n"
"    python -m venv venv\n"
"    source venv/bin/activate\n"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:479
#, no-wrap
msgid ""
"    # Install dependencies (if you don't have pip already installed on your system, check https://pip.pypa.io/en/stable/installation)\n"
"    pip install -r requirements.txt\n"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:483
#, no-wrap
msgid ""
"    # Run autoupdate script - replace '/path/to/myapp_ynh' with your actual local app path\n"
"    ./autoupdate_app_sources/autoupdate_app_sources.py '/path/to/myapp_ynh'\n"
"    ```\n"
msgstr ""

#. type: Bullet: '3. '
#: docs/dev/50.packaging/15.resources.mdx:485
msgid "If the return output includes:"
msgstr ""

#. type: Bullet: '    - '
#: docs/dev/50.packaging/15.resources.mdx:489
msgid ""
"`Apps udpated`, it ran successfully. Note that it will automatically make "
"local changes in your app's `manifest.toml` (which can be discarded as they "
"will be made automatically later online by the YNH infra);"
msgstr ""

#. type: Bullet: '    - '
#: docs/dev/50.packaging/15.resources.mdx:489
msgid ""
"`Apps failed`, the autoupdate stragegy is not working properly - check the "
"debug info;"
msgstr ""

#. type: Bullet: '    - '
#: docs/dev/50.packaging/15.resources.mdx:489
msgid ""
"none of the above but `apps -> Autoupdater just ran, here are the results:`, "
"it ran successfully but the app was already up to date."
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:493
msgid ""
"For elements with `prefetch = true`, will download the asset (for the "
"appropriate architecture) and store them in `/var/cache/yunohost/download/"
"$app/$source_id`, to be later picked up by `ynh_setup_source`. (NB: this "
"only happens during install and upgrade, not restore)"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:497
msgid "Nothing (just cleanup the cache)"
msgstr ""

#. type: Title ##
#: docs/dev/50.packaging/15.resources.mdx:500
#, no-wrap
msgid "System User"
msgstr ""

#. type: Plain text
#: docs/dev/50.packaging/15.resources.mdx:503
msgid ""
"Provision a system user to be used by the app. The username is exactly equal "
"to the app id"
msgstr ""

#. type: Fenced code block (toml)
#: docs/dev/50.packaging/15.resources.mdx:506
#, no-wrap
msgid ""
"[resources.system_user]\n"
"# (empty - defaults are usually okay)\n"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:517
msgid ""
"`allow_ssh`: (default: False) Adds the user to the ssh.app group, allowing "
"SSH connection via this user"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:517
msgid ""
"`allow_sftp`: (default: False) Adds the user to the sftp.app group, allowing "
"SFTP connection via this user"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:517
msgid ""
"`allow_email`: (default: False) Enable authentication on the mail stack for "
"the system user and send mail using `__APP__@__DOMAIN__`. A `mail_pwd` "
"setting is automatically defined (similar to `db_pwd` for databases). You "
"can then configure the app to use `__APP__` and `__MAIL_PWD__` as SMTP "
"credentials (with host 127.0.0.1). You can also tweak the user-part of the "
"domain-part of the email used by manually defining a custom setting "
"`mail_user` or `mail_domain`"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:517
msgid ""
"`home`: (default: `/var/www/__APP__`) Defines the home property for this "
"user. NB: unfortunately you can't simply use `__INSTALL_DIR__` or "
"`__DATA_DIR__` for now"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:522
msgid "will create the system user if it doesn't exists yet"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:522
msgid "will add/remove the ssh/sftp.app groups"
msgstr ""

#. type: Bullet: '- '
#: docs/dev/50.packaging/15.resources.mdx:525
msgid "deletes the user and group"
msgstr ""
