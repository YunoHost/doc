"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["7871"],{4796:function(e,o,r){r.r(o),r.d(o,{frontMatter:()=>s,toc:()=>l,default:()=>h,metadata:()=>t,assets:()=>d,contentTitle:()=>a});var t=JSON.parse('{"id":"admin/get_started/post_install/port_forwarding","title":"Configure port-forwarding","description":"Make your server accessible from outside your home","source":"@site/docs/admin/05.get_started/40.post_install/15.port_forwarding.mdx","sourceDirName":"admin/05.get_started/40.post_install","slug":"/admin/get_started/post_install/port_forwarding","permalink":"/doc/pr-2704/en/admin/get_started/post_install/port_forwarding","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/docs/admin/05.get_started/40.post_install/15.port_forwarding.mdx","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"title":"Configure port-forwarding","description":"Make your server accessible from outside your home"},"sidebar":"admin","previous":{"title":"Find your server\'s local IP","permalink":"/doc/pr-2704/en/admin/get_started/post_install/find_ip"},"next":{"title":"DNS zone configuration","permalink":"/doc/pr-2704/en/admin/get_started/post_install/dns_config"}}'),n=r(4848),i=r(4429);let s={title:"Configure port-forwarding",description:"Make your server accessible from outside your home"},a,d={},l=[{value:"0. Diagnose ports opened",id:"0-diagnose-ports-opened",level:3},{value:"1. Access your box/router administration interface",id:"1-access-your-boxrouter-administration-interface",level:3},{value:"2. Find the local IP of your server",id:"2-find-the-local-ip-of-your-server",level:3},{value:"3. Forwarding ports",id:"3-forwarding-ports",level:3}];function c(e){let o={a:"a",admonition:"admonition",code:"code",em:"em",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,i.R)(),...e.components},{FAIcon:r,Figure:t}=o;return r||u("FAIcon",!0),t||u("Figure",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.p,{children:'If you are self-hosting at home and without a VPN, you will probably want to forward ports on your home router ("Internet box") if you want your server to be reachable from outside your local network. The sketch below tries to briefly summarize the role and necessity of port forwarding when setting up a server at home.'}),"\n",(0,n.jsx)(t,{caption:"Illustration of the importance of port-forwarding",src:"/img/portForwarding_en.png"}),"\n",(0,n.jsx)(o.h3,{id:"0-diagnose-ports-opened",children:"0. Diagnose ports opened"}),"\n",(0,n.jsx)(o.p,{children:"The diagnosis tool can be used to verify that all necessary ports are exposed to the Internet."}),"\n",(0,n.jsx)(o.h3,{id:"1-access-your-boxrouter-administration-interface",children:"1. Access your box/router administration interface"}),"\n",(0,n.jsxs)(o.p,{children:["Your box/router admin interface is usually reachable via ",(0,n.jsx)(o.a,{href:"http://192.168.0.1",children:"http://192.168.0.1"})," or ",(0,n.jsx)(o.a,{href:"http://192.168.1.1",children:"http://192.168.1.1"}),". Then, you will probably need to authenticate yourself the credentials given by your internet server provider."]}),"\n",(0,n.jsx)(o.h3,{id:"2-find-the-local-ip-of-your-server",children:"2. Find the local IP of your server"}),"\n",(0,n.jsxs)(o.p,{children:["Identify the ",(0,n.jsx)(o.em,{children:"local"})," IP of your server using one of the method listed ",(0,n.jsx)(o.a,{href:"/admin/get_started/post_install/find_ip",children:"on the corresponding page"}),"."]}),"\n",(0,n.jsxs)(o.p,{children:["A local IP address typically looks like ",(0,n.jsx)(o.code,{children:"192.168.xx.yy"}),", or ",(0,n.jsx)(o.code,{children:"10.0.xx.yy"}),"."]}),"\n",(0,n.jsx)(o.p,{children:"The local IP address needs to be static, so that the port forwards that you are going to configure in the next step will always reach your server. You should go into your box/router and make sure that the local IP address of your server is static instead of dynamic."}),"\n",(0,n.jsx)(o.h3,{id:"3-forwarding-ports",children:"3. Forwarding ports"}),"\n",(0,n.jsx)(o.p,{children:'In your router admin interface, look for something like "router configuration" or "port forwarding". The naming differs among the various kinds of router models.'}),"\n",(0,n.jsx)(o.p,{children:"Opening the ports listed below is necessary for the various services available in YunoHost to work. For each of them, the 'TCP' forwarding is needed. Some interfaces refer to 'external' and 'internal' ports: these are the same in our case."}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Web: ",(0,n.jsx)(o.code,{children:"80"})," ",(0,n.jsx)("small",{children:"(HTTP)"}),", ",(0,n.jsx)(o.code,{children:"443"})," ",(0,n.jsx)("small",{children:"(HTTPS)"})]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.a,{href:"/admin/command_line",children:"SSH"}),": ",(0,n.jsx)(o.code,{children:"22"})]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.a,{href:"/admin/email",children:"Email"}),": ",(0,n.jsx)(o.code,{children:"25"}),", ",(0,n.jsx)(o.code,{children:"587"})," ",(0,n.jsx)("small",{children:"(SMTP)"}),", ",(0,n.jsx)(o.code,{children:"993"})," ",(0,n.jsx)("small",{children:"(IMAP)"})]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"If you use both a modem and a router, then you need to do the following:"}),"\n",(0,n.jsxs)(o.ol,{children:["\n",(0,n.jsx)(o.li,{children:"first on the modem (the box closest to the internet) create rules to forward the above ports to your router;"}),"\n",(0,n.jsx)(o.li,{children:"then on the router (the box between the modem and your devices) create rules to forward the above ports to the static IP address for your server."}),"\n"]}),"\n",(0,n.jsx)(o.admonition,{type:"warning",children:(0,n.jsxs)(o.p,{children:[(0,n.jsx)(r,{icon:"fa-exclamation-triangle"})," Many internet service providers (ISP) block outgoing traffic on port 25 by default, to fight spam. Port 25 is however necessary if you want your server to be able to send email. In other extreme cases, some ISP may not even allow to use port 80/443 (web) freely... Depending on the ISP, it might be possible to open them in the admin interface... Check ",(0,n.jsx)(o.a,{href:"/admin/get_started/providers/isp/",children:"this page"})," for more info."]})})]})}function h(e={}){let{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}function u(e,o){throw Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},4429:function(e,o,r){r.d(o,{R:()=>s,x:()=>a});var t=r(6540);let n={},i=t.createContext(n);function s(e){let o=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),t.createElement(i.Provider,{value:o},e.children)}}}]);