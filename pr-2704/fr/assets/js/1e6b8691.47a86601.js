"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["9122"],{7465:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>o,toc:()=>l,default:()=>u,metadata:()=>r,assets:()=>d,contentTitle:()=>a});var r=JSON.parse('{"id":"admin/get_started/post_install/dns_config","title":"Configuration de la zone DNS","description":"Le DNS (syst\xe8me de nom de domaine) est un \xe9l\xe9ment essentiel d\'Internet qui permet de convertir des adresses compr\xe9hensibles par les \xeatres humains","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/admin/05.get_started/40.post_install/20.dns_config.mdx","sourceDirName":"admin/05.get_started/40.post_install","slug":"/admin/get_started/post_install/dns_config","permalink":"/doc/pr-2704/fr/admin/get_started/post_install/dns_config","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/fr/docusaurus-plugin-content-docs/current/admin/05.get_started/40.post_install/20.dns_config.mdx","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"title":"Configuration de la zone DNS"},"sidebar":"admin","previous":{"title":"Configurer la redirection des ports","permalink":"/doc/pr-2704/fr/admin/get_started/post_install/port_forwarding"},"next":{"title":"Conseils et lignes directrices","permalink":"/doc/pr-2704/fr/admin/get_started/guidelines"}}'),i=s(4848),t=s(4429);let o={title:"Configuration de la zone DNS"},a,d={},l=[{value:"Configuration DNS recommand\xe9e",id:"configuration-dns-recommand\xe9e",level:2},{value:"Quelques notes \xe0 propos de cette table",id:"quelques-notes-\xe0-propos-de-cette-table",level:3},{value:"R\xe9solution DNS inverse",id:"r\xe9solution-dns-inverse",level:2},{value:"IP dynamique",id:"ip-dynamique",level:2}];function c(e){let n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Le DNS (syst\xe8me de nom de domaine) est un \xe9l\xe9ment essentiel d'Internet qui permet de convertir des adresses compr\xe9hensibles par les \xeatres humains\n(les noms de domaines) en adresses compr\xe9hensibles par la machine (les adresses IP). Pour que votre serveur soit\nfacilement accessible par d'autres \xeatres humains, et pour que certains services comme le mail fonctionnent\ncorrectement, il est n\xe9cessaire de configurer la zone DNS de votre domaine."}),"\n",(0,i.jsxs)(n.p,{children:["Si vous utilisez un ",(0,i.jsx)(n.a,{href:"/admin/tutorials/domains/dns_nohost_me",children:"domaine automatique"})," fourni par le Projet YunoHost,\nla configuration devrait \xeatre faite automatiquement. Si vous utilisez votre propre nom de domaine\n(e.g. achet\xe9 chez un registrar), il vous faut configurer manuellement votre\ndomaine via l'interface de votre registrar."]}),"\n",(0,i.jsx)(n.h2,{id:"configuration-dns-recommand\xe9e",children:"Configuration DNS recommand\xe9e"}),"\n",(0,i.jsxs)(n.p,{children:["NB\xa0: les exemples utilisent ici le texte ",(0,i.jsx)(n.code,{children:"votre.domaine.tld"}),", \xe0 remplacer par votre propre domaine (par exemple ",(0,i.jsx)(n.code,{children:"www.yunohost.org"}),")."]}),"\n",(0,i.jsx)(n.p,{children:"YunoHost fournit une configuration DNS recommand\xe9e, accessible via :"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"la webadmin, dans Domaines > votre.domaine.tld > Configuration DNS ;"}),"\n",(0,i.jsxs)(n.li,{children:["ou la ligne de commande, ",(0,i.jsx)(n.code,{children:"yunohost domain dns suggest votre.domaine.tld"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Pour certains besoins ou installations particuli\xe8res, et si vous savez ce que\nvous faites, il vous faudra peut-\xeatre modifier cette recommandation ou ajouter\nd'autres enregistrements (e.g. pour g\xe9rer des sous-domaines)."}),"\n",(0,i.jsx)(n.p,{children:"La configuration recommand\xe9e ressemble typiquement \xe0 :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'#\n# Basic ipv4/ipv6 records\n#\n@ 3600 IN A 111.222.33.44\n* 3600 IN A 111.222.33.44\n\n# (If your server is IPv6 capable, there are some AAAA records)\n@ 3600 IN AAAA 2222:444:8888:3333:bbbb:5555:3333:1111\n* 3600 IN AAAA 2222:444:8888:3333:bbbb:5555:3333:1111\n\n#\n# Mail (MX, SPF, DKIM and DMARC)\n#\n@ 3600 IN MX 10 your.domain.tld.\n@ 3600 IN TXT "v=spf1 a mx -all"\nmail._domainkey 3600 IN TXT "v=DKIM1; k=rsa; p=someHuuuuuuugeKey"\n_dmarc 3600 IN TXT "v=DMARC1; p=none"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Mais il est peut-\xeatre plus facile de la comprendre affich\xe9e de la fa\xe7on suivante\xa0:"}),"\n",(0,i.jsxs)(n.p,{children:["| Type    | Nom                    | Valeur                                                 |\n|\xa0:-----: |\xa0:--------------------: |\xa0:----------------------------------------------------: |\n|  ",(0,i.jsx)(n.strong,{children:"A"}),"  |   ",(0,i.jsx)(n.strong,{children:"@"}),"                |  ",(0,i.jsx)(n.code,{children:"111.222.333.444"})," (votre IPv4)                        |\n|    A    |   *                    |  ",(0,i.jsx)(n.code,{children:"111.222.333.444"})," (votre IPv4)                        |\n|  AAAA   |   @                    |  ",(0,i.jsx)(n.code,{children:"2222:444:8888:3333:bbbb:5555:3333:1111"})," (votre IPv6) |\n|  AAAA   |   *                    |  ",(0,i.jsx)(n.code,{children:"2222:444:8888:3333:bbbb:5555:3333:1111"})," (votre IPv6) |\n| ",(0,i.jsx)(n.strong,{children:"MX"}),"  | ",(0,i.jsx)(n.strong,{children:"@"}),"                  |  ",(0,i.jsx)(n.code,{children:"votre.domaine.tld."}),"     (et priorit\xe9: 10)            |\n|   TXT   |   @                    |  ",(0,i.jsx)(n.code,{children:'"v=spf1 a mx -all"'}),"                |\n|   TXT   |  mail._domainkey       |  ",(0,i.jsx)(n.code,{children:'"v=DKIM1; k=rsa; p=uneGrannnndeClef"'}),"                |\n|   TXT   |  _dmarc                |  ",(0,i.jsx)(n.code,{children:'"v=DMARC1; p=none"'}),"                                  |"]}),"\n",(0,i.jsx)(n.h3,{id:"quelques-notes-\xe0-propos-de-cette-table",children:"Quelques notes \xe0 propos de cette table"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Toutes les lignes ne sont pas n\xe9cessaires. Pour une installation minimale, seuls les lignes en gras sont n\xe9cessaires."}),"\n",(0,i.jsxs)(n.li,{children:["Le point \xe0 la fin de ",(0,i.jsx)(n.code,{children:"your.domain.tld."})," est important\u202F;)\u202F;"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@"})," corresponds \xe0 ",(0,i.jsx)(n.code,{children:"your.domain.tld"}),", et par exemple ",(0,i.jsx)(n.code,{children:"muc"})," corresponds \xe0 ",(0,i.jsx)(n.code,{children:"muc.your.domain.tld"}),"\u202F;"]}),"\n",(0,i.jsx)(n.li,{children:"Ce sont des valeurs d'exemples\u202F! Il vous faut regarder la configuration g\xe9n\xe9r\xe9es par YunoHost pour avoir les vrais valeurs \xe0 utiliser pour votre serveur\u202F;"}),"\n",(0,i.jsxs)(n.li,{children:["Nous recommandons un ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Time_to_live#DNS_records",children:"TTL"})," de 3600 (1 heure). Mais vous pouvez utiliser autre chose si vous savez ce que vous faites\u202F;"]}),"\n",(0,i.jsx)(n.li,{children:"Ne mettez pas d'enregistrement IPv6 si vous n'\xeates pas s\xfbr\u22C5e que l'IPv6 fonctionne sur votre serveur\u202F! Cela peut cr\xe9er des probl\xe8mes avec Let's Encrypt si l'IPv6 ne fonctionne en r\xe9alit\xe9 pas."}),"\n",(0,i.jsxs)(n.li,{children:["Si vous utilisez le registrar Namecheap, les enregistrements SRV sont format\xe9s comme ",(0,i.jsx)(n.strong,{children:"Service"}),"\xa0: ",(0,i.jsx)(n.code,{children:"_xmpp-client"})," ",(0,i.jsx)(n.strong,{children:"Protocol"}),"\xa0: ",(0,i.jsx)(n.code,{children:"_tcp"})," ",(0,i.jsx)(n.strong,{children:"Priority"}),"\xa0: ",(0,i.jsx)(n.code,{children:"0"})," ",(0,i.jsx)(n.strong,{children:"Weight"}),"\xa0: ",(0,i.jsx)(n.code,{children:"5"})," ",(0,i.jsx)(n.strong,{children:"Port"}),"\xa0: ",(0,i.jsx)(n.code,{children:"5222"})," ",(0,i.jsx)(n.strong,{children:"Target"}),"\xa0: ",(0,i.jsx)(n.code,{children:"your.domain.tld"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"r\xe9solution-dns-inverse",children:"R\xe9solution DNS inverse"}),"\n",(0,i.jsxs)(n.p,{children:["Si votre op\xe9rateur ou votre h\xe9bergeur le permet, nous vous encourageons \xe0\nconfigurer une ",(0,i.jsx)(n.a,{href:"https://fr.wikipedia.org/wiki/Domain_Name_System#R%C3%A9solution_inverse",children:"r\xe9solution DNS inverse"}),"\npour vos adresses publiques IPv4 et/ou IPv6. Ceci vous \xe9vitera d'\xeatre marqu\xe9\ncomme spammeur par les syst\xe8mes de filtrage anti-spams."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["N.B. : la configuration du DNS inverse se passe au niveau de votre fournisseur d'acc\xe8s \xe0 Internet, ou de votre h\xe9bergeur de VPS. Elle ne se fait ",(0,i.jsx)(n.em,{children:"pas"})," sur le registrar de votre nom de domaine."]})}),"\n",(0,i.jsxs)(n.p,{children:["Cela signifie que si votre adresse IPv4 publique est ",(0,i.jsx)(n.code,{children:"111.222.333.444"})," et que\nvotre nom de domaine est ",(0,i.jsx)(n.code,{children:"domain.tld"}),", vous devez obtenir le r\xe9sultat suivant\nen utilisant la commande ",(0,i.jsx)(n.code,{children:"nslookup"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"nslookup 111.222.333.444\n444.333.222.111.in-addr.arpa    name = domain.tld.\n"})}),"\n",(0,i.jsx)(n.p,{children:"Le syst\xe8me de diagnostic pr\xe9sent dans l'interface d'administration fait cette v\xe9rification automatiquement (dans la section Email)"}),"\n",(0,i.jsx)(n.h2,{id:"ip-dynamique",children:"IP dynamique"}),"\n",(0,i.jsxs)(n.p,{children:["Si votre adresse IP publique change constamment, suivez ce ",(0,i.jsx)(n.a,{href:"/admin/tutorials/domains/dns_dynamicip",children:"tutoriel"}),"."]})]})}function u(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},4429:function(e,n,s){s.d(n,{R:()=>o,x:()=>a});var r=s(6540);let i={},t=r.createContext(i);function o(e){let n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);