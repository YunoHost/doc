"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["2483"],{6443:function(e,s,n){n.r(s),n.d(s,{frontMatter:()=>i,toc:()=>d,default:()=>c,metadata:()=>r,assets:()=>u,contentTitle:()=>o});var r=JSON.parse('{"id":"admin/backups/evaluate","title":"Strat\xe9gies de sauvegarde","description":"Dans le contexte de l\'auto-h\xe9bergement, les sauvegardes (backups) sont un \xe9l\xe9ment important pour pallier les \xe9v\xe9nements inattendus (incendies, corruption de base de donn\xe9es, perte d\'acc\xe8s au serveur, serveur compromis...). La politique de sauvegardes \xe0 mettre en place d\xe9pend de l\'importance des services et des donn\xe9es que vous g\xe9rez. Par exemple, sauvegarder un serveur de test aura peu d\'int\xe9r\xeat, tandis que vous voudrez \xeatre tr\xe8s prudent\u22C5e si vous g\xe9rez des donn\xe9es critiques pour une association ou une entreprise - et dans ce genre de cas, vous souhaiterez stocker les sauvegardes dans un ou plusieurs endroits diff\xe9rents.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/admin/40.backups/05.evaluate.mdx","sourceDirName":"admin/40.backups","slug":"/admin/backups/evaluate","permalink":"/doc/pr-2704/fr/admin/backups/evaluate","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/fr/docusaurus-plugin-content-docs/current/admin/40.backups/05.evaluate.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Strat\xe9gies de sauvegarde"},"sidebar":"admin","previous":{"title":"\u{1F691} Sauvegardes","permalink":"/doc/pr-2704/fr/admin/backups/"},"next":{"title":"Backup methods","permalink":"/doc/pr-2704/fr/admin/backups/backup_methods"}}'),t=n(4848),a=n(4429);let i={title:"Strat\xe9gies de sauvegarde"},o,u={},d=[{value:"What is a good backup?",id:"what-is-a-good-backup",level:2},{value:"Quelques m\xe9thodes possibles",id:"quelques-m\xe9thodes-possibles",level:2},{value:"Risques",id:"risques",level:2},{value:"\xc0 propos de la synchronisation Nextcloud ou Thunderbird (IMAP)",id:"\xe0-propos-de-la-synchronisation-nextcloud-ou-thunderbird-imap",level:2}];function l(e){let s={a:"a",admonition:"admonition",em:"em",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:["Dans le contexte de l'auto-h\xe9bergement, les sauvegardes (backups) sont un \xe9l\xe9ment important pour pallier les \xe9v\xe9nements inattendus (incendies, corruption de base de donn\xe9es, perte d'acc\xe8s au serveur, serveur compromis...). La politique de sauvegardes \xe0 mettre en place d\xe9pend de l'importance des services et des donn\xe9es que vous g\xe9rez. Par exemple, sauvegarder un serveur de test aura peu d'int\xe9r\xeat, tandis que vous voudrez \xeatre tr\xe8s prudent\u22C5e si vous g\xe9rez des donn\xe9es critiques pour une association ou une entreprise - et dans ce genre de cas, vous souhaiterez stocker les sauvegardes ",(0,t.jsx)(s.em,{children:"dans un ou plusieurs endroits diff\xe9rents"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"what-is-a-good-backup",children:"What is a good backup?"}),"\n",(0,t.jsxs)(s.p,{children:["Une bonne sauvegarde est constitu\xe9e d'au moins ",(0,t.jsx)(s.strong,{children:"3 copies des donn\xe9es"})," (en comptant les donn\xe9es originales), sur au moins ",(0,t.jsx)(s.strong,{children:"2 stockages distincts"}),", dans au moins ",(0,t.jsx)(s.strong,{children:"2 lieux distincts"})," (suffisamment \xe9loign\xe9s) et id\xe9alement avec 2 m\xe9thodes distinctes. Si vos sauvegardes sont chiffr\xe9es ",(0,t.jsx)(s.strong,{children:"ces r\xe8gles s'appliquent aussi \xe0 la phrase/cl\xe9 de d\xe9chiffrement"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["Une bonne sauvegarde est aussi dans de nombreux cas, une sauvegarde r\xe9cente, il faut donc soit beaucoup de rigueur, soit ",(0,t.jsx)(s.strong,{children:"automatiser"})," le processus."]}),"\n",(0,t.jsx)(s.p,{children:"Une bonne sauvegarde est v\xe9rifi\xe9e r\xe9guli\xe8rement afin de s'assurer de l'effectivit\xe9 et de l'int\xe9grit\xe9 des donn\xe9es."}),"\n",(0,t.jsxs)(s.p,{children:["Enfin, une bonne sauvegarde est une sauvegarde ",(0,t.jsx)(s.strong,{children:"restaurable dans des d\xe9lais acceptables"})," pour vous. Pensez notamment \xe0 documenter votre m\xe9thode de restauration et \xe0 estimer le temps de transfert d'une copie notamment si les connexions internet en jeu ne sont pas sym\xe9triques."]}),"\n",(0,t.jsxs)(s.admonition,{type:"info",children:[(0,t.jsxs)(s.p,{children:["Exemple d'",(0,t.jsx)(s.strong,{children:"une combinaison"})," robuste et comfortable:"]}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"une sauvegarde distante et automatique avec borg"}),"\n",(0,t.jsx)(s.li,{children:"une sauvegarde sur disque externe et automatique avec borg"}),"\n",(0,t.jsx)(s.li,{children:"un snapshot/image r\xe9gulier (et avant les mises \xe0 jour)"}),"\n",(0,t.jsx)(s.li,{children:"une grappe RAID 1 monitor\xe9e (ou un VPS du commerce qui sera aussi sur une grappe)"}),"\n",(0,t.jsx)(s.li,{children:"une passphrase de d\xe9chiffrement stock\xe9e sur 3 supports dans 2 lieux"}),"\n"]})]}),"\n",(0,t.jsx)(s.h2,{id:"quelques-m\xe9thodes-possibles",children:"Quelques m\xe9thodes possibles"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"/admin/backups",children:"generate an archive and download it manually (default method of YunoHost)"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"/admin/backups/backup_methods",children:"backup automatically (recommended method)"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"/admin/tutorials/external_storage",children:"generate an archive directly on another disk"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"/admin/backups/clone_filesystem",children:"make a disk image or snapshot"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"/admin/backups/custom_backup_methods",children:"save useful data via a custom method"})}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"risques",children:"Risques"}),"\n",(0,t.jsx)(s.p,{children:"Ci-dessous, une liste de risques tri\xe9s du plus au moins probable, dont la probabilit\xe9 reste \xe0 adapter selon votre situation (lieu du serveur, qualit\xe9 des installations, profils d'usagers, etc.). \xc0 vous de mettre le curseur l\xe0 o\xf9 il faut, notamment en consid\xe9rant les cons\xe9quences d'une perte de donn\xe9es."}),"\n",(0,t.jsx)(s.admonition,{type:"caution",children:(0,t.jsx)(s.p,{children:"Gardez en t\xeate que les vrais accidents sont li\xe9s \xe0 la survenue de 2 \xe9v\xe9nements de fa\xe7on simultan\xe9e."})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Lack of rigor"}),": strategies based on manual backups require a lot of rigor in the regularity"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Bad handling"}),": it can happen that a backup is erased by mistake during a restoration or if you rely on a synchronization system, you could delete a file and the deletion would be synchronized instantly"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Cryptolocker"}),": this is a virus that encrypts files and demands a ransomware. If your users are using nextcloud and windows, an infected windows could synchronize encrypted files and thus you lose your copy."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Hardware failure"}),": SD cards are the least reliable media over time (~2 years of life in a server), followed by SSD disks (about 3 years of life) and hard drives (3 years). Note that a new equipment has also probability to break down during the first 6 months. In all cases, your copies should not be on the same physical media."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Software failure/bug"}),": a software bug may result in data deletion or you may not know how to fix a problem and want to restore your system."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Electricity or internet failure"}),": do you have a plan if this happens? What if you are on vacation?"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Disaster or natural or unnatural event"}),": a small child, a cat, lightning or a simple leak can destroy your equipment. Fires or floods can also destroy your backup copy at the other end of your home..."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Server compromise"}),": a malicious person or a robot could attack your server and delete your data"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Machine theft"}),": a burglary or theft of a computer on which your password manager is located to decrypt your backups"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Search"}),": whether you are guilty or not, a search can result in the seizure of the entire computer equipment of a place (or even several)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Death/health problem"}),": you may not be able to type your passphrase anymore"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"\xe0-propos-de-la-synchronisation-nextcloud-ou-thunderbird-imap",children:"\xc0 propos de la synchronisation Nextcloud ou Thunderbird (IMAP)"}),"\n",(0,t.jsx)(s.p,{children:"Une m\xe9thode qui permet une sauvegarde partielle consiste \xe0 sauvegarder les fichiers et les emails via des logiciels de synchronisation comme Nextcloud client ou ThunderBird. De cette fa\xe7on, vous \xe9vitez le risque de panne mat\xe9rielle."}),"\n",(0,t.jsxs)(s.p,{children:["Si cette m\xe9thode est simple \xe0 mettre en place, elle n'est pas sans risque du fait de la synchronisation elle-m\xeame. Par exemple, si vous \xeates sur windows ou mac, vous augmentez de fa\xe7on non n\xe9gligeable le risque de perte de donn\xe9es suite au chiffrement des fichiers par un virus de type ",(0,t.jsx)(s.a,{href:"https://fr.wikipedia.org/wiki/Ran%C3%A7ongiciel",children:"cryptolocker"}),". Sur tout type de syst\xe8me, une fausse manipulation peut supprimer l'ensemble de vos copies sur le serveur et sur les \xe9quipements qui synchronisent. Ce souci est aggrav\xe9 par le fait que la synchronisation de suppression est en g\xe9n\xe9ral plut\xf4t instantan\xe9e."]}),"\n",(0,t.jsx)(s.p,{children:"Si le risque de fausse manipulation peut \xeatre att\xe9nu\xe9 via des logiciels de sauvegarde pour PC de bureau comme TimeShift, seule une sauvegarde sur un disque dur externe d\xe9connect\xe9 vous prot\xe8ge vraiment des ran\xe7ongiciels."})]})}function c(e={}){let{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},4429:function(e,s,n){n.d(s,{R:()=>i,x:()=>o});var r=n(6540);let t={},a=r.createContext(t);function i(e){let s=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);