"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["1110"],{5218:function(e,r,t){t.r(r),t.d(r,{frontMatter:()=>i,toc:()=>l,default:()=>c,metadata:()=>s,assets:()=>a,contentTitle:()=>d});var s=JSON.parse('{"id":"admin/get_started/post_install/port_forwarding","title":"Configurer la redirection des ports","description":"Rendre accessible son serveur depuis l\'ext\xe9rieur","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/admin/05.get_started/40.post_install/15.port_forwarding.mdx","sourceDirName":"admin/05.get_started/40.post_install","slug":"/admin/get_started/post_install/port_forwarding","permalink":"/doc/pr-2704/fr/admin/get_started/post_install/port_forwarding","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/fr/docusaurus-plugin-content-docs/current/admin/05.get_started/40.post_install/15.port_forwarding.mdx","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"description":"Rendre accessible son serveur depuis l\'ext\xe9rieur","title":"Configurer la redirection des ports"},"sidebar":"admin","previous":{"title":"Trouver l\u2019IP locale de son serveur","permalink":"/doc/pr-2704/fr/admin/get_started/post_install/find_ip"},"next":{"title":"Configuration de la zone DNS","permalink":"/doc/pr-2704/fr/admin/get_started/post_install/dns_config"}}'),n=t(4848),o=t(4429);let i={description:"Rendre accessible son serveur depuis l'ext\xe9rieur",title:"Configurer la redirection des ports"},d,a={},l=[{value:"0. Diagnostiquer les ports ouverts",id:"0-diagnostiquer-les-ports-ouverts",level:3},{value:"1. Acc\xe9der \xe0 l&#39;interface d&#39;administration de votre box/routeur",id:"1-acc\xe9der-\xe0-linterface-dadministration-de-votre-boxrouteur",level:3},{value:"2. Trouver l&#39;IP locale de votre serveur",id:"2-trouver-lip-locale-de-votre-serveur",level:3},{value:"3. Rediriger les ports",id:"3-rediriger-les-ports",level:3}];function u(e){let r={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,o.R)(),...e.components},{FAIcon:t,Figure:s}=r;return t||p("FAIcon",!0),s||p("Figure",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:"Si vous vous auto-h\xe9bergez \xe0 la maison et sans VPN, il vous faut rediriger les ports de votre routeur (\"machin-box\") si vous souhaitez que votre serveur puisse \xeatre contact\xe9 depuis l'ext\xe9rieur de votre r\xe9seau local. Le sch\xe9ma ci-dessous tente d'expliquer bri\xe8vement le r\xf4le de la redirection des ports lors de la mise en place d'un serveur \xe0 la maison."}),"\n",(0,n.jsx)(s,{caption:"Illustration de l\u2019importance de la redirection des ports",src:"/img/portForwarding_en.png"}),"\n",(0,n.jsx)(r.h3,{id:"0-diagnostiquer-les-ports-ouverts",children:"0. Diagnostiquer les ports ouverts"}),"\n",(0,n.jsx)(r.p,{children:"L'outil de diagnostic peut \xeatre utilis\xe9 pour v\xe9rifier que tous les ports n\xe9cessaires sont expos\xe9s sur Internet."}),"\n",(0,n.jsx)(r.h3,{id:"1-acc\xe9der-\xe0-linterface-dadministration-de-votre-boxrouteur",children:"1. Acc\xe9der \xe0 l'interface d'administration de votre box/routeur"}),"\n",(0,n.jsxs)(r.p,{children:["L'interface d'administration est g\xe9n\xe9ralement accessible via ",(0,n.jsx)(r.a,{href:"http://192.168.0.1",children:"http://192.168.0.1"})," ou ",(0,n.jsx)(r.a,{href:"http://192.168.1.1",children:"http://192.168.1.1"}),".\nEnsuite, il vous faudra peut-\xeatre vous authentifier avec les identifiants\nfournis par votre fournisseur d'acc\xe8s \xe0 Internet (FAI)."]}),"\n",(0,n.jsx)(r.h3,{id:"2-trouver-lip-locale-de-votre-serveur",children:"2. Trouver l'IP locale de votre serveur"}),"\n",(0,n.jsxs)(r.p,{children:["Identifiez quelle est l'IP locale de votre serveur en utilisant l'une des m\xe9thodes list\xe9es sur ",(0,n.jsx)(r.a,{href:"/admin/get_started/post_install/find_ip",children:"la page correspondante"}),"."]}),"\n",(0,n.jsxs)(r.p,{children:["Une adresse IP locale ressemble g\xe9n\xe9ralement \xe0 ",(0,n.jsx)(r.code,{children:"192.168.xx.yy"}),", ou ",(0,n.jsx)(r.code,{children:"10.0.xx.yy"}),"."]}),"\n",(0,n.jsx)(r.p,{children:"The local IP address needs to be static, so that the port forwards that you are going to configure in the next step will always reach your server. You should go into your box/router and make sure that the local IP address of your server is static instead of dynamic."}),"\n",(0,n.jsx)(r.h3,{id:"3-rediriger-les-ports",children:"3. Rediriger les ports"}),"\n",(0,n.jsx)(r.p,{children:'Dans l\'interface d\'administration de votre box/routeur, il vous faut trouver une cat\xe9gorie comme "Configuration du routeur", ou "Redirections de ports". Le nom diff\xe8re suivant le type / marque de la box.'}),"\n",(0,n.jsx)(r.p,{children:"Il vous faut ensuite rediriger chacun des ports list\xe9s ci-dessous vers l'IP locale de votre serveur pour que les diff\xe9rents services de YunoHost fonctionnent. Pour chacun d'eux, une redirection 'TCP' est n\xe9cessaire. Certaines interfaces font r\xe9f\xe9rence \xe0 un port \xab externe \xbb et un port \xab interne \xbb : dans notre cas il s'agit du m\xeame."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["Web: ",(0,n.jsx)(r.code,{children:"80"})," ",(0,n.jsx)("small",{children:"(HTTP)"}),", ",(0,n.jsx)(r.code,{children:"443"})," ",(0,n.jsx)("small",{children:"(HTTPS)"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"/admin/command_line",children:"SSH"}),": ",(0,n.jsx)(r.code,{children:"22"})]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"/admin/email",children:"Email"}),": ",(0,n.jsx)(r.code,{children:"25"}),", ",(0,n.jsx)(r.code,{children:"587"})," ",(0,n.jsx)("small",{children:"(SMTP)"}),", ",(0,n.jsx)(r.code,{children:"993"})," ",(0,n.jsx)("small",{children:"(IMAP)"})]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"If you use both a modem and a router, then you need to do the following:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"first on the modem (the box closest to the internet) create rules to forward the above ports to your router;"}),"\n",(0,n.jsx)(r.li,{children:"then on the router (the box between the modem and your devices) create rules to forward the above ports to the static IP address for your server."}),"\n"]}),"\n",(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(t,{icon:"fa-exclamation-triangle"})," Certains fournisseurs d'acc\xe8s \xe0 Internet bloquent le port 25 (mail SMTP) par d\xe9faut pour combattre le spam. Le port 25 est pourtant n\xe9cessaire si vous souhaitez que votre serveur puisse envoyer de emails. Dans certains cas extr\xeame , votre FAI peut m\xeame ne pas vous laisser utiliser librement les port 80/443 (web). En fonction de votre FAI, il peut \xeatre possible d'ouvrir ces ports dans l'interface... Voir ",(0,n.jsx)(r.a,{href:"/admin/get_started/providers/isp/",children:"cette page"})," pour plus d'informations."]})})]})}function c(e={}){let{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}function p(e,r){throw Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},4429:function(e,r,t){t.d(r,{R:()=>i,x:()=>d});var s=t(6540);let n={},o=s.createContext(n);function i(e){let r=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(o.Provider,{value:r},e.children)}}}]);