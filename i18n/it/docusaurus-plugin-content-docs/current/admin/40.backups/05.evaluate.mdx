---
title: 'Strategie di backup'
---

In un contesto di self hosting le strategie di backup sono un fattore chiave per sopperire ad eventi inattesi (incendio, corruzione del database, impossibilità di accedere al server, compromissione del server...). La tipologia di backup da adottare dipende dalla importanza dei dati e dei servizi che vogliamo proteggere. Ad esempio, nel contesto di un server di test possiamo evitare un backup integrale (dati e sistema operativo), al contrario, dovremo porre molta più attenzione nel caso di un server in produzione che contenga dati importanti. In questo caso è necessario conservare più copie di backup *in posti diversi*.

## Ottimizzare il backup

Un buon backuo consiste in almeno **tre copie dei dati** (compreso l'originale), salvate su almeno **due supporti distinti** che si trovano a loro volta **in due luoghi distinti** (sufficientemente lontani tra loro) e con due diversi sistemi di stoccaggio. Se il vostro backup è cifrato **questa regola aurea si applica anche alla password o frase di decifrazione**.

Un buon backup deve anche essere recente, dovrete quindi essere molto precisi e quando possibile **automatizzare il processo**.

Controllate sempre l'integrità del file di backup.

Per ultimo, un buon backup **deve essere facilmente e velocemente accessibile**. Ricorda di documentare il metodo di recupero e di controllare la velocità delle connessioni in download specialmente se la connessione Internet non è simmetrica.

:::info
Esempi di **backup sicuro e facilmente recuperabile**.

- backup remoto e automatizzato con borg
- backup automatizzato su unità locale esterna con borg
- snapshot o immagine (eseguiti prima di ogni aggiornamento)
- server monitorato con RAID 1 (o una VPS commerciale che può essere su un array)
- password di decifratura salvata su (tre supporti e due luoghi diversi)
:::

## Alcuni esempi di esecuzione del backup

- [generate an archive and download it manually (default method of YunoHost)](/admin/backups)
- [backup automatically (recommended method)](/admin/backups/backup_methods)
- [generate an archive directly on another disk](/admin/tutorials/external_storage)
- [make a disk image or snapshot](/admin/backups/clone_filesystem)
- [save useful data via a custom method](/admin/backups/custom_backup_methods)

## Rischi

Di seguito un elenco di errori in ordine crescente di pericolosità. L'ordine proposto varia in base alla vostra situazione (tipo di server, complessità dell'installazione, permessi degli utenti), ponete attenzione alla vostra configurazione, avendo ben presenti le conseguenze di una possibile perdita dei dati.

:::caution
Tenete presente che i rischi reali sono collegati all'evenienza di 2 eventi contemporanei
:::

- **Lack of rigor**: strategies based on manual backups require a lot of rigor in the regularity
- **Bad handling**: it can happen that a backup is erased by mistake during a restoration or if you rely on a synchronization system, you could delete a file and the deletion would be synchronized instantly
- **Cryptolocker**: this is a virus that encrypts files and demands a ransomware. If your users are using nextcloud and windows, an infected windows could synchronize encrypted files and thus you lose your copy.
- **Hardware failure**: SD cards are the least reliable media over time (~2 years of life in a server), followed by SSD disks (about 3 years of life) and hard drives (3 years). Note that a new equipment has also probability to break down during the first 6 months. In all cases, your copies should not be on the same physical media.
- **Software failure/bug**: a software bug may result in data deletion or you may not know how to fix a problem and want to restore your system.
- **Electricity or internet failure**: do you have a plan if this happens? What if you are on vacation?
- **Disaster or natural or unnatural event**: a small child, a cat, lightning or a simple leak can destroy your equipment. Fires or floods can also destroy your backup copy at the other end of your home...
- **Server compromise**: a malicious person or a robot could attack your server and delete your data
- **Machine theft**: a burglary or theft of a computer on which your password manager is located to decrypt your backups
- **Search**: whether you are guilty or not, a search can result in the seizure of the entire computer equipment of a place (or even several)
- **Death/health problem**: you may not be able to type your passphrase anymore

## Qualche info sulla sincronizzazione Nextcloud o Thunderbird (IMAP)

Un metodo per un parziale backup consiste nello salvare i file e le mail tramite dei programmi di sincronizzazione quali Nextcloud o Thunderbird. In questo modo eviterete le perdite dovute ad un guasto fisico.

La semplicità di tale operazione comporta qualche rischio intrinseco nella natura stessa del metodo, sopratutto se usato in ambiente mac o windows. Un [crytolocker](https://en.wikipedia.org/wiki/Ransomware) sul vostro pc porterebbe come conseguenza la perdita dei file sul server nextcloud, così come una involontaria cancellazione del file sul pc. Normalmente la sincronizzazione tra il pc e il server nextcloud è istantanea e quindi i danni sono irreparabili.

Anche se il rischio di evento del genere può essere attenuato con programmi quali Timeshift, solo il backup su un supporto non connesso vi proteggerà dai crytolocker.
