---
title: 'Evitare i problemi hardware'
---

## Rendere sicuro fisicamente il tuo server

Frequentemente la persone che fanno selfhosting non dispongono di spazi adatti per posizionare il proprio server. Posizionare il server, o parti di esso, in un luogo di passaggio, accessibile a bambini o animali, o in un luogo poco ventilato, può avere conseguenze catastrofiche.

## Fissate i vostri HD

Sarebbe opportuno fissare saldamente i propri hard disk al fine di evitare vibrazioni che provocano usura prematura del disco, o ne pregiudicano le performance, in particolar modo se si trovano vicini ad altri dischi.

## Ridurre lo swapiness nelle schede SD e nei dischi SSD

Se utilizzate un file di swap, in un disco SSD o in una scheda SD, con uno swapiness troppo elevato correte il serio rischio di usurare prematuramente il vostro supporto a causa di un numero eccessivo di scritture sul disco.

Per evitare il problema

```bash
cat /proc/sys/vm/swappiness
```

Se il comando restituisce un valore superiore a 10:

```bash
sysctl vm.swappiness=10
nano /etc/sysctl.conf
```

Se la riga è presente, cambiate il valore vm.swappiness con 10. In caso contrario aggiungete la riga:

```text
vm.swappiness = 10
```

## Ridondanza dei supporti

Al fine di limitare i guasti dei supporti si dovrebbe ricorrere ad un cluster di dischi in modalità mirror (RAID, ZFS). Il concetto è che tutto quello che verrà scritto su un disco verrà scritto anche negli altri. In questo modo se un disco subisce un guasto, gli altri garantiranno la funzionalità del server.

Altre configurazioni più evolute, migliorano la tolleranza ai guasti (guasto di 2 dischi nel RAID6) o la suddivisione dei dati (RAID 5).

Comunque i sistemi RAID non vanno considerati come metodi di backup. Un RAID deve essere considerato un normale supporto dei dati. Se questo sistema permette di evitare reinstallazioni in caso di guasto ad un disco, esso non ci garantisce che i nostri dati non correranno nessun rischio.

Alcune situazioni ben conosciute dagli amministratori di sistema.

- the disks of a cluster mounted with disks of the same brand can fail almost at the same time within a few hours
- without monitoring the health of the disks, there is a good chance that the failure of one disk in the cluster will only be noticed when a second one fails (\>\<)
- if you don't have a spare disk, the delay in purchasing one may result in the other disk crashing
- a half-functional disk that produces errors can propagate its error through the cluster
- the disk connectors or the RAID controller can also produce errors or fail
- the more complex you make the architecture with many components, the more likely it is that one of them will fail

:::info
Se pianificate di creare una catena RAID o utilizzare il filesystem btrfs, la procedura più semplice è quella di installare YunoHost in modalità esperto (nella parte relativa alle partizioni del disco).
:::
