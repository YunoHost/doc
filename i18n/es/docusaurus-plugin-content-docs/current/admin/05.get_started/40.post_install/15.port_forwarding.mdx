---
title: Configure port-forwarding
description: "Make your server accessible from outside your home"
---

Si te estás auto-alojando en casa y sin VPN, tienes que redirigirse los puertos de tu router (caja/box). El esquema aquí abajo intenta explicar brevemente el rol de la redirección de los puertos durante la instalación de un servidor en tu casa. [Esta página](https://www.testdevelocidad.es/configuraciones/abrir-correctamente-los-puertos-router/) también propone explicaciones detalladas sobre el funcionamiento de los puertos, y las etapas de configuración para un router genérico.

<Figure caption="Illustration of the importance of port-forwarding" src="/img/portForwarding_en.png" />

### 0. Diagnosticar los puertos abiertos

The new diagnosis tool introduced in 3.8 can be used to diagnose that ports are correctly exposed.

### 1. Acceder a la interfaz de administración de tu router/caja/box

En general la interfaz de administración está accesible desde [http://192.168.0.1](http://192.168.0.1) o [http://192.168.1.1](http://192.168.1.1). Luego, es posible que tengas que autenticarte con los ID provechos pour tu proveedor de acceso a Internet.

### 2. Descubrir la IP local del servidor

Identify the *local* IP of your server using one of the method listed [on the corresponding page](/admin/get_started/post_install/find_ip).

En general una dirección IP local se parece a `192.168.xx.yy`, o `10.0.xx.yy`.

The local IP address needs to be static, so that the port forwards that you are going to configure in the next step will always reach your server. You should go into your box/router and make sure that the local IP address of your server is static instead of dynamic.

### 3. Redirigir los puertos

En la interfaz de administración de tu router/caja/box, tienes que encontrar una categoría que debe llamarse 'Configuración del router', o 'Redirección de puertos'. El nombre difiere según el tipo o la marca del router / de la caja Internet...

Luego tienes que redirigir cada uno de los puertos listados a continuación hacia la IP local de tu router para que los varios servicios de YunoHost funcionen. Para cada uno de ellos, una redirección 'TCP' es necesaria. En algunas interfaces, tal vez encontrarás referencias a un puerto 'externo' y un puerto 'interno' : en nuestro caso, se trata del mismo número de puerto, que sea interno o externo.

- Web: `80` <small>(HTTP)</small>, `443` <small>(HTTPS)</small>
- [SSH](/admin/command_line): `22`
- [XMPP](https://wikipedia.org/wiki/XMPP): `5222` <small>(clients)</small>, `5269` <small>(servers)</small>
- [Email](/admin/email): `25`, `587` <small>(SMTP)</small>, `993` <small>(IMAP)</small>

If you use both a modem and a router, then you need to do the following:

1. first on the modem (the box closest to the internet) create rules to forward the above ports to your router;
2. then on the router (the box between the modem and your devices) create rules to forward the above ports to the static IP address for your server.

:::warning
<FAIcon icon="fa-exclamation-triangle"/> Algunos proveedores de acceso a Internet bloquean el puerto 25 (mail SMTP) por defecto para luchar con el spam. Otros (más escasos) no permiten utilizar libremente los puertos 80/443. Dependiendo de tu proveedor, puede ser posible de abrir estos puertos en la interfaz... Ver [esta página](/admin/get_started/providers/isp/) por más informaciones.
:::

## Redirección automática / UPnP

Una tecnología llamada UPnP está disponible en algunos routers/cajas/box y permite redirigir automáticamente puertos hacia una máquina que lo pide. Si UPnP está activado en tu casa, ejecutar este comando debería automáticamente redirigir los puertos correctos :

```bash
sudo yunohost firewall reload
```
