"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["9517"],{3831:function(e,o,i){i.r(o),i.d(o,{frontMatter:()=>a,toc:()=>d,default:()=>u,metadata:()=>n,assets:()=>l,contentTitle:()=>t});var n=JSON.parse('{"id":"admin/troubleshooting/noaccess","title":"Riottenere l\'accesso a YunoHost","description":"Ci possono essere diverse ragioni che possono portare al blocco parziale o totale degli accessi a amministratore ad un server YunoHost. Spesso per\xf2 se un metodo di accesso \xe8 bloccato altri sono possibili.","source":"@site/i18n/it/docusaurus-plugin-content-docs/current/admin/50.troubleshooting/15.noaccess.mdx","sourceDirName":"admin/50.troubleshooting","slug":"/admin/troubleshooting/noaccess","permalink":"/doc/pr-2672/it/admin/troubleshooting/noaccess","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/it/docusaurus-plugin-content-docs/current/admin/50.troubleshooting/15.noaccess.mdx","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"title":"Riottenere l\'accesso a YunoHost"},"sidebar":"admin","previous":{"title":"Cambiare la password dell\'amministratore","permalink":"/doc/pr-2672/it/admin/troubleshooting/change_admin_password"},"next":{"title":"Impostare IPv6","permalink":"/doc/pr-2672/it/admin/troubleshooting/ipv6"}}'),r=i(4848),s=i(4429);let a={title:"Riottenere l'accesso a YunoHost"},t,l={},d=[{value:"Hai l&#39;accesso al server usando l&#39;indirizzo IP locale ma non dal nome di dominio",id:"hai-laccesso-al-server-usando-lindirizzo-ip-locale-ma-non-dal-nome-di-dominio",level:2},{value:"Se il server \xe8 self-hosted a casa: controlla il port forwarding",id:"se-il-server-\xe8-self-hosted-a-casa-controlla-il-port-forwarding",level:3},{value:"Configura i record DNS",id:"configura-i-record-dns",level:3},{value:"Altre probabili cause",id:"altre-probabili-cause",level:3},{value:"Stai ricevendo un errore sul certificato che non ti permette di raggiungere la pagina di amministrazione",id:"stai-ricevendo-un-errore-sul-certificato-che-non-ti-permette-di-raggiungere-la-pagina-di-amministrazione",level:2},{value:"Puoi accedere via SSH ma non dalla pagina di amministrazione o l&#39;inverso",id:"puoi-accedere-via-ssh-ma-non-dalla-pagina-di-amministrazione-o-linverso",level:2},{value:"Stai provando a loggarti via SSH come <code>root</code> invece che con l&#39;utente <code>admin</code>",id:"stai-provando-a-loggarti-via-ssh-come-root-invece-che-con-lutente-admin",level:3},{value:"Sei stato bannato temporaneamente",id:"sei-stato-bannato-temporaneamente",level:3},{value:"Il server web NGINX non funziona",id:"il-server-web-nginx-non-funziona",level:3},{value:"Your server is reachable by IPv6, but not IPv4, or inversely",id:"your-server-is-reachable-by-ipv6-but-not-ipv4-or-inversely",level:3},{value:"Webadmin is working, but some web apps are returning 502 errors",id:"webadmin-is-working-but-some-web-apps-are-returning-502-errors",level:2},{value:"You have lost your admin password, or the password is seemingly wrong",id:"you-have-lost-your-admin-password-or-the-password-is-seemingly-wrong",level:2},{value:"Your VPN expired or does not connect any more",id:"your-vpn-expired-or-does-not-connect-any-more",level:2},{value:"Your server does not boot",id:"your-server-does-not-boot",level:2},{value:"VNC or screen access does not work",id:"vnc-or-screen-access-does-not-work",level:2}];function c(e){let o={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.p,{children:"Ci possono essere diverse ragioni che possono portare al blocco parziale o totale degli accessi a amministratore ad un server YunoHost. Spesso per\xf2 se un metodo di accesso \xe8 bloccato altri sono possibili."}),"\n",(0,r.jsx)(o.p,{children:"Questa pagina cercher\xe0 di trovare il problema, riottenere l'accesso ed eventualmente riparare il vostro sistema. Le cause pi\xf9 comuni sono all'inizio per cui siete invitati a seguire questo tutorial dall'inizio."}),"\n",(0,r.jsx)(o.h2,{id:"hai-laccesso-al-server-usando-lindirizzo-ip-locale-ma-non-dal-nome-di-dominio",children:"Hai l'accesso al server usando l'indirizzo IP locale ma non dal nome di dominio"}),"\n",(0,r.jsx)(o.h3,{id:"se-il-server-\xe8-self-hosted-a-casa-controlla-il-port-forwarding",children:"Se il server \xe8 self-hosted a casa: controlla il port forwarding"}),"\n",(0,r.jsxs)(o.p,{children:["Controlla di riuscire ad accedere al server usando l'IP pubblico (lo puoi trovare su ",(0,r.jsx)(o.a,{href:"https://ip.yunohost.org",children:"https://ip.yunohost.org"}),"). Se questo non funziona:"]}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["Assicurati di aver ",(0,r.jsx)(o.a,{href:"/admin/get_started/post_install/port_forwarding",children:"impostato il forwarding"}),"."]}),"\n",(0,r.jsxs)(o.li,{children:["Alcuni ISP non supportano l'",(0,r.jsx)(o.em,{children:"hairpinning"}),", cosa che ti impedir\xe0 di raggiungere il tuo server dal nome di dominio dalla rete locale. Nel caso puoi usare una connessione cellulare o modificare il file ",(0,r.jsx)(o.code,{children:"hosts"})," del tuo computer in modo da associare il nome di dominio all'indirizzo IP locale invece che a quello pubblico."]}),"\n"]}),"\n",(0,r.jsx)(o.h3,{id:"configura-i-record-dns",children:"Configura i record DNS"}),"\n",(0,r.jsx)(o.admonition,{type:"tip",children:(0,r.jsxs)(o.p,{children:["Questo non \xe8 un problema se stai usando un dominio fornito da ",(0,r.jsx)(o.code,{children:"nohost.me"}),", ",(0,r.jsx)(o.code,{children:"noho.st"})," or ",(0,r.jsx)(o.code,{children:"ynh.fr"})]})}),"\n",(0,r.jsxs)(o.p,{children:["Devi configurare i tuoi ",(0,r.jsx)(o.a,{href:"/admin/get_started/post_install/dns_config",children:"record DNS"})," (come minimo i record ",(0,r.jsx)(o.code,{children:"A"})," e ",(0,r.jsx)(o.code,{children:"AAAA"})," se usi una connessione IPv6)."]}),"\n",(0,r.jsxs)(o.p,{children:["Puoi verificare la correttezza dei record DNS confrontando i risultati dati da ",(0,r.jsx)(o.a,{href:"https://www.whatsmydns.net/",children:"questo servizio"})," con l'",(0,r.jsx)(o.a,{href:"https://ip.yunohost.org",children:"IP restituito dal nostro servizio"}),"."]}),"\n",(0,r.jsx)(o.h3,{id:"altre-probabili-cause",children:"Altre probabili cause"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["Il tuo dominio ",(0,r.jsx)(o.code,{children:"noho.st"}),", ",(0,r.jsx)(o.code,{children:"nohost.me"})," o ",(0,r.jsx)(o.code,{children:"ynh.fr"})," non \xe8 raggiungibile a causa di un problema nell'infrastruttura di YunoHost. Controlla il ",(0,r.jsx)(o.a,{href:"https://forum.yunohost.org/",children:"forum"})," per annunci o post di persone relativi allo stesso problema."]}),"\n",(0,r.jsxs)(o.li,{children:["Il tuo nome di dominio potrebbe essere scaduto. Controlla la pagina del registrar usato per la registrazione oppure usa il comando ",(0,r.jsx)(o.code,{children:"whois yourdomain.tld"}),"."]}),"\n",(0,r.jsxs)(o.li,{children:["Stai usando un indirizzo IP dinamico. In questo caso \xe8 necessario impostare uno script o usare un client appositi per aggiornare con regolarit\xe0 questo indirizzo. Leggi la pagina ",(0,r.jsx)(o.a,{href:"/admin/tutorials/domains/dns_dynamicip",children:"DNS with a dynamic IP"})," per vedere come. Puoi usare anche un dominio ",(0,r.jsx)(o.code,{children:"nohost.me"}),", ",(0,r.jsx)(o.code,{children:"noho.st"})," o ",(0,r.jsx)(o.code,{children:"ynh.fr"})," che comprende queste opzioni."]}),"\n"]}),"\n",(0,r.jsx)(o.h2,{id:"stai-ricevendo-un-errore-sul-certificato-che-non-ti-permette-di-raggiungere-la-pagina-di-amministrazione",children:"Stai ricevendo un errore sul certificato che non ti permette di raggiungere la pagina di amministrazione"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsx)(o.p,{children:"Un errore sul certificato pu\xf2 essere visualizzato nel caso in cui hai scritto male l'indirizzo nella barra del browser."}),"\n"]}),"\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsxs)(o.p,{children:["Sei hai appena installato il tuo server o un nuovo dominio stai usando un certificato auto-firmato. In questo caso \xe8 possibile e comprensibile aggiungere una eccezione di sicurezza ",(0,r.jsx)(o.em,{children:"temporanea"})," in modo che sia possibile ",(0,r.jsx)(o.a,{href:"/admin/domains/certificate",children:"installare un certificato Let's Encrypt"}),", ammesso che tu abbian una connessione Internet sicura."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(o.h2,{id:"puoi-accedere-via-ssh-ma-non-dalla-pagina-di-amministrazione-o-linverso",children:"Puoi accedere via SSH ma non dalla pagina di amministrazione o l'inverso"}),"\n",(0,r.jsxs)(o.h3,{id:"stai-provando-a-loggarti-via-ssh-come-root-invece-che-con-lutente-admin",children:["Stai provando a loggarti via SSH come ",(0,r.jsx)(o.code,{children:"root"})," invece che con l'utente ",(0,r.jsx)(o.code,{children:"admin"})]}),"\n",(0,r.jsxs)(o.p,{children:["Di default \xe8 possibile loggarsi via SSH solo come ",(0,r.jsx)(o.code,{children:"admin"}),". \xc8 possibile loggarsi come ",(0,r.jsx)(o.code,{children:"root"})," ",(0,r.jsx)(o.em,{children:"solo dall'interno della rete locale del server"}),". Se il server \xe8 su una VPS la console web o VNC fornita dal provider DPS dovrebbe funzionare."]}),"\n",(0,r.jsxs)(o.p,{children:["Se stai provando ad avviare i comandi ",(0,r.jsx)(o.code,{children:"yunohost"})," dalla riga di comando come ",(0,r.jsx)(o.code,{children:"admin"})," \xe8 necessario avviarlo preceduto dal comando ",(0,r.jsx)(o.code,{children:"sudo"})," (ad esempio ",(0,r.jsx)(o.code,{children:"sudo yunohost user list"}),"). \xc8 possibile diventare ",(0,r.jsx)(o.code,{children:"root"})," anche con il comando ",(0,r.jsx)(o.code,{children:"sudo su"}),"."]}),"\n",(0,r.jsx)(o.h3,{id:"sei-stato-bannato-temporaneamente",children:"Sei stato bannato temporaneamente"}),"\n",(0,r.jsx)(o.p,{children:"Il tuo server YunoHost include il servizio Fail2Ban che banna automaticamente gli indirizzi IP che falliscono pi\xf9 volte di seguito. In alcuni casi possono essere programmi configurati con password vecchie (ad esempio client Nextcloud) oppure un utente che ha il tuo stesso IP."}),"\n",(0,r.jsx)(o.p,{children:"Se sei stato bannato provando ad accedere ad una pagina web sar\xe0 irraggiungibile solo questa e potrai collegarti al tuo server via SSH. Viceversa se sei stato bannati da SSH la pagina di amministrazione funzioner\xe0."}),"\n",(0,r.jsx)(o.p,{children:"Se sei stato bannato sia da SSH che dalla pagina di amministrazione puoi provare a raggiungere il tuo server attraverso un altro indirizzo IP. Ad esempio puoi provare a collegarti usando la connessione cellulare del tuo telefono, attraverso una VPN, Tor o un altro proxy."}),"\n",(0,r.jsxs)(o.p,{children:["Vedi anche: ",(0,r.jsx)(o.a,{href:"/admin/troubleshooting/fail2ban",children:"togliere il ban ad un indirizzo"})]}),"\n",(0,r.jsx)(o.admonition,{type:"note",children:(0,r.jsx)(o.p,{children:"I ban normalmente durano dai 0 ai 12 minuti e solo su IPv4."})}),"\n",(0,r.jsx)(o.h3,{id:"il-server-web-nginx-non-funziona",children:"Il server web NGINX non funziona"}),"\n",(0,r.jsxs)(o.p,{children:["Maybe the NGINX web server is out of order. You can check that ",(0,r.jsx)(o.a,{href:"/admin/command_line",children:"trough SSH"})," with the command ",(0,r.jsx)(o.code,{children:"yunohost service status nginx"}),". If it is failing, check that its configuration is correct by running ",(0,r.jsx)(o.code,{children:"nginx -t"}),". If it is indeed broken, it may be due to the installation or removal of a low-quality app... If you need support, ",(0,r.jsx)(o.a,{href:"/community/help",children:"ask for it"}),"."]}),"\n",(0,r.jsx)(o.p,{children:"The NGINX or SSH servers may have been killed due to a lack of storage space, RAM, or swap."}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["Try restarting the service with ",(0,r.jsx)(o.code,{children:"systemctl restart nginx"}),"."]}),"\n",(0,r.jsxs)(o.li,{children:["You can check used storage with ",(0,r.jsx)(o.code,{children:"df -h"}),". If one of your partitions is full, you need to identify what fills it and make room. You can use ",(0,r.jsx)(o.code,{children:"ncdu"})," command (install it with ",(0,r.jsx)(o.code,{children:"apt install ncdu"}),") to browse from the root directory: ",(0,r.jsx)(o.code,{children:"ncdu /"})]}),"\n",(0,r.jsxs)(o.li,{children:["You can check RAM and swap usage with ",(0,r.jsx)(o.code,{children:"free -h"}),". Depending on the result, it may be necessary to optimize your server to use less RAM (removal of heavy or unused apps...), add more RAM or add a swap file."]}),"\n"]}),"\n",(0,r.jsx)(o.h3,{id:"your-server-is-reachable-by-ipv6-but-not-ipv4-or-inversely",children:"Your server is reachable by IPv6, but not IPv4, or inversely"}),"\n",(0,r.jsxs)(o.p,{children:["You can check that by ",(0,r.jsx)(o.code,{children:"ping"}),"ing it:"]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"ping -4 yourdomain.tld # or its IPv4\nping -6 yourdomain.tld # or its IPv6\n"})}),"\n",(0,r.jsx)(o.p,{children:"If one of the two is working, use it to connect by SSH or the webadmin."}),"\n",(0,r.jsx)(o.p,{children:"If none are working, you need to resolv your connection issue. In some cases, an update of your router may have enabled IPv6 and DNS configuration may be disrupted."}),"\n",(0,r.jsx)(o.h2,{id:"webadmin-is-working-but-some-web-apps-are-returning-502-errors",children:"Webadmin is working, but some web apps are returning 502 errors"}),"\n",(0,r.jsxs)(o.p,{children:["It is highly probable that the underlying service for these apps is failing (e.g. PHP apps requiring ",(0,r.jsx)(o.code,{children:"php7.0-fpm"})," or ",(0,r.jsx)(o.code,{children:"php7.3-fpm"}),"). You can then try to restart the services, and/or ask for ",(0,r.jsx)(o.a,{href:"/community/help",children:"help"})]}),"\n",(0,r.jsx)(o.h2,{id:"you-have-lost-your-admin-password-or-the-password-is-seemingly-wrong",children:"You have lost your admin password, or the password is seemingly wrong"}),"\n",(0,r.jsxs)(o.p,{children:["If you can reach the webadmin login page (force reload with ",(0,r.jsx)(o.code,{children:"CTRL + F5"})," to be sure), and you cannot log in, your password is probably wrong."]}),"\n",(0,r.jsxs)(o.p,{children:["If yoy are sure of your passord, it may be due to the ",(0,r.jsx)(o.code,{children:"slapd"})," service failing. If that's the case, log into the server by SSH as ",(0,r.jsx)(o.code,{children:"root"}),"."]}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["If your server is at home, you most likely have access to the local network. From this network, you can follow the ",(0,r.jsx)(o.a,{href:"/admin/command_line",children:"SSH instructions"}),"`."]}),"\n",(0,r.jsx)(o.li,{children:"If your server is a VPS, your provider may offer a web console."}),"\n"]}),"\n",(0,r.jsxs)(o.p,{children:["Once logged in, you have to check the state of the service with ",(0,r.jsx)(o.code,{children:"yunohost service status slapd"})," and/or reset your admin password with ",(0,r.jsx)(o.code,{children:"yunohost tools adminpw"}),"."]}),"\n",(0,r.jsxs)(o.p,{children:["If this is still failing, on a VPS you may be able to reboot in rescue mode. Do not hesitate to ask for ",(0,r.jsx)(o.a,{href:"/community/help",children:"help"})]}),"\n",(0,r.jsx)(o.admonition,{type:"warning",children:(0,r.jsx)(o.p,{children:"To be completed"})}),"\n",(0,r.jsx)(o.h2,{id:"your-vpn-expired-or-does-not-connect-any-more",children:"Your VPN expired or does not connect any more"}),"\n",(0,r.jsx)(o.p,{children:"If you have a VPN with fixed IP, maybe it has expired, or the provider's infrastructure is failing."}),"\n",(0,r.jsx)(o.p,{children:"In that case, contact your VPN provider to renew it and update the parameters of the VPN Client app."}),"\n",(0,r.jsx)(o.p,{children:"Meanwhile, try reaching your server if it is at home, by:"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["its local IP, retrievable from your router configuration panel or ",(0,r.jsx)(o.code,{children:"sudo arp-scan --local"})]}),"\n",(0,r.jsxs)(o.li,{children:["reaching it at ",(0,r.jsx)(o.code,{children:"yunohost.local"}),", or ",(0,r.jsx)(o.code,{children:"yunohost-2.local"}),", etc. depending on how many YunoHost servers are on your network."]}),"\n"]}),"\n",(0,r.jsx)(o.admonition,{type:"warning",children:(0,r.jsx)(o.p,{children:"To be completed"})}),"\n",(0,r.jsx)(o.h2,{id:"your-server-does-not-boot",children:"Your server does not boot"}),"\n",(0,r.jsx)(o.p,{children:"In some cases your server may be stuck at boot. It may come from a new, buggy, kernel. Try changing to another kernel on the boot screen (via VNC for VPS)."}),"\n",(0,r.jsxs)(o.p,{children:['If you are in "rescue" mode with ',(0,r.jsx)(o.code,{children:"grub"}),", it may be due a misconfiguration of ",(0,r.jsx)(o.code,{children:"grub"}),", or a corrupted drive."]}),"\n",(0,r.jsxs)(o.p,{children:['In that case, access the storage drive from another system (your provider\'s "rescue" mode, live USB drive, read the SD or drive on another computer) and try to check partitions integrity with ',(0,r.jsx)(o.code,{children:"smartctl"}),", ",(0,r.jsx)(o.code,{children:"fsck"}),", and ",(0,r.jsx)(o.code,{children:"mount"}),"."]}),"\n",(0,r.jsxs)(o.p,{children:["If disks are corrupted or hard to mount, you have to save your data and maybe reformat, reinstall, and/or change the drive. If you succeed in mounting the drive, you can use ",(0,r.jsx)(o.code,{children:"systemd-nspawn"})," to access its database."]}),"\n",(0,r.jsxs)(o.p,{children:["Otherwise, run ",(0,r.jsx)(o.code,{children:"grub-update"}),", ",(0,r.jsx)(o.code,{children:"grub-install"})," again with ",(0,r.jsx)(o.code,{children:"chroot"})," or with ",(0,r.jsx)(o.code,{children:"systemd-nspawn"}),"."]}),"\n",(0,r.jsx)(o.h2,{id:"vnc-or-screen-access-does-not-work",children:"VNC or screen access does not work"}),"\n",(0,r.jsx)(o.p,{children:"It may be due hardware issue on your server, or with the hypervisor if it is on a VPS."}),"\n",(0,r.jsx)(o.p,{children:"If you are renting your server, contact the support of your provider. Otherwise, try fixing your machine by replacing failing components."})]})}function u(e={}){let{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},4429:function(e,o,i){i.d(o,{R:()=>a,x:()=>t});var n=i(6540);let r={},s=n.createContext(r);function a(e){let o=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function t(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(s.Provider,{value:o},e.children)}}}]);