<!doctype html><html lang=fr dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-admin/upgrade/11.0-bullseye" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.0"><title data-rh=true>Migrer de 4.x vers 11.x | Yunohost</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=https://yunohost.org/assets/img/portal_simple_dark.jpg /><meta data-rh=true name=twitter:image content=https://yunohost.org/assets/img/portal_simple_dark.jpg /><meta data-rh=true property=og:url content=https://doc.next.yunohost.org/doc/pr-2672/fr/admin/upgrade/11.0-bullseye /><meta data-rh=true property=og:locale content=fr /><meta data-rh=true property=og:locale:alternate content=ar /><meta data-rh=true property=og:locale:alternate content=ca /><meta data-rh=true property=og:locale:alternate content=de /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true property=og:locale:alternate content=es /><meta data-rh=true property=og:locale:alternate content=it /><meta data-rh=true property=og:locale:alternate content=oc /><meta data-rh=true property=og:locale:alternate content=ru /><meta data-rh=true property=og:locale:alternate content=en_GB /><meta data-rh=true name=docusaurus_locale content=fr /><meta data-rh=true name=docsearch:language content=fr /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Migrer de 4.x vers 11.x | Yunohost"/><meta data-rh=true name=description content="L'objectif cette page est de décrire le processus de migration d'une instance en YunoHost 4.4.x (tournant sous Debian Buster/10.x) vers YunoHost 11.x (tournant sous Debian Bullseye/11.x). Notez que nous avons décidé de sauter les numéros de versions de 5 à 10 pour suivre les numéros de versions de Debian."/><meta data-rh=true property=og:description content="L'objectif cette page est de décrire le processus de migration d'une instance en YunoHost 4.4.x (tournant sous Debian Buster/10.x) vers YunoHost 11.x (tournant sous Debian Bullseye/11.x). Notez que nous avons décidé de sauter les numéros de versions de 5 à 10 pour suivre les numéros de versions de Debian."/><link data-rh=true rel=icon href=/doc/pr-2672/fr/img/favicon.png /><link data-rh=true rel=canonical href=https://doc.next.yunohost.org/doc/pr-2672/fr/admin/upgrade/11.0-bullseye /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/ar/admin/upgrade/11.0-bullseye hreflang=ar /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/ca/admin/upgrade/11.0-bullseye hreflang=ca /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/de/admin/upgrade/11.0-bullseye hreflang=de /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/en/admin/upgrade/11.0-bullseye hreflang=en /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/es/admin/upgrade/11.0-bullseye hreflang=es /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/fr/admin/upgrade/11.0-bullseye hreflang=fr /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/it/admin/upgrade/11.0-bullseye hreflang=it /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/oc/admin/upgrade/11.0-bullseye hreflang=oc /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/ru/admin/upgrade/11.0-bullseye hreflang=ru /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/admin/upgrade/11.0-bullseye hreflang=en-GB /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/admin/upgrade/11.0-bullseye hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://doc.next.yunohost.org/doc/pr-2672/fr/admin/upgrade/","name":"✨ Mises à jour","position":1},{"@type":"ListItem","item":"https://doc.next.yunohost.org/doc/pr-2672/fr/admin/upgrade/11.0-bullseye","name":"Migrer de 4.x vers 11.x","position":2}]}</script><script src=/js/language-detect.js async data-language-redirect='{"ar":"/ar/","ca":"/ca/","de":"/de/","en":"/en/","es":"/es/","fr":"/fr/","it":"/it/","oc":"/oc/","ru":"/ru/"}'></script><link rel=stylesheet href=/doc/pr-2672/fr/assets/css/styles.d1dd00e9.css /><script src=/doc/pr-2672/fr/assets/js/runtime~main.cd807cf8.js defer></script><script src=/doc/pr-2672/fr/assets/js/main.70dd01be.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/doc/pr-2672/fr/img/icons/logo-ynh_horizontal.png /><link rel=preload as=image href=/doc/pr-2672/fr/img/icons/ynh_logo_roundcorner.png /><div role=region aria-label="Aller au contenu principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Aller au contenu principal</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/doc/pr-2672/fr/><div class=navbar__logo><img src=/doc/pr-2672/fr/img/icons/logo-ynh_horizontal.png alt="Logo Yunohost" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/doc/pr-2672/fr/img/icons/logo-ynh_horizontal.png alt="Logo Yunohost" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Docs</b></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/doc/pr-2672/fr/admin/>Administration</a><a class="navbar__item navbar__link" href=/doc/pr-2672/fr/dev/>Développement et packaging</a><a class="navbar__item navbar__link" href=/doc/pr-2672/fr/community/>Communauté</a><a href=https://apps.yunohost.org/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Apps catalog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class=navbarSearchContainer_Bca1><div class=navbar__search><span aria-label="expand searchbar" role=button class=search-icon tabindex=0></span><input id=search_input_react type=search placeholder=Loading... aria-label=Search class="navbar__search-input search-bar" disabled/></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Français</a><ul class=dropdown__menu><li><a href="/doc/pr-2672/ar/admin/upgrade/11.0-bullseye?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=ar>العربية</a><li><a href="/doc/pr-2672/ca/admin/upgrade/11.0-bullseye?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=ca>Català</a><li><a href="/doc/pr-2672/de/admin/upgrade/11.0-bullseye?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=de>Deutsch</a><li><a href="/doc/pr-2672/en/admin/upgrade/11.0-bullseye?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href="/doc/pr-2672/es/admin/upgrade/11.0-bullseye?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href="/doc/pr-2672/fr/admin/upgrade/11.0-bullseye?persistLocale=true" target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=fr>Français</a><li><a href="/doc/pr-2672/it/admin/upgrade/11.0-bullseye?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=it>Italiano</a><li><a href="/doc/pr-2672/oc/admin/upgrade/11.0-bullseye?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=oc>Occitan</a><li><a href="/doc/pr-2672/ru/admin/upgrade/11.0-bullseye?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=ru>Русский</a><li><a href="/doc/pr-2672/admin/upgrade/11.0-bullseye?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=en-GB>British English</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Basculer entre le mode sombre et clair (actuellement system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Retour au début de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/doc/pr-2672/fr/><img src=/doc/pr-2672/fr/img/icons/logo-ynh_horizontal.png alt="Logo Yunohost" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/doc/pr-2672/fr/img/icons/logo-ynh_horizontal.png alt="Logo Yunohost" class="themedComponent_mlkZ themedComponent--dark_xIcU"/><b>Docs</b></a><nav aria-label="Barre latérale" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/doc/pr-2672/fr/admin/><span title="Introduction à la documentation" class=linkLabel_WmDU>Introduction à la documentation</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/doc/pr-2672/fr/admin/about_self_hosting><span title="À propos de l’auto-hébergement" class=linkLabel_WmDU>À propos de l’auto-hébergement</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/fr/admin/what_is_yunohost/><span title="Qu’est-ce que YunoHost?" class=categoryLinkLabel_W154>Qu’est-ce que YunoHost?</span></a><button aria-label="Développer la catégorie 'Qu’est-ce que YunoHost?' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/fr/category/-get-started><span title="🚀 Get started" class=categoryLinkLabel_W154>🚀 Get started</span></a><button aria-label="Développer la catégorie '🚀 Get started' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/doc/pr-2672/fr/admin/webadmin><span title="⭐ Interface d'admin web" class=linkLabel_WmDU>⭐ Interface d'admin web</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/doc/pr-2672/fr/admin/command_line><span title="🛠️ SSH et la ligne de commande" class=linkLabel_WmDU>🛠️ SSH et la ligne de commande</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/fr/admin/users/><span title="👥 Comptes et portail d'apps" class=categoryLinkLabel_W154>👥 Comptes et portail d'apps</span></a><button aria-label="Développer la catégorie '👥 Comptes et portail d'apps' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/fr/admin/domains/><span title="🌐 Domaines" class=categoryLinkLabel_W154>🌐 Domaines</span></a><button aria-label="Développer la catégorie '🌐 Domaines' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/fr/admin/apps/><span title="📦 Applications" class=categoryLinkLabel_W154>📦 Applications</span></a><button aria-label="Développer la catégorie '📦 Applications' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/fr/admin/email/><span title="📬 Courriels" class=categoryLinkLabel_W154>📬 Courriels</span></a><button aria-label="Développer la catégorie '📬 Courriels' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/fr/admin/backups/><span title="🚑 Sauvegardes" class=categoryLinkLabel_W154>🚑 Sauvegardes</span></a><button aria-label="Développer la catégorie '🚑 Sauvegardes' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/fr/category/-tutorials><span title="📜 Tutorials" class=categoryLinkLabel_W154>📜 Tutorials</span></a><button aria-label="Développer la catégorie '📜 Tutorials' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/fr/admin/troubleshooting/><span title="🐞 Dépannage" class=categoryLinkLabel_W154>🐞 Dépannage</span></a><button aria-label="Développer la catégorie '🐞 Dépannage' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/doc/pr-2672/fr/admin/upgrade/><span title="✨ Mises à jour" class=categoryLinkLabel_W154>✨ Mises à jour</span></a><button aria-label="Réduire la catégorie '✨ Mises à jour' de la barre latérale" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/doc/pr-2672/fr/admin/upgrade/11.0-bullseye><span title="Migrer de 4.x vers 11.x" class=linkLabel_WmDU>Migrer de 4.x vers 11.x</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/doc/pr-2672/fr/admin/upgrade/12.0-bookworm/><span title="Migrer de 11.x vers 12.x" class=categoryLinkLabel_W154>Migrer de 11.x vers 12.x</span></a><button aria-label="Développer la catégorie 'Migrer de 11.x vers 12.x' de la barre latérale" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d'Ariane"><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Page d'accueil" class=breadcrumbs__link href=/doc/pr-2672/fr/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/doc/pr-2672/fr/admin/upgrade/><span>✨ Mises à jour</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Migrer de 4.x vers 11.x</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>Migrer de 4.x vers 11.x</h1></header><p>L'objectif cette page est de décrire le processus de migration d'une instance en YunoHost 4.4.x (tournant sous Debian Buster/10.x) vers YunoHost 11.x (tournant sous Debian Bullseye/11.x). Notez que nous avons décidé de sauter les numéros de versions de 5 à 10 pour suivre les numéros de versions de Debian.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=notes-importantes>Notes importantes<a href=#notes-importantes class=hash-link aria-label="Lien direct vers Notes importantes" title="Lien direct vers Notes importantes" translate=no>​</a></h2>
<ul>
<li>
<p>L'équipe de YunoHost a fait de son mieux pour que cette migration se passe autant en douceur que possible. Elle a été testée durant plusieurs mois et sur plusieurs types d'installations.</p>
</li>
<li>
<p>Néanmoins, vous devez être conscient qu'il s'agit d'une opération délicate. L'administration système est un sujet compliqué et couvrir tous les cas particuliers n'est pas chose aisée. En conséquence, si vous hébergez des données et des systèmes critiques, <a href=/doc/pr-2672/fr/admin/backups>faites des sauvegardes</a>. Et dans tous les cas, soyez patients et attentifs durant la migration.</p>
</li>
<li>
<p>Ne vous précipitez pas à vouloir faire une réinstallation de votre système en pensant que cela serait "plus simple" (sigh). (Une attitude qui revient régulièrement est de vouloir réinstaller son système à la moindre complication...). À la place, si vous rencontrez des problèmes, nous vous encourageons à investiguer, chercher à comprendre et <a href=/doc/pr-2672/fr/community/help>trouver de l'aide sur le chat ou le forum</a>.</p>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=procédure-de-migration>Procédure de migration<a href=#procédure-de-migration class=hash-link aria-label="Lien direct vers Procédure de migration" title="Lien direct vers Procédure de migration" translate=no>​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=depuis-la-webadmin>Depuis la webadmin<a href=#depuis-la-webadmin class=hash-link aria-label="Lien direct vers Depuis la webadmin" title="Lien direct vers Depuis la webadmin" translate=no>​</a></h3>
<p>Après avoir mis à jour vers la version en 4.4.x, allez dans Outils > Migrations pour accéder à l'interface de migration. Il vous faudra ensuite lire l'avertissement attentivement et l'accepter pour lancer la migration.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=depuis-la-ligne-de-commande>Depuis la ligne de commande<a href=#depuis-la-ligne-de-commande class=hash-link aria-label="Lien direct vers Depuis la ligne de commande" title="Lien direct vers Depuis la ligne de commande" translate=no>​</a></h3>
<p>Après avoir mis à jour vers la version 4.4.x, lancez :</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> yunohost tools migrations migrate</span><br/></span></code></pre></div></div>
<p>puis lisez attentivement l'avertissement et les instructions.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=pendant-la-migration>Pendant la migration<a href=#pendant-la-migration class=hash-link aria-label="Lien direct vers Pendant la migration" title="Lien direct vers Pendant la migration" translate=no>​</a></h2>
<p>En fonction de votre matériel et des paquets installés, la migration peut prendre jusqu'à une ou deux heures.</p>
<p>Les logs seront affichés dans la barre de message au centre de la page (vous pouvez approcher la souris dessus pour voir l'historique en entier). Ils seront également consultable après coup (comme les autres opérations) dans Outils > Journaux.</p>
<p>Notez que même si vous fermez la page d'admin, la migration continuera (par contre l'interface d'admin sera partiellement indisponible).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=si-la-migration-a-crashé--échoué-à-un-moment>Si la migration a crashé / échoué à un moment<a href=#si-la-migration-a-crashé--échoué-à-un-moment class=hash-link aria-label="Lien direct vers Si la migration a crashé / échoué à un moment" title="Lien direct vers Si la migration a crashé / échoué à un moment" translate=no>​</a></h3>
<p>Si la migration a échoué a un moment donné, la première chose à faire est de tenter de la relancer. Si cela ne fonctionne toujours pas, il vous faut <a href=/doc/pr-2672/fr/community/help>trouver de l'aide</a> (prière de fournir le/les messages correspondants ou tout élément qui vous fait penser que ça n'a pas marché).</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=choses-à-vérifier-après-la-migration>Choses à vérifier après la migration<a href=#choses-à-vérifier-après-la-migration class=hash-link aria-label="Lien direct vers Choses à vérifier après la migration" title="Lien direct vers Choses à vérifier après la migration" translate=no>​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=exécuter-la-migration-pour-réparer-votre-application-python>Exécuter la migration pour réparer votre application python<a href=#exécuter-la-migration-pour-réparer-votre-application-python class=hash-link aria-label="Lien direct vers Exécuter la migration pour réparer votre application python" title="Lien direct vers Exécuter la migration pour réparer votre application python" translate=no>​</a></h3>
<p>Après la mise à jour, vos applications python devraient être indisponibles car leur environnement virtuel doit être reconstruit.</p>
<p>Pour ce faire, vous pouvez exécuter les migrations en cours dans <code>Webadmin > Mises à jour</code>. Les applications ci-dessous ne seront pas réparées automatiquement, vous devez les mettre à jour manuellement avec <code>yunohost app upgrade -F APP</code>.</p>
<p>Les applications qui ne seront pas réparées automatiquement et nécessitent une mise à jour forcée :</p>
<ul>
<li>calibreweb</li>
<li>django-for-runners</li>
<li>ffsync (cette application est en python2 et n'est plus maintenue, aucune garantie)</li>
<li>jupiterlab</li>
<li>librephotos</li>
<li>mautrix</li>
<li>mediadrop</li>
<li>mopidy</li>
<li>pgadmin</li>
<li>tracim</li>
<li>synapse</li>
<li>weblate</li>
</ul>
<p>! !! Si nécessaire, vous pouvez désactiver la reconstruction automatique pour une application python spécifique, en supprimant le fichier dédié terminé par <code>.requirements_backup_for_bullseye_upgrade.txt</code> avant d'appliquer la migration. Vous pouvez trouver ce fichier près du venv de votre application dans <code>/opt</code> ou <code>/var/www</code>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=vérifiez-que-vous-êtes-véritablement-sous-debian-bullseye-et-yunohost-11x>Vérifiez que vous êtes véritablement sous Debian Bullseye et YunoHost 11.x<a href=#vérifiez-que-vous-êtes-véritablement-sous-debian-bullseye-et-yunohost-11x class=hash-link aria-label="Lien direct vers Vérifiez que vous êtes véritablement sous Debian Bullseye et YunoHost 11.x" title="Lien direct vers Vérifiez que vous êtes véritablement sous Debian Bullseye et YunoHost 11.x" translate=no>​</a></h3>
<p>Pour cela, vous pouvez aller dans la partie Diagnostic (section Système de base). (Vous pouvez aussi regarder ce qui est affiché à droite dans le pied de page de la webadmin). En ligne de commande, vous pouvez aussi utiliser <code>lsb_release -a</code> et <code>yunohost --version</code>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=vérifiez-que-le-diagnostic-ne-rapporte-pas-de-problème-particulier>Vérifiez que le diagnostic ne rapporte pas de problème particulier<a href=#vérifiez-que-le-diagnostic-ne-rapporte-pas-de-problème-particulier class=hash-link aria-label="Lien direct vers Vérifiez que le diagnostic ne rapporte pas de problème particulier" title="Lien direct vers Vérifiez que le diagnostic ne rapporte pas de problème particulier" translate=no>​</a></h3>
<p>Également dans la section Diagnostic de la webadmin, vérifiez qu'il n'y a pas de problème apparu suite à la migration (par exemple un service qui ne tournerais plus...)</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=vérifiez-que-les-applications-fonctionnent>Vérifiez que les applications fonctionnent<a href=#vérifiez-que-les-applications-fonctionnent class=hash-link aria-label="Lien direct vers Vérifiez que les applications fonctionnent" title="Lien direct vers Vérifiez que les applications fonctionnent" translate=no>​</a></h3>
<p>Vérifiez que vos applications installées fonctionnent... Si elles ne fonctionnent pas, il est recommandé de tenter de les mettre à jour. (ou bien de manière générale, il est recommandé de les mettre à jour même si elles fonctionnent !).</p>
<p>Si votre app est cassée et que vous étiez déjà sur la dernière version d'une application, vous pouvez relancer la mise à jour grâce à l'option <code>--force</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">yunohost app upgrade </span><span class="token parameter variable" style=color:#36acaa>--force</span><span class="token plain"> NOM_APP</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=soucis-mineurs-connus-après-la-migration>Soucis (mineurs) connus après la migration<a href=#soucis-mineurs-connus-après-la-migration class=hash-link aria-label="Lien direct vers Soucis (mineurs) connus après la migration" title="Lien direct vers Soucis (mineurs) connus après la migration" translate=no>​</a></h2>
<p>Voir la <a href=https://yunohost.org/en/buster_bullseye_migration#current-known-minor-issues-after-the-migration target=_blank rel="noopener noreferrer">page anglaise</a></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/YunoHost/doc/tree/main/i18n/fr/docusaurus-plugin-content-docs/current/admin/55.upgrade/11.0-bullseye.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Éditer cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Pages de documentation"><a class="pagination-nav__link pagination-nav__link--prev" href=/doc/pr-2672/fr/admin/upgrade/><div class=pagination-nav__sublabel>Précédent</div><div class=pagination-nav__label>✨ Mises à jour</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/doc/pr-2672/fr/admin/upgrade/12.0-bookworm/><div class=pagination-nav__sublabel>Suivant</div><div class=pagination-nav__label>Migrer de 11.x vers 12.x</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#notes-importantes class="table-of-contents__link toc-highlight">Notes importantes</a><li><a href=#procédure-de-migration class="table-of-contents__link toc-highlight">Procédure de migration</a><ul><li><a href=#depuis-la-webadmin class="table-of-contents__link toc-highlight">Depuis la webadmin</a><li><a href=#depuis-la-ligne-de-commande class="table-of-contents__link toc-highlight">Depuis la ligne de commande</a></ul><li><a href=#pendant-la-migration class="table-of-contents__link toc-highlight">Pendant la migration</a><ul><li><a href=#si-la-migration-a-crashé--échoué-à-un-moment class="table-of-contents__link toc-highlight">Si la migration a crashé / échoué à un moment</a></ul><li><a href=#choses-à-vérifier-après-la-migration class="table-of-contents__link toc-highlight">Choses à vérifier après la migration</a><ul><li><a href=#exécuter-la-migration-pour-réparer-votre-application-python class="table-of-contents__link toc-highlight">Exécuter la migration pour réparer votre application python</a><li><a href=#vérifiez-que-vous-êtes-véritablement-sous-debian-bullseye-et-yunohost-11x class="table-of-contents__link toc-highlight">Vérifiez que vous êtes véritablement sous Debian Bullseye et YunoHost 11.x</a><li><a href=#vérifiez-que-le-diagnostic-ne-rapporte-pas-de-problème-particulier class="table-of-contents__link toc-highlight">Vérifiez que le diagnostic ne rapporte pas de problème particulier</a><li><a href=#vérifiez-que-les-applications-fonctionnent class="table-of-contents__link toc-highlight">Vérifiez que les applications fonctionnent</a></ul><li><a href=#soucis-mineurs-connus-après-la-migration class="table-of-contents__link toc-highlight">Soucis (mineurs) connus après la migration</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Infos Légales</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/YunoHost/yunohost/blob/dev/LICENSE target=_blank rel="noopener noreferrer" class=footer__link-item>Licenses<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/doc/pr-2672/fr/community/terms_of_services>CGUs</a><li class=footer__item><a href=https://github.com/YunoHost/project-organization target=_blank rel="noopener noreferrer" class=footer__link-item>Organisation<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Nous suivre</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://forum.yunohost.org/c/announcement/8/none target=_blank rel="noopener noreferrer" class=footer__link-item>Blog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://toot.aquilenet.fr/@yunohost target=_blank rel="noopener noreferrer" class=footer__link-item>Mastodon<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://videos.globenet.org/a/yunohost/videos?s=1" target=_blank rel="noopener noreferrer" class=footer__link-item>Peertube<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Utiliser</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/doc/pr-2672/fr/>Documentation</a><li class=footer__item><a href=https://apps.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Catalogue des applis<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://forum.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Forum<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/doc/pr-2672/fr/community/help>Demander de l'aide</a><li class=footer__item><a href=https://status.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Statut des services<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost/yunohost/blob/dev/debian/changelog target=_blank rel="noopener noreferrer" class=footer__link-item>Historique des changements<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Contribuer</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://donate.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Donner<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost/issues/issues target=_blank rel="noopener noreferrer" class=footer__link-item>Tickets<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub (core)<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost-Apps target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub (apps)<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://translate.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Traduire<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/doc/pr-2672/fr/img/icons/ynh_logo_roundcorner.png alt="Yunohost Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/doc/pr-2672/fr/img/icons/ynh_logo_roundcorner.png alt="Yunohost Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"/></div><div class=footer__copyright>Créé avec Docusaurus pour YunoHost</div></div></div></footer></div></body>