"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["2483"],{6443:function(e,s,n){n.r(s),n.d(s,{frontMatter:()=>u,toc:()=>d,default:()=>c,metadata:()=>r,assets:()=>o,contentTitle:()=>a});var r=JSON.parse('{"id":"admin/backups/evaluate","title":"Strat\xe9gies de sauvegarde","description":"Dans le contexte de l\'auto-h\xe9bergement, les sauvegardes (backup) sont un \xe9l\xe9ment important pour pallier les \xe9v\xe9nements inattendus (incendies, corruption de base de donn\xe9es, perte d\'acc\xe8s au serveur, serveur compromis...). La politique de sauvegardes \xe0 mettre en place d\xe9pend de l\'importance des services et des donn\xe9es que vous g\xe9rez. Par exemple, sauvegarder un serveur de test aura peu d\'int\xe9r\xeat, tandis que vous voudrez montrer beaucoup plus de prudence si vous g\xe9rez des donn\xe9es critiques pour une association ou une entreprise - et dans ce genre de cas, vous souhaiterez stocker les sauvegardes dans un ou des endroits diff\xe9rents.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/admin/40.backups/05.evaluate.mdx","sourceDirName":"admin/40.backups","slug":"/admin/backups/evaluate","permalink":"/doc/pr-2672/fr/admin/backups/evaluate","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/fr/docusaurus-plugin-content-docs/current/admin/40.backups/05.evaluate.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Strat\xe9gies de sauvegarde"},"sidebar":"admin","previous":{"title":"\u{1F691} Sauvegardes","permalink":"/doc/pr-2672/fr/admin/backups/"},"next":{"title":"Backup methods","permalink":"/doc/pr-2672/fr/admin/backups/backup_methods"}}'),i=n(4848),t=n(4429);let u={title:"Strat\xe9gies de sauvegarde"},a,o={},d=[{value:"Qu&#39;est-ce qu&#39;une bonne sauvegarde ?",id:"quest-ce-quune-bonne-sauvegarde-",level:2},{value:"Quelques m\xe9thodes possibles",id:"quelques-m\xe9thodes-possibles",level:2},{value:"Risques",id:"risques",level:2},{value:"\xc0 propos de la synchronisation Nextcloud ou Thunderbird (IMAP)",id:"\xe0-propos-de-la-synchronisation-nextcloud-ou-thunderbird-imap",level:2}];function l(e){let s={a:"a",admonition:"admonition",em:"em",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:["Dans le contexte de l'auto-h\xe9bergement, les sauvegardes (backup) sont un \xe9l\xe9ment important pour pallier les \xe9v\xe9nements inattendus (incendies, corruption de base de donn\xe9es, perte d'acc\xe8s au serveur, serveur compromis...). La politique de sauvegardes \xe0 mettre en place d\xe9pend de l'importance des services et des donn\xe9es que vous g\xe9rez. Par exemple, sauvegarder un serveur de test aura peu d'int\xe9r\xeat, tandis que vous voudrez montrer beaucoup plus de prudence si vous g\xe9rez des donn\xe9es critiques pour une association ou une entreprise - et dans ce genre de cas, vous souhaiterez stocker les sauvegardes ",(0,i.jsx)(s.em,{children:"dans un ou des endroits diff\xe9rents"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"quest-ce-quune-bonne-sauvegarde-",children:"Qu'est-ce qu'une bonne sauvegarde ?"}),"\n",(0,i.jsxs)(s.p,{children:["Une bonne sauvegarde est constitu\xe9e d'au moins ",(0,i.jsx)(s.strong,{children:"3 copies des donn\xe9es"})," (en comptant les donn\xe9es originales), sur au moins ",(0,i.jsx)(s.strong,{children:"2 stockages distincts"}),", dans au moins ",(0,i.jsx)(s.strong,{children:"2 lieux distincts"})," (suffisamment \xe9loign\xe9s) et id\xe9alement avec 2 m\xe9thodes distinctes. Si vos sauvegardes sont chiffr\xe9es ",(0,i.jsx)(s.strong,{children:"ces r\xe8gles s'appliquent aussi \xe0 la phrase/cl\xe9 de d\xe9chiffrement"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Une bonne sauvegarde est aussi dans de nombreux cas, une sauvegarde r\xe9cente, il faut donc soit beaucoup de rigueur, soit ",(0,i.jsx)(s.strong,{children:"automatiser"})," le processus."]}),"\n",(0,i.jsx)(s.p,{children:"Une bonne sauvegarde est v\xe9rifi\xe9e r\xe9guli\xe8rement afin de s'assurer de l'effectivit\xe9 et de l'int\xe9grit\xe9 des donn\xe9es."}),"\n",(0,i.jsxs)(s.p,{children:["Enfin, une bonne sauvegarde est une sauvegarde ",(0,i.jsx)(s.strong,{children:"restaurable dans des d\xe9lais acceptables"})," pour vous. Pensez notamment \xe0 documenter votre m\xe9thode de restauration et \xe0 estimer le temps de transfert d'une copie notamment si les connexions internet en jeu ne sont pas sym\xe9triques."]}),"\n",(0,i.jsxs)(s.admonition,{type:"info",children:[(0,i.jsxs)(s.p,{children:["Exemple d'",(0,i.jsx)(s.strong,{children:"une combinaison"})," robuste et comfortable:"]}),(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"une sauvegarde distante et automatique avec borg"}),"\n",(0,i.jsx)(s.li,{children:"une sauvegarde sur disque externe et automatique avec borg"}),"\n",(0,i.jsx)(s.li,{children:"un snapshot/image r\xe9gulier (et avant les mises \xe0 jour)"}),"\n",(0,i.jsx)(s.li,{children:"une grappe RAID 1 monitor\xe9e (ou un VPS du commerce qui sera aussi sur une grappe)"}),"\n",(0,i.jsx)(s.li,{children:"une passphrase de d\xe9chiffrement stock\xe9e sur 3 supports dans 2 lieux"}),"\n"]})]}),"\n",(0,i.jsx)(s.h2,{id:"quelques-m\xe9thodes-possibles",children:"Quelques m\xe9thodes possibles"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/admin/backups/#sauvegarde-manuelle",children:"g\xe9n\xe9rer une archive et la t\xe9l\xe9charger manuellement (m\xe9thode par d\xe9faut de YunoHost)"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/admin/backups/backup_methods",children:"sauvegarder automatiquement (m\xe9thode conseill\xe9e)"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/admin/tutorials/external_storage",children:"g\xe9n\xe9rer une archive directement sur un autre disque"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/admin/backups/clone_filesystem",children:"faire une image du disque ou un snapshot"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/admin/backups/custom_backup_methods",children:"sauvegarder les donn\xe9es utiles via une m\xe9thode personnalis\xe9e"})}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"risques",children:"Risques"}),"\n",(0,i.jsx)(s.p,{children:"Ci-dessous, une liste de risques tri\xe9s du plus au moins probable, dont la probabilit\xe9 reste \xe0 adapter selon votre situation (lieu du serveur, qualit\xe9 des installations, profils d'usagers, etc.). \xc0 vous de mettre le curseur l\xe0 o\xf9 il faut, notamment en consid\xe9rant les cons\xe9quences d'une perte de donn\xe9es."}),"\n",(0,i.jsx)(s.admonition,{type:"caution",children:(0,i.jsx)(s.p,{children:"Gardez en t\xeate que les vrais accidents sont li\xe9s \xe0 la survenue de 2 \xe9v\xe9nements de fa\xe7on simultan\xe9e."})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Manque de rigueur"}),": les strat\xe9gies \xe0 base de sauvegardes manuelles n\xe9cessitent beaucoup de rigueur dans la r\xe9gularit\xe9"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Mauvaise manipulation"}),": il peut arriver d'effacer une sauvegarde par erreur lors d'une restauration ou si vous comptez sur un syst\xe8me de synchronisation, vous pourriez supprimer un fichier et que la suppression soit synchronis\xe9e de fa\xe7on instantan\xe9e"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Cryptolocker"}),": il s'agit de virus qui chiffrent les fichiers et r\xe9clament une ran\xe7on. Si vos utilisateurs ou utilisatrices utilisent nextcloud et windows, un windows infect\xe9 pourrait synchroniser des fichiers chiffr\xe9s et ainsi vous perdriez votre copie."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Panne mat\xe9rielle"}),": les cartes SD sont les supports les moins fiables dans le temps (~2ans de vie dans un serveur), viennent ensuite les disques SSD (environ 3 ans de vie) et les disques durs (3 ans). \xc0 noter qu'un \xe9quipement neuf a aussi une probabilit\xe9 non nulle de tomber en panne lors des 6 premiers mois. Dans tous les cas, vos copies ne devraient pas \xeatre sur le m\xeame support physique."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Panne logicielle/bug"}),": un bug logiciel peut aboutir \xe0 la suppression de donn\xe9es ou vous pourriez ne pas savoir r\xe9parer un probl\xe8me et souhaiter restaurer votre syst\xe8me."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Panne d'\xe9lectricit\xe9 ou d'internet"}),": avez-vous un plan si \xe7a arrive ? Quid si vous \xeates en vacances ?"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Catastrophe ou \xe9v\xe9nement naturel ou non"}),": un petit enfant, un chat, la foudre ou une simple fuite peuvent d\xe9truire votre mat\xe9riel. Les incendies ou inondations peuvent aussi mettre \xe0 mal votre copie de sauvegarde \xe0 l'autre bout de votre logement..."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Compromission du serveur"}),": une personne malveillante ou un robot pourrait attaquer votre serveur et supprimer vos donn\xe9es."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Vol de machine"}),": un cambriolage ou le vol d'un ordinateur sur lequel se trouve votre gestionnaire de mots de passe pour d\xe9chiffrer vos sauvegardes."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Perquisition"}),": que vous soyez coupable ou non, une perquisition peut aboutir \xe0 la saisie enti\xe8re du mat\xe9riel informatique d'un lieu (voir de plusieurs lieux)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"D\xe9c\xe8s/probl\xe8me de sant\xe9"}),": vous pourriez ne plus \xeatre en mesure de taper votre phrase de passe."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"\xe0-propos-de-la-synchronisation-nextcloud-ou-thunderbird-imap",children:"\xc0 propos de la synchronisation Nextcloud ou Thunderbird (IMAP)"}),"\n",(0,i.jsx)(s.p,{children:"Une m\xe9thode qui permet une sauvegarde partielle consiste \xe0 sauvegarder les fichiers et les emails via des logiciels de synchronisation comme Nextcloud client ou ThunderBird. De cette fa\xe7on, vous \xe9vitez le risque de panne mat\xe9rielle."}),"\n",(0,i.jsxs)(s.p,{children:["Si cette m\xe9thode est simple \xe0 mettre en place, elle n'est pas sans risque du fait de la synchronisation elle-m\xeame. Par exemple, si vous \xeates sur windows ou mac, vous augmentez de fa\xe7on non n\xe9gligeable le risque de perte de donn\xe9es suite au chiffrement des fichiers par un virus de type ",(0,i.jsx)(s.a,{href:"https://fr.wikipedia.org/wiki/Ran%C3%A7ongiciel",children:"cryptolocker"}),". Sur tout type de syst\xe8me, une fausse manipulation peut supprimer l'ensemble de vos copies sur le serveur et sur les \xe9quipements qui synchronisent. Ce souci est aggrav\xe9 par le fait que la synchronisation de suppression est en g\xe9n\xe9ral plut\xf4t instantan\xe9e."]}),"\n",(0,i.jsx)(s.p,{children:"Si le risque de fausse manipulation peut \xeatre att\xe9nu\xe9 via des logiciels de sauvegarde pour PC de bureau comme TimeShift, seule une sauvegarde sur un disque dur externe d\xe9connect\xe9 vous prot\xe8ge vraiment des ran\xe7ongiciels."})]})}function c(e={}){let{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},4429:function(e,s,n){n.d(s,{R:()=>u,x:()=>a});var r=n(6540);let i={},t=r.createContext(i);function u(e){let s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:u(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);