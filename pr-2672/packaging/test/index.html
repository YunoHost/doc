<!doctype html><html lang=en-GB dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-packaging/test" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.0"><title data-rh=true>Testing your app | Yunohost</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=https://yunohost.org/assets/img/portal_simple_dark.jpg /><meta data-rh=true name=twitter:image content=https://yunohost.org/assets/img/portal_simple_dark.jpg /><meta data-rh=true property=og:url content=https://doc.next.yunohost.org/doc/pr-2672/packaging/test /><meta data-rh=true property=og:locale content=en_GB /><meta data-rh=true property=og:locale:alternate content=ar /><meta data-rh=true property=og:locale:alternate content=ca /><meta data-rh=true property=og:locale:alternate content=de /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true property=og:locale:alternate content=es /><meta data-rh=true property=og:locale:alternate content=fr /><meta data-rh=true property=og:locale:alternate content=it /><meta data-rh=true property=og:locale:alternate content=oc /><meta data-rh=true property=og:locale:alternate content=ru /><meta data-rh=true name=docusaurus_locale content=en-GB /><meta data-rh=true name=docsearch:language content=en-GB /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Testing your app | Yunohost"/><meta data-rh=true name=description content="Once you're done writing you app package, you'll want to check that everything works correctly. At first, you can manually try to install your app on some test server of your own : sudo yunohost app install ./path/to/mycustomapp_ynh"/><meta data-rh=true property=og:description content="Once you're done writing you app package, you'll want to check that everything works correctly. At first, you can manually try to install your app on some test server of your own : sudo yunohost app install ./path/to/mycustomapp_ynh"/><link data-rh=true rel=icon href=/doc/pr-2672/img/favicon.png /><link data-rh=true rel=canonical href=https://doc.next.yunohost.org/doc/pr-2672/packaging/test /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/ar/packaging/test hreflang=ar /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/ca/packaging/test hreflang=ca /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/de/packaging/test hreflang=de /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/en/packaging/test hreflang=en /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/es/packaging/test hreflang=es /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/fr/packaging/test hreflang=fr /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/it/packaging/test hreflang=it /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/oc/packaging/test hreflang=oc /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/ru/packaging/test hreflang=ru /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/packaging/test hreflang=en-GB /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/doc/pr-2672/packaging/test hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://doc.next.yunohost.org/doc/pr-2672/packaging/","name":"Packaging applications","position":1},{"@type":"ListItem","item":"https://doc.next.yunohost.org/doc/pr-2672/packaging/test","name":"Testing your app","position":2}]}</script><script src=/js/language-detect.js async data-language-redirect='{"ar":"/ar/","ca":"/ca/","de":"/de/","en":"/en/","es":"/es/","fr":"/fr/","it":"/it/","oc":"/oc/","ru":"/ru/"}'></script><link rel=stylesheet href=/doc/pr-2672/assets/css/styles.d1dd00e9.css /><script src=/doc/pr-2672/assets/js/runtime~main.0fea9f2a.js defer></script><script src=/doc/pr-2672/assets/js/main.0cb6fb7e.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/doc/pr-2672/img/icons/logo-ynh_horizontal.png /><link rel=preload as=image href=/doc/pr-2672/img/icons/ynh_logo_roundcorner.png /><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/doc/pr-2672/><div class=navbar__logo><img src=/doc/pr-2672/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/doc/pr-2672/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Docs</b></a><a class="navbar__item navbar__link" href=/doc/pr-2672/admin/>Administration</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/doc/pr-2672/dev/>Development and packaging</a><a class="navbar__item navbar__link" href=/doc/pr-2672/community/>Community</a><a href=https://apps.yunohost.org/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Apps catalog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class=navbarSearchContainer_Bca1><div class=navbar__search><span aria-label="expand searchbar" role=button class=search-icon tabindex=0></span><input id=search_input_react type=search placeholder=Loading... aria-label=Search class="navbar__search-input search-bar" disabled/></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>British English</a><ul class=dropdown__menu><li><a href="/doc/pr-2672/ar/packaging/test?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=ar>العربية</a><li><a href="/doc/pr-2672/ca/packaging/test?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=ca>Català</a><li><a href="/doc/pr-2672/de/packaging/test?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=de>Deutsch</a><li><a href="/doc/pr-2672/en/packaging/test?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href="/doc/pr-2672/es/packaging/test?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href="/doc/pr-2672/fr/packaging/test?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href="/doc/pr-2672/it/packaging/test?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=it>Italiano</a><li><a href="/doc/pr-2672/oc/packaging/test?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=oc>Occitan</a><li><a href="/doc/pr-2672/ru/packaging/test?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=ru>Русский</a><li><a href="/doc/pr-2672/packaging/test?persistLocale=true" target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en-GB>British English</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/doc/pr-2672/><img src=/doc/pr-2672/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/doc/pr-2672/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/><b>Docs</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/doc/pr-2672/dev/><span title="Developer documentation" class=linkLabel_WmDU>Developer documentation</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/dev/doc/><span title="Write documentation" class=categoryLinkLabel_W154>Write documentation</span></a><button aria-label="Expand sidebar category 'Write documentation'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/doc/pr-2672/dev/core/><span title="Core development" class=categoryLinkLabel_W154>Core development</span></a><button aria-label="Expand sidebar category 'Core development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/doc/pr-2672/packaging/><span title="Packaging applications" class=categoryLinkLabel_W154>Packaging applications</span></a><button aria-label="Collapse sidebar category 'Packaging applications'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/doc/pr-2672/packaging/><span title="Packaging applications" class=linkLabel_WmDU>Packaging applications</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/doc/pr-2672/packaging/structure><span title="App structure" class=linkLabel_WmDU>App structure</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/doc/pr-2672/packaging/manifest/><span title="The manifest" class=categoryLinkLabel_W154>The manifest</span></a><button aria-label="Collapse sidebar category 'The manifest'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/doc/pr-2672/packaging/manifest/resources><span title="App resources" class=linkLabel_WmDU>App resources</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/doc/pr-2672/packaging/scripts/><span title="The scripts" class=categoryLinkLabel_W154>The scripts</span></a><button aria-label="Collapse sidebar category 'The scripts'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/doc/pr-2672/packaging/scripts/shell_variables_scope><span title="General scope of variables" class=linkLabel_WmDU>General scope of variables</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/doc/pr-2672/packaging/scripts/helpers_v2.0><span title="App helpers (v2)" class=linkLabel_WmDU>App helpers (v2)</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/doc/pr-2672/packaging/scripts/helpers_v2.1><span title="App helpers (v2.1)" class=linkLabel_WmDU>App helpers (v2.1)</span></a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/doc/pr-2672/packaging/doc><span title=Documentation class=linkLabel_WmDU>Documentation</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/doc/pr-2672/packaging/test><span title="Testing your app" class=linkLabel_WmDU>Testing your app</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/doc/pr-2672/packaging/publish><span title="Publishing your app on the catalog" class=linkLabel_WmDU>Publishing your app on the catalog</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/doc/pr-2672/packaging/advanced><span title=Advanced class=categoryLinkLabel_W154>Advanced</span></a><button aria-label="Expand sidebar category 'Advanced'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/doc/pr-2672/category/misc-resources><span title="Misc resources" class=categoryLinkLabel_W154>Misc resources</span></a><button aria-label="Expand sidebar category 'Misc resources'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/doc/pr-2672/packaging/policy><span title="Apps catalog policy" class=linkLabel_WmDU>Apps catalog policy</span></a></ul></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/doc/pr-2672/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/doc/pr-2672/packaging/><span>Packaging applications</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Testing your app</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Testing your app</h1></header><p>Once you're done writing you app package, you'll want to check that everything works correctly. At first, you can manually try to install your app on some test server of your own : <code>sudo yunohost app install ./path/to/mycustomapp_ynh</code></p>
<p>Note that <code>./path/to/mycustomapp_ynh</code> can be a local path or an external git repository https URL (basically anything compatible with <code>git clone</code>).</p>
<p>You may also be interested in specifying the following parameters for <code>yunohost app install</code> command:</p>
<ul>
<li><code>--debug</code> : prints detailed log information</li>
<li><code>--no-remove-on-failure</code> : won't remove the app if the install fails - therefore you can analyze and manually run/debug stuff, typically in <code>/var/www/$app</code></li>
<li><code>--force</code> : so that you are not asked confirmation if the app is not safe to use (low quality, experimental or 3rd party), or when the app displays a post-install notification.</li>
<li><code>-a "&domain=sub.domain.tld&path=/my_app&init_main_permission=all_users"</code> : can be used to preconfigure the answers to the install questions that are asked otherwise after entering the command. i.e.<!-- -->
<ul>
<li><code>domain=sub.domain.tld</code> : the domain/subdomain on which to install the app</li>
<li><code>path=/my_app</code> : the path to which the app will be accessible, e.g. https://(sub.)domain.tld/my_app</li>
<li><code>init_main_permission=all_users</code> : permission group associated to the app (can be <code>all_users</code>, <code>visitors</code>, etc.)</li>
</ul>
</li>
</ul>
<p>Testing everything manually often becomes tedious ;). The YunoHost project maintains several tools to automatically and somewhat "objectively" analyze and tests our 400+ apps catalog.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=package-linter>Package linter<a href=#package-linter class=hash-link aria-label="Direct link to Package linter" title="Direct link to Package linter" translate=no>​</a></h2>
<p>The <a href=https://github.com/YunoHost/package_linter target=_blank rel="noopener noreferrer">package linter</a> performs a static analysis of your app to check a bunch of recommended practice.</p>
<p>It is pretty straightforward to run considering that you should only need Python installed.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=package-check>Package check<a href=#package-check class=hash-link aria-label="Direct link to Package check" title="Direct link to Package check" translate=no>​</a></h2>
<p><a href=https://github.com/YunoHost/package_check target=_blank rel="noopener noreferrer">Package check</a> is a more elaborate software that will tests many scenarios for you app such as:</p>
<ul>
<li>installing, removing and reinstalling your app + validating that the app can indeed be accessed on its URL endpoint (with no 404/502 error)<!-- -->
<ul>
<li>when installing on a root domain (<code>domain.tld/</code>)</li>
<li>when installing in a domain subpatch (<code>domain.tld/foobar</code>)</li>
<li>installing in private mode</li>
<li>installing multiple instances</li>
</ul>
</li>
<li>upgrading from the same version</li>
<li>upgrading from older versions</li>
<li>backup/restore</li>
<li>...</li>
</ul>
<p>Package check will then summarize the results and compute a quality level ranging from 0 to 8.</p>
<p>To run its tests, package check uses a LXC container to manipulate the package in a clean environment without any previous installations. Installing LXC/LXD is unfortunately not that straighforward (it kinda depends on your OS/distribution), though we documented how to do so <a href=https://github.com/YunoHost/package_check#deploying-package_check target=_blank rel="noopener noreferrer">in the README</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=package-checks-teststoml>Package check's <code>tests.toml</code><a href=#package-checks-teststoml class=hash-link aria-label="Direct link to package-checks-teststoml" title="Direct link to package-checks-teststoml" translate=no>​</a></h3>
<p>Package check interfaces with your app's <code>tests.toml</code> which allows to control a few things about which tests are run - though it is usually pretty empty as many things can be deduced from the app's manifest.</p>
<p>More info about the syntax here are also available <a href=https://github.com/YunoHost/package_check#teststoml-syntax target=_blank rel="noopener noreferrer">in the README</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=application-quality-levels>Application quality levels<a href=#application-quality-levels class=hash-link aria-label="Direct link to Application quality levels" title="Direct link to Application quality levels" translate=no>​</a></h3>
<p>Package check will compute a quality level ranging from 0 to 8.</p>
<p>Apps with level equal or lower than 4 are considered "bad quality" and YunoHost will discourage people from installing such apps.</p>
<p>While this definition may vary with time, the current definition as of February 2023 is roughly:</p>
<ul>
<li>level 0 (« Broken ») : the application doesn't work at all or doesn't pass level 1 criterias</li>
<li>level 1 (« Installable in at least one scenario ») : At least one install succeeded, and there's no critical issue reported in the linter</li>
<li>level 2 (« Installable in all scenarios ») : All install scenarios tested (typically install on full domain, domain+subpath, multi-instance, private/public) succeeded</li>
<li>level 3 (« Can be upgraded ») : All upgrades tests from the current commit succeeded</li>
<li>level 4 (« Can be backuped/restored ») : All backup/restore tests succeeded</li>
<li>level 5 (« No linter error ») : No red errors reported by the linter</li>
<li>level 6 (« App is in a community-operated git org ») : The app is hosted on YunoHost-Apps organization. (From a maintenance / security point of view, we want to avoid the catalog being filled with apps that are privately-hosted and that the initial maintainer will ultimately abandon and that can't be maintained easily by the community)</li>
<li>level 7 (« All tests succeeded + No linter warning ») : Pass all test (including for example upgrade from past commits) and no warning reported by the linter</li>
<li>level 8 (« Maintained and long-term good quality ») : The app is not flagged as not-maintained / alpha / deprecated / obsolete in the catalog, and has been at least level 5 during the past ~year</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=continous-integration-ci>Continous integration (CI)<a href=#continous-integration-ci class=hash-link aria-label="Direct link to Continous integration (CI)" title="Direct link to Continous integration (CI)" translate=no>​</a></h2>
<p>The YunoHost project also developed an interface called <a href=https://github.com/YunoHost/yunorunner target=_blank rel="noopener noreferrer"><code>yunorunner</code></a> which interfaces with <code>package_check</code>, handles a job queue, and automatically add jobs to the queue using some triggers.</p>
<p>The two major ones are:</p>
<ul>
<li><a href=https://ci-apps.yunohost.org/ci target=_blank rel="noopener noreferrer">The "official" CI</a>: This where the "official" quality level of each app comes from. Jobs are triggered after each commit on the repo's master branch.</li>
<li><a href=https://ci-apps-dev.yunohost.org/ci/ target=_blank rel="noopener noreferrer">The "dev" CI</a>: This is where people validate their pull request which is often more convenient than running <code>package_check</code> yourself, and has the advantage of the results being automatically public, which facilitates collective debugging.</li>
</ul>
<p>Members of the YunoHost-Apps organization can trigger jobs on the dev CI directly from a pull request simply by commenting something like <code>!testme</code> (cf for example <a href=https://github.com/YunoHost-Apps/nextcloud_ynh/pull/532#issuecomment-1402751409 target=_blank rel="noopener noreferrer">here</a>). A .png summary of the tests will be automatically displayed once the job completes (and you can click the link to see the entire job execution and debug it).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=why-create-package_check--yunorunner-rather-than-using-well-known-solutions-like-gitlab-ci->Why create <code>package_check</code> + <code>yunorunner</code> rather than using well-known solutions like Gitlab-CI ?<a href=#why-create-package_check--yunorunner-rather-than-using-well-known-solutions-like-gitlab-ci- class=hash-link aria-label="Direct link to why-create-package_check--yunorunner-rather-than-using-well-known-solutions-like-gitlab-ci-" title="Direct link to why-create-package_check--yunorunner-rather-than-using-well-known-solutions-like-gitlab-ci-" translate=no>​</a></h3>
<p>Constrain 1 : Gitlab-CI or other similar solutions are mostly based around Docker, while we use LXC. In particular, we do want to reuse LXC snapshots of successful install during other tests (upgrade, backup/restore, ..) rather than reinstalling the app from scratch everytime, which drastically reduces the test time. We could do so using Gitlab artifacts, but such artifacts are automatically made public which is not convenient because they contain a full filesystem and their only use it to speed up the test process. Moreover, in the Gitlab-CI paradigm, jobs are not running on the same machine and they would need to download the snapshot which can be lengthy. The other mechanism, caching, is explicitly advertised as not reliable in Gitlab's-CI doc. What would be helpful would be some non-public artifact system (see similar discussion <a href=https://gitlab.com/gitlab-org/gitlab-runner/-/issues/336 target=_blank rel="noopener noreferrer">here</a>)</p>
<p>Constrain 2 : Our test workflow is somewhat complex and we have 400+ apps to maintain. It's not acceptable to have to duplicate/maintain the CI logic in app each repository, so we need some sort of repo that handles the CI logic, while still being to supersed some behavior from the app repo itself. Gitlab-CI has some syntax which can allow this, but this remains quite laborious.</p>
<p>Constrain 3 : Having a common job queue/dashboard UI accross all app. In the Gitlab-CI paradigm, each repository has its own job queue/dashboard UI, but this is not really convenient.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/YunoHost/doc/tree/main/docs/packaging/40.test.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/doc/pr-2672/packaging/doc><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Documentation</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/doc/pr-2672/packaging/publish><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Publishing your app on the catalog</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#package-linter class="table-of-contents__link toc-highlight">Package linter</a><li><a href=#package-check class="table-of-contents__link toc-highlight">Package check</a><ul><li><a href=#package-checks-teststoml class="table-of-contents__link toc-highlight">Package check's <code>tests.toml</code></a><li><a href=#application-quality-levels class="table-of-contents__link toc-highlight">Application quality levels</a></ul><li><a href=#continous-integration-ci class="table-of-contents__link toc-highlight">Continous integration (CI)</a><ul><li><a href=#why-create-package_check--yunorunner-rather-than-using-well-known-solutions-like-gitlab-ci- class="table-of-contents__link toc-highlight">Why create <code>package_check</code> + <code>yunorunner</code> rather than using well-known solutions like Gitlab-CI ?</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Legal</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/YunoHost/yunohost/blob/dev/LICENSE target=_blank rel="noopener noreferrer" class=footer__link-item>License<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/doc/pr-2672/community/terms_of_services>CGUs</a><li class=footer__item><a href=https://github.com/YunoHost/project-organization target=_blank rel="noopener noreferrer" class=footer__link-item>Organization<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Follow us</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://forum.yunohost.org/c/announcement/8/none target=_blank rel="noopener noreferrer" class=footer__link-item>Blog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://toot.aquilenet.fr/@yunohost target=_blank rel="noopener noreferrer" class=footer__link-item>Mastodon<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://videos.globenet.org/a/yunohost/videos?s=1" target=_blank rel="noopener noreferrer" class=footer__link-item>Peertube<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Use</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/doc/pr-2672/>Documentation</a><li class=footer__item><a href=https://apps.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Apps catalog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://forum.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Forum<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/doc/pr-2672/community/help>Ask for help</a><li class=footer__item><a href=https://status.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Service status<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost/yunohost/blob/dev/debian/changelog target=_blank rel="noopener noreferrer" class=footer__link-item>Changelog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Contribute</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://donate.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Donate<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost/issues/issues target=_blank rel="noopener noreferrer" class=footer__link-item>Issues<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub (core)<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost-Apps target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub (apps)<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://translate.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Translate<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/doc/pr-2672/img/icons/ynh_logo_roundcorner.png alt="Yunohost Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/doc/pr-2672/img/icons/ynh_logo_roundcorner.png alt="Yunohost Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"/></div><div class=footer__copyright>Build with Docusaurus for YunoHost</div></div></div></footer></div></body>