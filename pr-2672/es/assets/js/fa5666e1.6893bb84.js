"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["4624"],{4673:function(e,r,n){n.r(r),n.d(r,{frontMatter:()=>a,toc:()=>l,default:()=>u,metadata:()=>o,assets:()=>d,contentTitle:()=>s});var o=JSON.parse('{"id":"admin/get_started/post_install/port_forwarding","title":"Configure port-forwarding","description":"Si te est\xe1s auto-alojando en casa y sin VPN, tienes que redirigirse los puertos de tu router (caja/box).","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/admin/05.get_started/40.post_install/15.port_forwarding.mdx","sourceDirName":"admin/05.get_started/40.post_install","slug":"/admin/get_started/post_install/port_forwarding","permalink":"/doc/pr-2672/es/admin/get_started/post_install/port_forwarding","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/es/docusaurus-plugin-content-docs/current/admin/05.get_started/40.post_install/15.port_forwarding.mdx","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"title":"Configure port-forwarding"},"sidebar":"admin","previous":{"title":"Find your server\'s local IP","permalink":"/doc/pr-2672/es/admin/get_started/post_install/find_ip"},"next":{"title":"Configuraci\xf3n de la zona DNS","permalink":"/doc/pr-2672/es/admin/get_started/post_install/dns_config"}}'),t=n(4848),i=n(4429);let a={title:"Configure port-forwarding"},s,d={},l=[{value:"0. Diagnosticar los puertos abiertos",id:"0-diagnosticar-los-puertos-abiertos",level:3},{value:"1. Acceder a la interfaz de administraci\xf3n de tu router/caja/box",id:"1-acceder-a-la-interfaz-de-administraci\xf3n-de-tu-routercajabox",level:3},{value:"2. Descubrir la IP local del servidor",id:"2-descubrir-la-ip-local-del-servidor",level:3},{value:"3. Redirigir los puertos",id:"3-redirigir-los-puertos",level:3},{value:"Redirecci\xf3n autom\xe1tica / UPnP",id:"redirecci\xf3n-autom\xe1tica--upnp",level:2}];function c(e){let r={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components},{FAIcon:n,Figure:o}=r;return n||p("FAIcon",!0),o||p("Figure",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.p,{children:"Si te est\xe1s auto-alojando en casa y sin VPN, tienes que redirigirse los puertos de tu router (caja/box)."}),"\n",(0,t.jsx)(r.p,{children:"El esquema aqu\xed abajo intenta explicar brevemente el rol de la redirecci\xf3n de los puertos durante la instalaci\xf3n de un servidor en tu casa."}),"\n",(0,t.jsx)(o,{caption:"Illustration of the importance of port-forwarding",src:"/img/portForwarding_en.png"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"https://www.testdevelocidad.es/configuraciones/abrir-correctamente-los-puertos-router/",children:"Esta p\xe1gina"})," tambi\xe9n propone explicaciones detalladas sobre el funcionamiento de los puertos, y las etapas de configuraci\xf3n para un router gen\xe9rico."]}),"\n",(0,t.jsx)(r.h3,{id:"0-diagnosticar-los-puertos-abiertos",children:"0. Diagnosticar los puertos abiertos"}),"\n",(0,t.jsx)(r.p,{children:"Una vez que tienes la redirecci\xf3n configurada, deber\xedas poder comprobar que los puertos est\xe1n bien abiertos con esta herramienta :"}),"\n",(0,t.jsx)("a",{class:"btn btn-default",href:"http://ports.yunohost.org",children:"Comprobar la redirecci\xf3n de los puertos"}),"\n",(0,t.jsx)(r.h3,{id:"1-acceder-a-la-interfaz-de-administraci\xf3n-de-tu-routercajabox",children:"1. Acceder a la interfaz de administraci\xf3n de tu router/caja/box"}),"\n",(0,t.jsxs)(r.p,{children:["En general la interfaz de administraci\xf3n est\xe1 accesible desde ",(0,t.jsx)(r.a,{href:"http://192.168.0.1",children:"http://192.168.0.1"})," o ",(0,t.jsx)(r.a,{href:"http://192.168.1.1",children:"http://192.168.1.1"}),".\nLuego, es posible que tengas que autenticarte con los ID provechos pour tu proveedor de acceso a Internet."]}),"\n",(0,t.jsx)(r.h3,{id:"2-descubrir-la-ip-local-del-servidor",children:"2. Descubrir la IP local del servidor"}),"\n",(0,t.jsx)(r.p,{children:"Identifica cu\xe1l es la IP local de tu servidor, o sea :"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"desde la interfaz de tu router/caja/box, donde tal vez est\xe9n listados los dipositivos conectados a la red local"}),"\n",(0,t.jsx)(r.li,{children:"desde la webadmin de YunoHost, en 'Estado del servidor', 'Red'"}),"\n",(0,t.jsxs)(r.li,{children:["desde la l\xednea de comandos en tu servidor, por ejemplo con ",(0,t.jsx)(r.code,{children:"ip a | grep \"scope global\" | awk '{print $2}'"})]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["En general una direcci\xf3n IP local se parece a ",(0,t.jsx)(r.code,{children:"192.168.xx.yy"}),", o ",(0,t.jsx)(r.code,{children:"10.0.xx.yy"}),"."]}),"\n",(0,t.jsx)(r.h3,{id:"3-redirigir-los-puertos",children:"3. Redirigir los puertos"}),"\n",(0,t.jsx)(r.p,{children:"En la interfaz de administraci\xf3n de tu router/caja/box, tienes que encontrar una categor\xeda que debe llamarse 'Configuraci\xf3n del router', o 'Redirecci\xf3n de puertos'. El nombre difiere seg\xfan el tipo o la marca del router / de la caja Internet..."}),"\n",(0,t.jsx)(r.p,{children:"Luego tienes que redirigir cada uno de los puertos listados a continuaci\xf3n hacia la IP local de tu router para que los varios servicios de YunoHost funcionen. Para cada uno de ellos, una redirecci\xf3n 'TCP' es necesaria. En algunas interfaces, tal vez encontrar\xe1s referencias a un puerto 'externo' y un puerto 'interno' : en nuestro caso, se trata del mismo n\xfamero de puerto, que sea interno o externo."}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Web: ",(0,t.jsx)(r.code,{children:"80"})," ",(0,t.jsx)("small",{children:"(HTTP)"}),", ",(0,t.jsx)(r.code,{children:"443"})," ",(0,t.jsx)("small",{children:"(HTTPS)"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"/admin/command_line",children:"SSH"}),": ",(0,t.jsx)(r.code,{children:"22"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"https://wikipedia.org/wiki/XMPP",children:"XMPP"}),": ",(0,t.jsx)(r.code,{children:"5222"})," ",(0,t.jsx)("small",{children:"(clients)"}),", ",(0,t.jsx)(r.code,{children:"5269"})," ",(0,t.jsx)("small",{children:"(servers)"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.a,{href:"/admin/email",children:"Email"}),": ",(0,t.jsx)(r.code,{children:"25"}),", ",(0,t.jsx)(r.code,{children:"587"})," ",(0,t.jsx)("small",{children:"(SMTP)"}),", ",(0,t.jsx)(r.code,{children:"993"})," ",(0,t.jsx)("small",{children:"(IMAP)"})]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"If you use both a modem and a router, then you need to do the following:"}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsx)(r.li,{children:"first on the modem (the box closest to the internet) create rules to forward the above ports to your router;"}),"\n",(0,t.jsx)(r.li,{children:"then on the router (the box between the modem and your devices) create rules to forward the above ports to the static IP address for your server."}),"\n"]}),"\n",(0,t.jsx)(r.admonition,{type:"warning",children:(0,t.jsxs)(r.p,{children:[(0,t.jsx)(n,{icon:"fa-exclamation-triangle"})," Algunos proveedores de acceso a Internet bloquean el puerto 25 (mail SMTP) por defecto para luchar con el spam. Otros (m\xe1s escasos) no permiten utilizar libremente los puertos 80/443. Dependiendo de tu proveedor, puede ser posible de abrir estos puertos en la interfaz... Ver ",(0,t.jsx)(r.a,{href:"/admin/get_started/providers/isp/",children:"esta p\xe1gina"})," por m\xe1s informaciones."]})}),"\n",(0,t.jsx)(r.h2,{id:"redirecci\xf3n-autom\xe1tica--upnp",children:"Redirecci\xf3n autom\xe1tica / UPnP"}),"\n",(0,t.jsx)(r.p,{children:"Una tecnolog\xeda llamada UPnP est\xe1 disponible en algunos routers/cajas/box y permite redirigir autom\xe1ticamente puertos hacia una m\xe1quina que lo pide. Si UPnP est\xe1 activado en tu casa, ejecutar este comando deber\xeda autom\xe1ticamente redirigir los puertos correctos :"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"sudo yunohost firewall reload\n"})})]})}function u(e={}){let{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}function p(e,r){throw Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},4429:function(e,r,n){n.d(r,{R:()=>a,x:()=>s});var o=n(6540);let t={},i=o.createContext(t);function a(e){let r=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),o.createElement(i.Provider,{value:r},e.children)}}}]);