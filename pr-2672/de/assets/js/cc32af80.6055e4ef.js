"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["824"],{8641:function(e,t,n){n.r(t),n.d(t,{frontMatter:()=>r,toc:()=>c,default:()=>d,metadata:()=>o,assets:()=>a,contentTitle:()=>h});var o=JSON.parse('{"id":"dev/core/architecture","title":"YunoHost architecture","description":"The core of YunoHost is built in Python around the yunohost server, but is composed","source":"@site/docs/dev/15.core/05.architecture.mdx","sourceDirName":"dev/15.core","slug":"/dev/core/architecture","permalink":"/doc/pr-2672/de/dev/core/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/docs/dev/15.core/05.architecture.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"YunoHost architecture"},"sidebar":"devpackaging","previous":{"title":"Core development","permalink":"/doc/pr-2672/de/dev/core/"},"next":{"title":"Development environment","permalink":"/doc/pr-2672/de/dev/core/devenv"}}'),s=n(4848),i=n(4429);let r={title:"YunoHost architecture"},h,a={},c=[{value:"Moulinette",id:"moulinette",level:2},{value:"YunoHost",id:"yunohost",level:2},{value:"SSOwat",id:"ssowat",level:2},{value:"YunoHost-portal",id:"yunohost-portal",level:2},{value:"YunoHost-admin",id:"yunohost-admin",level:2}];function l(e){let t={a:"a",code:"code",em:"em",h2:"h2",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["The core of YunoHost is built in Python around the ",(0,s.jsx)(t.code,{children:"yunohost"})," server, but is composed\nof four main components:"]}),"\n",(0,s.jsx)(t.h2,{id:"moulinette",children:(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/moulinette",children:"Moulinette"})}),"\n",(0,s.jsxs)(t.p,{children:['It is a small "homemade" framework. ',(0,s.jsx)(t.a,{href:"https://moulinette.readthedocs.io/en/latest/actionsmap.html",children:"Its major role"}),"\nis to allow us to build both a web API and a command-line API from the same\nPython code thanks to a YAML schema which we call\n",(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost/blob/dev/share/actionsmap.yml",children:"the actionmap"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"It handles other mechanisms like authentication, internationalization and\nsmall technical utilitary functions (e.g. reading/writing JSON)."}),"\n",(0,s.jsxs)(t.p,{children:["Moulinette has its own documentation available ",(0,s.jsx)(t.a,{href:"https://moulinette.readthedocs.io/en/latest/",children:"here"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"yunohost",children:(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost",children:"YunoHost"})}),"\n",(0,s.jsx)(t.p,{children:"This piece is the very core of YunoHost. It contains:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost/tree/dev/src",children:"The Python code"})," that manages users, domains, apps, services and other things"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost/tree/dev/helpers",children:"Bash helpers"})," mainly used by application packagers to package applications"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost/tree/dev/hooks",children:"Hooks"})," and ",(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost/tree/dev/conf",children:"templates"})," that are used to configure the various pieces of the ecosystem such as NGINX, Postfix..."]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost/tree/dev/locales",children:"Internationalized strings"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost/tree/dev/tests",children:"Tests"})}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"ssowat",children:(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/ssowat",children:"SSOwat"})}),"\n",(0,s.jsx)(t.p,{children:'This is the single sign-on backend of YunoHost. It is based on Lua scripts that are directly interfaced with NGINX\nand handle all the "technical" aspects of authentication and route accesses.'}),"\n",(0,s.jsxs)(t.p,{children:["SSOwat is configured through ",(0,s.jsx)(t.code,{children:"/etc/ssowat/conf.json"})," which is generated by YunoHost."]}),"\n",(0,s.jsx)(t.h2,{id:"yunohost-portal",children:(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost-portal",children:"YunoHost-portal"})}),"\n",(0,s.jsx)(t.p,{children:"This is the web user portal used to log in and browse installed apps."}),"\n",(0,s.jsx)(t.h2,{id:"yunohost-admin",children:(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost-admin",children:"YunoHost-admin"})}),"\n",(0,s.jsxs)(t.p,{children:["It is an ",(0,s.jsx)(t.em,{children:"optional"})," dependency of YunoHost and corresponds to an interface for the web API created by YunoHost and Moulinette (c.f. the ",(0,s.jsx)(t.code,{children:"yunohost-api"})," service)."]}),"\n",(0,s.jsx)(t.p,{children:"It essentially contains:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost-admin/tree/dev/app/src/views",children:"View templates"})}),"\n",(0,s.jsxs)(t.li,{children:["Corresponding ",(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost-admin/tree/dev/src/js/yunohost/controllers",children:"JavaScript controllers"})," that interact with the YunoHost API"]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/YunoHost/yunohost-admin/tree/dev/app/src/i18n/locales",children:"Internationalized strings"})}),"\n"]})]})}function d(e={}){let{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},4429:function(e,t,n){n.d(t,{R:()=>r,x:()=>h});var o=n(6540);let s={},i=o.createContext(s);function r(e){let t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function h(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);