"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["9953"],{1126:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>o,toc:()=>a,default:()=>u,metadata:()=>t,assets:()=>l,contentTitle:()=>d});var t=JSON.parse('{"id":"dev/doc/index","title":"R\xe9daction de la documentation","description":"{/ TODO: Migrer cette documentation pour Docusaurus /}","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/dev/05.doc/index.mdx","sourceDirName":"dev/05.doc","slug":"/dev/doc/","permalink":"/pr-2672/fr/dev/doc/","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/fr/docusaurus-plugin-content-docs/current/dev/05.doc/index.mdx","tags":[],"version":"current","frontMatter":{"title":"R\xe9daction de la documentation"},"sidebar":"devpackaging","previous":{"title":"Contribuer","permalink":"/pr-2672/fr/dev/"},"next":{"title":"Applications documentation","permalink":"/pr-2672/fr/dev/doc/apps_documentation"}}'),i=s(4848),r=s(4429);let o={title:"R\xe9daction de la documentation"},d,l={},a=[{value:"Via GitHub",id:"via-github",level:2},{value:"Grav",id:"grav",level:2},{value:"L&#39;en-t\xeate des pages Grav",id:"len-t\xeate-des-pages-grav",level:2},{value:"Syntaxe",id:"syntaxe",level:2},{value:"Pages sp\xe9ciales",id:"pages-sp\xe9ciales",level:2},{value:"H\xe9bergez votre propre documentation de test",id:"h\xe9bergez-votre-propre-documentation-de-test",level:2}];function c(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:["\n",(0,i.jsx)(n.h2,{id:"via-github",children:"Via GitHub"}),"\n",(0,i.jsxs)(n.p,{children:["La documentation de YunoHost est g\xe9r\xe9e sur un ",(0,i.jsx)(n.a,{href:"https://github.com/YunoHost/doc",children:"d\xe9p\xf4t Git"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Si vous n'\xeates pas familier avec GitHub, il y a un bouton \"\xc9diter\" en haut de chaque page qui vous redirigera vers l'\xe9diteur en ligne de GitHub et qui vous aidera \xe0 proposer vos modifications (appel\xe9es ",(0,i.jsx)(n.em,{children:"Pull Requests"}),", PR)."]}),"\n",(0,i.jsxs)(n.p,{children:["Cependant, si vous \xeates lanc\xe9 sur une s\xe9rie de contributions, vous devriez faire un ",(0,i.jsx)(n.em,{children:"fork"})," du d\xe9p\xf4t sur GitHub. Vous pouvez ensuite faire toutes les modifications (",(0,i.jsx)(n.em,{children:"commits"}),") que vous voulez sur votre d\xe9p\xf4t, et les soumettre tous ensemble dans la m\xeame PR. L'\xe9tiquette sur GitHub vous encouragerait \xe0 rassembler dans une m\xeame PR tous les ",(0,i.jsx)(n.em,{children:"commits"})," d'une m\xeame th\xe9matique."]}),"\n",(0,i.jsx)(n.p,{children:"Puisque l'\xe9diteur en ligne ne permet pas d'ajouter des fichiers, utiliser Git par la ligne de commande est la m\xe9thode recommand\xe9e si vous voulez ajouter des m\xe9dias (comme des images)."}),"\n",(0,i.jsx)(n.h2,{id:"grav",children:"Grav"}),"\n",(0,i.jsxs)(n.p,{children:["Sous le capot, la documentation est d\xe9ploy\xe9e avec le ",(0,i.jsx)(n.a,{href:"https://getgrav.org/?target=_blank",children:"CMS Grav"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"La structure du d\xe9p\xf4t est d\xe9crite ici:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"+-- config\n   +-- site.yaml\n   +-- system.yaml\n   +-- themes\n       +-- yunohost-docs.yaml\n          # Quelques param\xe8tres pour le th\xe8me de la documentation\n+-- images\n   # Contains the images used in the documentation pages.\n+-- pages\n   # The directory containing the documentation pages.\n   # The pages hierarchy is reflected by the directory hierarchy.\n   +-- 00.home\n   +-- 01.administrate\n   +-- 02.applications\n   +-- 03.community\n   +-- 04.contribute\n+-- themes\n    +-- learn4\n    +-- yunohost-docs\n       # Contient le code du th\xe8me, qui est une extension du th\xe8me Learn4\n+-- .gitignore\n    # Contient les instructions pour ne pas envoyer de fichier\n    # sensible ou inutile vers le d\xe9p\xf4t Git\n+-- README.md\n"})}),"\n",(0,i.jsxs)(n.p,{children:["!!!! Pour en apprendre plus sur les fonctionnalit\xe9s de Grav, vous pouvez consulter sa ",(0,i.jsx)(n.a,{href:"https://learn.getgrav.org?target=_blank",children:"documentation"})," (en anglais). Le reste de cette page donne quelques consignes sp\xe9cifiques pour contribuer \xe0 la documentation de YunoHost."]}),"\n",(0,i.jsx)(n.h2,{id:"len-t\xeate-des-pages-grav",children:"L'en-t\xeate des pages Grav"}),"\n",(0,i.jsx)(n.p,{children:"Chaque page commence par un en-t\xeate qui donne les instructions \xe0 Grav sur comment la traiter. Regardons l'en-t\xeate de cette page :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"---\ntitle: R\xe9daction de la documentation\ntemplate: docs\ntaxonomy:\n    category: docs\nroutes:\n  default: '/doc'\n---\n\n"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["L'en-t\xeate commence et finit par une ligne contenant ",(0,i.jsx)(n.code,{children:"---"})," ;"]}),"\n",(0,i.jsxs)(n.li,{children:["La cl\xe9 ",(0,i.jsx)(n.code,{children:"title"})," g\xe8re le premier titre de la page, son nom dans le menu de navigation \xe0 gauche, et son nom dans l'onglet du navigateur ;"]}),"\n",(0,i.jsxs)(n.li,{children:["Les cl\xe9s ",(0,i.jsx)(n.code,{children:"template"})," et ",(0,i.jsx)(n.code,{children:"taxonomy"})," doivent toujours \xeatre inclues et laiss\xe9es telles quelles. Elles informent Grav sur quel th\xe8me appliquer aux pages, et permettent de les ordonner correctement."]}),"\n",(0,i.jsxs)(n.li,{children:["La cl\xe9 ",(0,i.jsx)(n.code,{children:"routes"})," et son enfant ",(0,i.jsx)(n.code,{children:"default"})," font que la page est accessible par d\xe9faut \xe0 l'adresse ",(0,i.jsx)(n.code,{children:"https://yunohost.org/docs/doc"})," au lieu de devoir la chercher \xe0 l'adresse ",(0,i.jsx)(n.code,{children:"https://yunohost.org/docs/dev/doc"}),", qui correspond \xe0 son emplacement r\xe9el dans la hi\xe9rarchie des dossiers."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"syntaxe",children:"Syntaxe"}),"\n",(0,i.jsxs)(n.p,{children:["Vous pouvez utiliser la syntaxe Markdown, consultez la page de ",(0,i.jsx)(n.a,{href:"/dev/doc/markdown_guide",children:"documentation d\xe9di\xe9e"})," pour plus d'information."]}),"\n",(0,i.jsxs)(n.p,{children:["! Notez qu'il ne faut pas pr\xe9ciser le code de langue au d\xe9but des liens vers d'autres pages de la documentation : ",(0,i.jsx)(n.code,{children:"/fr"}),", ",(0,i.jsx)(n.code,{children:"/en"}),", etc. sont superflus."]}),"\n",(0,i.jsx)(n.p,{children:"Pour \xe9tendre les fonctionnalit\xe9s de Markdown, des extensions ont \xe9t\xe9 ajout\xe9es \xe0 Grav. Vous pouvez consulter leur propre documentation sur GitHub pour d\xe9couvrir comment vous en servir."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"anchors\nexternal_links\nflex-objects\nhighlight\nimage-captions\nmarkdown-notices\npresentation\npresentation-deckset\nshortcode-core\n"})}),"\n",(0,i.jsx)(n.h2,{id:"pages-sp\xe9ciales",children:"Pages sp\xe9ciales"}),"\n",(0,i.jsx)(n.p,{children:"Quelques pages de la documentation sont g\xe9n\xe9r\xe9es automatiquement ou dynamiquement."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Page"}),(0,i.jsx)(n.th,{children:"Chemin"}),(0,i.jsx)(n.th,{children:"Notes"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Catalogue d'applications"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/pages/02.applications/01.catalog/apps.md"})}),(0,i.jsxs)(n.td,{children:["R\xe9cup\xe8re et traite le fichier ",(0,i.jsx)(n.a,{href:"https://github.com/YunoHost/apps/blob/master/apps.toml",children:"app.json"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Apps helpers"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pages/04.contribute/04.packaging_apps/11.helpers/packaging_apps_helpers.md"})}),(0,i.jsxs)(n.td,{children:["G\xe9n\xe9r\xe9e par ce ",(0,i.jsx)(n.a,{href:"https://github.com/YunoHost/yunohost/blob/dev/doc/generate_helper_doc.py?target=_blank",children:"script"}),", \xe0 partir de ce ",(0,i.jsx)(n.a,{href:"https://github.com/YunoHost/yunohost/blob/dev/doc/helper_doc_template.md?target=_blank",children:"canevas"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Documentation des apps"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pages/02.applications/02.docs/docs.md"})}),(0,i.jsxs)(n.td,{children:["Liste les sous-pages du m\xeame dossier qui ont les cl\xe9s ",(0,i.jsx)(n.code,{children:"taxonomy.category: docs, apps"})," dans leur en-t\xeate"]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"h\xe9bergez-votre-propre-documentation-de-test",children:"H\xe9bergez votre propre documentation de test"}),"\n",(0,i.jsx)(n.p,{children:"! Ces instructions ne sont pas encore compl\xe8tement test\xe9es. Aidez-nous en nous rapportant tout probl\xe8me que vous rencontriez."}),"\n",(0,i.jsxs)(n.ol,{start:"0",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.em,{children:"Fork"})," le d\xe9p\xf4t de la documentation YunoHost sur GitHub"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Installez l'app Grav pour YunoHost : ",(0,i.jsx)(n.code,{children:"yunohost app install grav"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Installez les extensions suivantes via l'admin ou la ligne de commande de Grav :"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"anchors\nbreadcrumbs\nexternal_links\nfeed\nflex-objects\ngit-sync\nhighlight\nimage-captions\nlangswitcher\nmarkdown-notices\npresentation\npresentation-deckset\nshortcode-core\ntntsearch\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Param\xe9trez l'extension Git Sync."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Choisissez ",(0,i.jsx)(n.code,{children:"GitHub"})," et vos identifiants GitHub"]}),"\n",(0,i.jsxs)(n.li,{children:["Entrez l'adresse de votre ",(0,i.jsx)(n.em,{children:"fork"}),", par exemple ",(0,i.jsx)(n.code,{children:"https://github.com/username/doc"})]}),"\n",(0,i.jsxs)(n.li,{children:["Copiez l'URL du webhook, par exemple ",(0,i.jsx)(n.code,{children:"https://grav.example/_git-sync-ca25c111f0de"})]}),"\n",(0,i.jsxs)(n.li,{children:['"Basic settings" > "Folders to Sync" : ',(0,i.jsx)(n.code,{children:"pages"})," ",(0,i.jsx)(n.code,{children:"images"})," ",(0,i.jsx)(n.code,{children:"themes"})]}),"\n",(0,i.jsx)(n.li,{children:'"Git Repo Settings" > "User not required" : Enabled'}),"\n",(0,i.jsx)(n.li,{children:'"Git Repo Settings" > "Web Hooks secret" : Enabled'}),"\n",(0,i.jsxs)(n.li,{children:['"Advanced settings" > "local branch" : ',(0,i.jsx)(n.code,{children:"master"})]}),"\n",(0,i.jsxs)(n.li,{children:['"Advanced settings" > "remote branch" : ',(0,i.jsx)(n.code,{children:"master"}),(0,i.jsx)(n.br,{}),"\n","(vous pouvez changer ",(0,i.jsx)(n.code,{children:"master"})," en une autre branche si vous le souhaitez, mais n'oubliez pas de la cr\xe9er au pr\xe9alable sur GitHub)"]}),"\n",(0,i.jsx)(n.li,{children:'"Advanced settings" > "Committer Name" : votre nom d\'utilisateur sur GitHub'}),"\n",(0,i.jsx)(n.li,{children:'"Advanced settings" > "Committer Email" : votre email renseign\xe9 sur GitHub'}),"\n",(0,i.jsx)(n.li,{children:'Enregistrez et cliquez sur "Reset Local Copy"'}),"\n",(0,i.jsxs)(n.li,{children:["Renseignez les adresses dans les cl\xe9s ",(0,i.jsx)(n.code,{children:"commits"})," et ",(0,i.jsx)(n.code,{children:"tree"})," dans ",(0,i.jsx)(n.code,{children:"config/themes/yunohost-docs.yaml"})," pour quelles pointent vers l'adresse de votre ",(0,i.jsx)(n.em,{children:"fork"})," sur GitHub"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Assurez-vous que les dossiers ",(0,i.jsx)(n.code,{children:"user/pages/01.home"})," et ",(0,i.jsx)(n.code,{children:"user/pages/02.typography"})," sont supprim\xe9s."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'Dans l\'administration de Grav, dans "Configuration" > "System" :'}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:['"Language" > "Supported" : ',(0,i.jsx)(n.code,{children:"en"})," ",(0,i.jsx)(n.code,{children:"fr"})," ",(0,i.jsx)(n.code,{children:"de"})," ",(0,i.jsx)(n.code,{children:"es"})," ",(0,i.jsx)(n.code,{children:"ar"})]}),"\n",(0,i.jsxs)(n.li,{children:['"Language" > "Override Default Language" : ',(0,i.jsx)(n.code,{children:"en"})]}),"\n",(0,i.jsxs)(n.li,{children:['"Language" > "Set language from browser" : ',(0,i.jsx)(n.code,{children:"Yes"})]}),"\n",(0,i.jsxs)(n.li,{children:['"HTTP Headers" > "Etag" : ',(0,i.jsx)(n.code,{children:"Yes"})]}),"\n",(0,i.jsxs)(n.li,{children:['"Advanced" > "Blueprint Compatibility" : ',(0,i.jsx)(n.code,{children:"Yes"})]}),"\n",(0,i.jsxs)(n.li,{children:['"Advanced" > "YAML Compatibility" : ',(0,i.jsx)(n.code,{children:"Yes"})]}),"\n",(0,i.jsxs)(n.li,{children:['"Advanced" > "Twig Compatibility" : ',(0,i.jsx)(n.code,{children:"Yes"})]}),"\n"]}),"\n"]}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},4429:function(e,n,s){s.d(n,{R:()=>o,x:()=>d});var t=s(6540);let i={},r=t.createContext(i);function o(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);