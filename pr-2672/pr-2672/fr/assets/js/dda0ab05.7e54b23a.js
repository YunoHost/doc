"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["873"],{4063:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>a,toc:()=>c,default:()=>u,metadata:()=>r,assets:()=>d,contentTitle:()=>o});var r=JSON.parse('{"id":"dev/core/ynh_admin","title":"La webadmin","description":"Avec ynh-dev, lancez dans le conteneur:","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/dev/15.core/25.ynh_admin.mdx","sourceDirName":"dev/15.core","slug":"/dev/core/ynh_admin","permalink":"/pr-2672/fr/dev/core/ynh_admin","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/fr/docusaurus-plugin-content-docs/current/dev/15.core/25.ynh_admin.mdx","tags":[],"version":"current","sidebarPosition":25,"frontMatter":{"title":"La webadmin"},"sidebar":"devpackaging","previous":{"title":"Technical details for config panel structure and form option types","permalink":"/pr-2672/fr/dev/core/ynh_core/forms"},"next":{"title":"How is used the main domain","permalink":"/pr-2672/fr/dev/core/maindomain"}}'),t=s(4848),i=s(4429);let a={title:"La webadmin"},o="Travailler sur la webadmin",d={},c=[];function l(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"travailler-sur-la-webadmin",children:"Travailler sur la webadmin"})}),"\n",(0,t.jsxs)(n.p,{children:["Avec ",(0,t.jsx)(n.code,{children:"ynh-dev"}),", lancez dans le conteneur:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"./ynh-dev use-git yunohost-admin\n"})}),"\n",(0,t.jsx)(n.p,{children:"Ceci lance gulp, de sorte qu'\xe0 chaque fois que vous modifiez les sources, il\nrecompilera le code (JS) et vous pourrez voir les changements dans le navigateur\nweb (Ctrl+F5)."}),"\n",(0,t.jsx)(n.p,{children:"Pour stopper la commande, faites simplement Ctrl+C."}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsxs)(n.p,{children:["Il faudra peut-\xeatre r\xe9guli\xe8rement forcer le rafra\xeechissement du cache navigateur\npour propager correctement le JavaScript et/ou HTML (\xe0 chaque fois que l'on\nchange quelque chose dans ",(0,t.jsx)(n.code,{children:"js"})," ou ",(0,t.jsx)(n.code,{children:"views"}),", donc)."]})}),"\n",(0,t.jsxs)(n.p,{children:["L'interface web utilise une API pour communiquer avec YunoHost. Les commandes/requ\xeates de l'API sont \xe9galement d\xe9finies dans l'actionsmap. Par exemple, acc\xe9der \xe0 la page ",(0,t.jsx)(n.code,{children:"https://domain.tld/yunohost/api/users"})," correspond \xe0 une requ\xeate ",(0,t.jsx)(n.code,{children:"GET /users"})," vers l'API YunoHost. Cette requ\xeate est mapp\xe9e sur ",(0,t.jsx)(n.code,{children:"user_list()"}),". Acc\xe9der \xe0 cette URL devrait afficher le JSON retourn\xe9 par cette fonction. Les requ\xeates 'GET' sont typiquement destin\xe9es \xe0 demander de l'information au serveur, tandis que les requ\xeates 'POST' sont destin\xe9es \xe0 demander au serveur de modifier/changer des informations ou de r\xe9aliser des actions."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"js/yunohost/controllers"})," contient les parties JavaScript, et d\xe9finit quelles requ\xeates faire \xe0 l'API pendant le chargement d'une page donn\xe9e de l'interface, et comment traiter les donn\xe9es r\xe9cup\xe9r\xe9es pour g\xe9n\xe9rer la page, en utilisant des templates."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"views"})," contient les templates des pages de l'interface. Dans le template, les donn\xe9es venant du JavaScript peuvent \xeatre utilis\xe9es avec la syntaxe ",(0,t.jsx)(n.code,{children:"{{some-variable}}"}),", qui sera remplac\xe9e pendant la construction de la page. Il est \xe9galement possible d'avoir des conditions avec la syntaxe d'",(0,t.jsx)(n.a,{href:"http://handlebarsjs.com",children:"handlebars.js"})," : ",(0,t.jsx)(n.code,{children:"{{#if some-variable}}<p>du HTML conditionnel ici !</p>{{/if}}"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Pour l'internationalisation des messages, utilisez ",(0,t.jsx)(n.code,{children:"y18n.t('some-string-code')"}),"  dans le JavaScript, ou ",(0,t.jsx)(n.code,{children:"{{t 'some-string-code'}}"})," dans le template HTML, et mettez votre message dans ",(0,t.jsx)(n.code,{children:"locales/en.json"}),". Ne modifiez pas de fichiers de locales autres que ",(0,t.jsx)(n.code,{children:"en.json"}),", la traduction sera faite avec ",(0,t.jsx)(n.a,{href:"https://translate.yunohost.org/",children:"Weblate"})," !"]}),"\n"]}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},4429:function(e,n,s){s.d(n,{R:()=>a,x:()=>o});var r=s(6540);let t={},i=r.createContext(t);function a(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);