<!doctype html><html lang=ru dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-packaging/advanced/sso_ldap_integration" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.0"><title data-rh=true>SSO/LDAP integration | Yunohost</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=https://yunohost.org/assets/img/portal_simple_dark.jpg /><meta data-rh=true name=twitter:image content=https://yunohost.org/assets/img/portal_simple_dark.jpg /><meta data-rh=true property=og:url content=https://doc.next.yunohost.org/pr-2672/ru/packaging/advanced/sso_ldap_integration /><meta data-rh=true property=og:locale content=ru /><meta data-rh=true property=og:locale:alternate content=ar /><meta data-rh=true property=og:locale:alternate content=ca /><meta data-rh=true property=og:locale:alternate content=de /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true property=og:locale:alternate content=es /><meta data-rh=true property=og:locale:alternate content=fr /><meta data-rh=true property=og:locale:alternate content=it /><meta data-rh=true property=og:locale:alternate content=oc /><meta data-rh=true property=og:locale:alternate content=en_GB /><meta data-rh=true name=docusaurus_locale content=ru /><meta data-rh=true name=docsearch:language content=ru /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="SSO/LDAP integration | Yunohost"/><meta data-rh=true name=description content="One powerful aspect of YunoHost is that apps are meant to be integrated with the SSO/LDAP stack, such that users logged in on YunoHost's user portal can be directly logged in each app without having to create an account in each of them nor having to re-log in each app every time."/><meta data-rh=true property=og:description content="One powerful aspect of YunoHost is that apps are meant to be integrated with the SSO/LDAP stack, such that users logged in on YunoHost's user portal can be directly logged in each app without having to create an account in each of them nor having to re-log in each app every time."/><link data-rh=true rel=icon href=/pr-2672/ru/img/favicon.png /><link data-rh=true rel=canonical href=https://doc.next.yunohost.org/pr-2672/ru/packaging/advanced/sso_ldap_integration /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/ar/packaging/advanced/sso_ldap_integration hreflang=ar /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/ca/packaging/advanced/sso_ldap_integration hreflang=ca /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/de/packaging/advanced/sso_ldap_integration hreflang=de /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/en/packaging/advanced/sso_ldap_integration hreflang=en /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/es/packaging/advanced/sso_ldap_integration hreflang=es /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/fr/packaging/advanced/sso_ldap_integration hreflang=fr /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/it/packaging/advanced/sso_ldap_integration hreflang=it /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/oc/packaging/advanced/sso_ldap_integration hreflang=oc /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/ru/packaging/advanced/sso_ldap_integration hreflang=ru /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/packaging/advanced/sso_ldap_integration hreflang=en-GB /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/packaging/advanced/sso_ldap_integration hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://doc.next.yunohost.org/pr-2672/ru/packaging/","name":"Packaging applications","position":1},{"@type":"ListItem","item":"https://doc.next.yunohost.org/pr-2672/ru/packaging/advanced","name":"Advanced","position":2},{"@type":"ListItem","item":"https://doc.next.yunohost.org/pr-2672/ru/packaging/advanced/sso_ldap_integration","name":"SSO/LDAP integration","position":3}]}</script><script src=/js/language-detect.js async data-language-redirect='{"ar":"/ar/","ca":"/ca/","de":"/de/","en":"/en/","es":"/es/","fr":"/fr/","it":"/it/","oc":"/oc/","ru":"/ru/"}'></script><link rel=stylesheet href=/pr-2672/ru/assets/css/styles.d1dd00e9.css /><script src=/pr-2672/ru/assets/js/runtime~main.5847a9a5.js defer></script><script src=/pr-2672/ru/assets/js/main.73d76017.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/pr-2672/ru/img/icons/logo-ynh_horizontal.png /><link rel=preload as=image href=/pr-2672/ru/img/icons/ynh_logo_roundcorner.png /><div role=region aria-label="Перейти к основному содержимому"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Перейти к основному содержимому</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Переключить навигационную панель" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/pr-2672/ru/><div class=navbar__logo><img src=/pr-2672/ru/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/pr-2672/ru/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Docs</b></a><a class="navbar__item navbar__link" href=/pr-2672/ru/admin/>Administration</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/pr-2672/ru/dev/>Development and packaging</a><a class="navbar__item navbar__link" href=/pr-2672/ru/community/>Community</a><a href=https://apps.yunohost.org/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Apps catalog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class=navbarSearchContainer_Bca1><div class=navbar__search><span aria-label="expand searchbar" role=button class=search-icon tabindex=0></span><input id=search_input_react type=search placeholder=Loading... aria-label=Search class="navbar__search-input search-bar" disabled/></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Русский</a><ul class=dropdown__menu><li><a href="/pr-2672/ar/packaging/advanced/sso_ldap_integration?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=ar>العربية</a><li><a href="/pr-2672/ca/packaging/advanced/sso_ldap_integration?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=ca>Català</a><li><a href="/pr-2672/de/packaging/advanced/sso_ldap_integration?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=de>Deutsch</a><li><a href="/pr-2672/en/packaging/advanced/sso_ldap_integration?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href="/pr-2672/es/packaging/advanced/sso_ldap_integration?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href="/pr-2672/fr/packaging/advanced/sso_ldap_integration?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href="/pr-2672/it/packaging/advanced/sso_ldap_integration?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=it>Italiano</a><li><a href="/pr-2672/oc/packaging/advanced/sso_ldap_integration?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=oc>Occitan</a><li><a href="/pr-2672/ru/packaging/advanced/sso_ldap_integration?persistLocale=true" target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=ru>Русский</a><li><a href="/pr-2672/packaging/advanced/sso_ldap_integration?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=en-GB>British English</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Переключение между темным и светлым режимом (сейчас используется system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Прокрутка к началу" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/pr-2672/ru/><img src=/pr-2672/ru/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/pr-2672/ru/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/><b>Docs</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/pr-2672/ru/dev/><span title="Developer documentation" class=linkLabel_WmDU>Developer documentation</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/pr-2672/ru/dev/doc/><span title="Write documentation" class=categoryLinkLabel_W154>Write documentation</span></a><button aria-label="Expand sidebar category 'Write documentation'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/pr-2672/ru/dev/core/><span title="Core development" class=categoryLinkLabel_W154>Core development</span></a><button aria-label="Expand sidebar category 'Core development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/pr-2672/ru/packaging/><span title="Packaging applications" class=categoryLinkLabel_W154>Packaging applications</span></a><button aria-label="Collapse sidebar category 'Packaging applications'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/><span title="Packaging applications" class=linkLabel_WmDU>Packaging applications</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/structure><span title="App structure" class=linkLabel_WmDU>App structure</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/pr-2672/ru/packaging/manifest/><span title="The manifest" class=categoryLinkLabel_W154>The manifest</span></a><button aria-label="Collapse sidebar category 'The manifest'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/manifest/resources><span title="App resources" class=linkLabel_WmDU>App resources</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/pr-2672/ru/packaging/scripts/><span title="The scripts" class=categoryLinkLabel_W154>The scripts</span></a><button aria-label="Collapse sidebar category 'The scripts'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/scripts/shell_variables_scope><span title="General scope of variables" class=linkLabel_WmDU>General scope of variables</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/scripts/helpers_v2.0><span title="App helpers (v2)" class=linkLabel_WmDU>App helpers (v2)</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/scripts/helpers_v2.1><span title="App helpers (v2.1)" class=linkLabel_WmDU>App helpers (v2.1)</span></a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/doc><span title=Documentation class=linkLabel_WmDU>Documentation</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/test><span title="Testing your app" class=linkLabel_WmDU>Testing your app</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/publish><span title="Publishing your app on the catalog" class=linkLabel_WmDU>Publishing your app on the catalog</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex=0 href=/pr-2672/ru/packaging/advanced><span title=Advanced class=categoryLinkLabel_W154>Advanced</span></a><button aria-label="Collapse sidebar category 'Advanced'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/advanced/config_panels><span title="Config Panels" class=linkLabel_WmDU>Config Panels</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/pr-2672/ru/packaging/advanced/sso_ldap_integration><span title="SSO/LDAP integration" class=linkLabel_WmDU>SSO/LDAP integration</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/advanced/hooks><span title=Hooks class=linkLabel_WmDU>Hooks</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/advanced/advanced_packagers><span title="Advanced packagers" class=linkLabel_WmDU>Advanced packagers</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/advanced/packaging_v2><span title="Packaging v2" class=linkLabel_WmDU>Packaging v2</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/pr-2672/ru/category/misc-resources><span title="Misc resources" class=categoryLinkLabel_W154>Misc resources</span></a><button aria-label="Expand sidebar category 'Misc resources'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ru/packaging/policy><span title="Apps catalog policy" class=linkLabel_WmDU>Apps catalog policy</span></a></ul></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Навигационная цепочка текущей страницы"><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Главная страница" class=breadcrumbs__link href=/pr-2672/ru/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/pr-2672/ru/packaging/><span>Packaging applications</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/pr-2672/ru/packaging/advanced><span>Advanced</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>SSO/LDAP integration</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Содержание этой страницы</button></div><div class="theme-doc-markdown markdown"><header><h1>SSO/LDAP integration</h1></header><p>One powerful aspect of YunoHost is that apps are meant to be integrated with the SSO/LDAP stack, such that users logged in on YunoHost's user portal can be directly logged in each app without having to create an account in each of them nor having to re-log in each app every time.</p>
<p>It should be stressed that there are two different aspects here:</p>
<ul>
<li>the LDAP integration, meaning that the user accounts in the app are directly mapped to YunoHost user accounts</li>
<li>the SSO integration, meaning that a user logged in on the YunoHost user portal is automatically logged in on the app as well.</li>
</ul>
<p>Sometimes, LDAP integration is possible, but not SSO integration (though the opposite would be really weird as LDAP integration is somewhat required for the SSO to work)</p>
<p>The SSO system is handled by <a href=https://github.com/YunoHost/ssowat target=_blank rel="noopener noreferrer">SSOwat</a> and also handles the "permission" system which defines wether or not a user (or anonymous visitor) can access the app.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=ldap-integration>LDAP integration<a href=#ldap-integration class=hash-link aria-label="Прямая ссылка на LDAP integration" title="Прямая ссылка на LDAP integration" translate=no>​</a></h2>
<p>LDAP is a de-facto standard when it comes to sharing a common user account database between multiple applications, hence its use in the context of YunoHost.</p>
<p>However, each app does implement LDAP support in its own specific way (or doesn't), and needs to be provided with parameters to actually talk to YunoHost's LDAP database, usually via its config file. It is advise to look for real-life example of apps implementing these (such as Nextcloud, Wekan...) but you will usually need to provide:</p>
<ul>
<li>LDAP host: <code>localhost</code> / <code>127.0.0.1</code></li>
<li>LDAP port: <code>389</code></li>
<li>Base DN : <code>dc=yunohost,dc=org</code></li>
<li>User DN : <code>ou=users,dc=yunohost,dc=org</code></li>
<li>Search filter: <code>(&(|(objectclass=posixAccount))(uid=%uid)(permission=cn=__APP__.main,ou=permission,dc=yunohost,dc=org))</code> (this makes sure that only people with the appropriate YunoHost/SSowat permission can access the app)</li>
<li>Username attribute: <code>uid</code></li>
<li>Display name attribute: <code>displayname</code></li>
<li>Email attribute: <code>mail</code></li>
</ul>
<p>TODO/FIXME: moar explanations? What is missing?</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=sso-integration>SSO integration<a href=#sso-integration class=hash-link aria-label="Прямая ссылка на SSO integration" title="Прямая ссылка на SSO integration" translate=no>​</a></h2>
<p>This documentation apply to YunoHost>=12. On YunoHost &lt;12 the header was a bit different but the idea was the same.</p>
<p>Internally, SSOwat will on-the-fly inject theses different headers:</p>
<table><thead><tr><th>Name<th>Description<th>Protected over header injection from clients (a client try with a request to override the header and be logged in with a different user)<th>Header name for app which provide HTTP server and nginx transfert the request<th>How to get with php App<tbody><tr><td>The username<td>the username of the authenticated user<td>Yes<td><code>YNH_USER</code><td>with <code>getallheaders()["Ynh-User"]</code> or <code>$_SERVER["HTTP_YNH_USER"]</code><tr><td>User email<td>the email of the authenticated user. Could be usefull for some app which require an email for the username. Can be also used by some apps which populate all user infomration from the HTTP header instead of LDAP.<td>Yes<td><code>YNH_USER_EMAIL</code><td>with <code>getallheaders()["Ynh-User-Email"]</code> or <code>$_SERVER["HTTP_YNH_USER_EMAIL"]</code><tr><td>User full name<td>The full name of the user. The full name of the user. Which is mostly used by some apps which populate all user infomration from the HTTP header instead of LDAP.<td>Yes<td><code>YNH_USER_FULLNAME</code><td>with <code>getallheaders()["Ynh-User-Fullname"]</code> or <code>$_SERVER["HTTP_YNH_USER_FULLNAME"]</code><tr><td>The <a href=https://en.wikipedia.org/wiki/Basic_access_authentication target=_blank rel="noopener noreferrer">HTTP Basic Auth Headers</a><td>Like <code>Authorization: Basic &lt;base64credentials></code>. If used we should be sure that the app check the credential (user and password) before to validate the authentication. It's mainly used by apps which need the credential to authenticate to a internal service. By example most of webmail need the credential to pass the correct credential to the mail server.<td>No. A client can send a header and will be passed to the application. It's why the application must check the credential to be sure that the passed passord are correct.<td><code>Authorization</code><td>with <code>getallheaders()["Authorization"]</code> or <code>$_SERVER["HTTP_AUTHORIZATION"]</code></table>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=usage>Usage<a href=#usage class=hash-link aria-label="Прямая ссылка на Usage" title="Прямая ссылка на Usage" translate=no>​</a></h3>
<p>For many application, like django, you will need configure the <code>YNH_USER</code> header, as the header to trust, to authenticate the user. For php apps it will be most of case the header <code>Ynh-User</code>.</p>
<p>And for some app which need the auth basic header, you generally don't need to set the header name as the <code>Authorization</code> header name is normalized.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=specific-case>Specific case<a href=#specific-case class=hash-link aria-label="Прямая ссылка на Specific case" title="Прямая ссылка на Specific case" translate=no>​</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=app-which-reuse-the-auth-basic-header-to-authenticate-to-an-internal-service>App which reuse the auth basic header to authenticate to an internal service<a href=#app-which-reuse-the-auth-basic-header-to-authenticate-to-an-internal-service class=hash-link aria-label="Прямая ссылка на App which reuse the auth basic header to authenticate to an internal service" title="Прямая ссылка на App which reuse the auth basic header to authenticate to an internal service" translate=no>​</a></h4>
<p>Currently you don't need any specific setup on YunoHost side. Since YunoHost provide the header needed, the application should be able to use it correclty. Depending of the application, some configuration could be needed.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=application-which-provide-an-api>Application which provide an API<a href=#application-which-provide-an-api class=hash-link aria-label="Прямая ссылка на Application which provide an API" title="Прямая ссылка на Application which provide an API" translate=no>​</a></h4>
<p>Some app, like Nextcloud or SOGo provide an service like Caldav, Cardav or Webdav, the client will need to send the basic authentication and the nginx must transmit this authentication header to the serivice which will validate the authentication. Currently to make it working correctly you need to set a following app settings this way:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">ynh_app_setting_set </span><span class="token parameter variable" style=color:#36acaa>--key</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">protect_against_basic_auth_spoofing </span><span class="token parameter variable" style=color:#36acaa>--value</span><span class="token operator" style=color:#393A34>=</span><span class="token plain">false</span><br/></span></code></pre></div></div>
<p>This will say to YunoHost that for this app we can safely transmit auth basic header from the client to the application.</p>
<p>If you need to change this behavior after the application installation, you can set the option with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> yunohost app setting </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">my_app</span><span class="token operator" style=color:#393A34>></span><span class="token plain"> protect_against_basic_auth_spoofing </span><span class="token parameter variable" style=color:#36acaa>-v</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><br/></span></code></pre></div></div>
<p>Then you must regenerate the SSOwat configuration with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> yunohost app ssowatconf</span><br/></span></code></pre></div></div>
<p>And, finally, you need to reload NGINX configuration with:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>sudo</span><span class="token plain"> systemctl reload nginx.service</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=configuring-ssowat-permissions-for-the-app>Configuring SSOwat permissions for the app<a href=#configuring-ssowat-permissions-for-the-app class=hash-link aria-label="Прямая ссылка на Configuring SSOwat permissions for the app" title="Прямая ссылка на Configuring SSOwat permissions for the app" translate=no>​</a></h2>
<p>SSOwat permissions are configured using the 'permission' resource in your app's manifest.toml</p>
<p>If relevant, you can create "sub" permissions for your app, for instance to only allow a specific group of people to access the admin UI of the app. For example:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">resources.permissions</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># This configures the main permission, i.e. general access to `https://domain.tld/$app/`</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Initial access is defined using the `init_main_permission` install question.</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>main.url</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># This configures an additional "admin" permission regarding access to `https://domain.tld/$app/admin`</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>admin.url</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/admin"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>admin.show_tile</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic># This means that this permission won't correspond to a tile in YunoHost's user portal</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>admin.allowed</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"admins"</span><span class="token plain">   </span><span class="token comment" style=color:#999988;font-style:italic># Initialize the access for the "admins" group ... You can also use an install question called `init_admin_permission` to let the server admin choose this.</span><br/></span></code></pre></div></div>
<p>See the page about app resources for the full description of behavior and properties.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=logging-out-on-the-app-vs-logging-out-of-yunohost>Logging out on the app vs. Logging out of YunoHost<a href=#logging-out-on-the-app-vs-logging-out-of-yunohost class=hash-link aria-label="Прямая ссылка на Logging out on the app vs. Logging out of YunoHost" title="Прямая ссылка на Logging out on the app vs. Logging out of YunoHost" translate=no>​</a></h2>
<p>A common <a href=https://github.com/YunoHost/issues/issues/501 target=_blank rel="noopener noreferrer">known issue</a> is that sometimes, logging out of YunoHost apps will not log people out of every app. This is for example the case for <a href=https://github.com/YunoHost-Apps/nextcloud_ynh/issues/19 target=_blank rel="noopener noreferrer">Nextcloud</a>, because it uses its own authentication cookies which are not cleared when people log out of YunoHost. This is not trivial to fix.</p>
<p>Similarly, logging out of the app doesn't necessarily log people from YunoHost entirely (which is more acceptable that clicking Log out and... not being logged out at all because you're still logged-in on the SSO, hence logged in on the app). Some YunoHost app do integrate custom patches such that the logout process of the app does automatically redirects to <code>https://domain.tld/yunohost/sso/?action=logout</code> which logs them out.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/YunoHost/doc/tree/main/docs/packaging/60.advanced/30.sso_ldap_integration.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Отредактировать эту страницу</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Страница документа"><a class="pagination-nav__link pagination-nav__link--prev" href=/pr-2672/ru/packaging/advanced/config_panels><div class=pagination-nav__sublabel>Предыдущая страница</div><div class=pagination-nav__label>Config Panels</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/pr-2672/ru/packaging/advanced/hooks><div class=pagination-nav__sublabel>Следующая страница</div><div class=pagination-nav__label>Hooks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#ldap-integration class="table-of-contents__link toc-highlight">LDAP integration</a><li><a href=#sso-integration class="table-of-contents__link toc-highlight">SSO integration</a><ul><li><a href=#usage class="table-of-contents__link toc-highlight">Usage</a><li><a href=#specific-case class="table-of-contents__link toc-highlight">Specific case</a></ul><li><a href=#configuring-ssowat-permissions-for-the-app class="table-of-contents__link toc-highlight">Configuring SSOwat permissions for the app</a><li><a href=#logging-out-on-the-app-vs-logging-out-of-yunohost class="table-of-contents__link toc-highlight">Logging out on the app vs. Logging out of YunoHost</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Legal</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/YunoHost/yunohost/blob/dev/LICENSE target=_blank rel="noopener noreferrer" class=footer__link-item>License<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/pr-2672/ru/community/terms_of_services>CGUs</a><li class=footer__item><a href=https://github.com/YunoHost/project-organization target=_blank rel="noopener noreferrer" class=footer__link-item>Organization<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Follow us</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://forum.yunohost.org/c/announcement/8/none target=_blank rel="noopener noreferrer" class=footer__link-item>Blog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://toot.aquilenet.fr/@yunohost target=_blank rel="noopener noreferrer" class=footer__link-item>Mastodon<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://videos.globenet.org/a/yunohost/videos?s=1" target=_blank rel="noopener noreferrer" class=footer__link-item>Peertube<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Use</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/pr-2672/ru/>Documentation</a><li class=footer__item><a href=https://apps.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Apps catalog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://forum.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Forum<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/pr-2672/ru/community/help>Ask for help</a><li class=footer__item><a href=https://status.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Service status<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost/yunohost/blob/dev/debian/changelog target=_blank rel="noopener noreferrer" class=footer__link-item>Changelog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Contribute</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://donate.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Donate<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost/issues/issues target=_blank rel="noopener noreferrer" class=footer__link-item>Issues<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub (core)<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost-Apps target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub (apps)<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://translate.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Translate<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/pr-2672/ru/img/icons/ynh_logo_roundcorner.png alt="Yunohost Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/pr-2672/ru/img/icons/ynh_logo_roundcorner.png alt="Yunohost Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"/></div><div class=footer__copyright>Build with Docusaurus for YunoHost</div></div></div></footer></div></body>