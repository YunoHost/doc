"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["3638"],{2890:function(e,i,n){n.r(i),n.d(i,{frontMatter:()=>t,toc:()=>l,default:()=>u,metadata:()=>o,assets:()=>d,contentTitle:()=>s});var o=JSON.parse('{"id":"admin/tutorials/torhiddenservice","title":"Collegarsi a YunoHost attraverso un Hidden Service","description":"Questo tutorial non \xe8 completo! Con queste impostazioni alcuni dati possono essere rivelati come ad esempio il dominio principale del tuo YunoHost, di conseguenza non pu\xf2 essere considerato un reale \\"Hidden service\\". Vedi The official Tor hidden service documentation.","source":"@site/i18n/it/docusaurus-plugin-content-docs/current/admin/45.tutorials/40.torhiddenservice.mdx","sourceDirName":"admin/45.tutorials","slug":"/admin/tutorials/torhiddenservice","permalink":"/pr-2672/it/admin/tutorials/torhiddenservice","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/it/docusaurus-plugin-content-docs/current/admin/45.tutorials/40.torhiddenservice.mdx","tags":[],"version":"current","sidebarPosition":40,"frontMatter":{"sidebar_label":"Configure Tor Hidden Service","title":"Collegarsi a YunoHost attraverso un Hidden Service"},"sidebar":"admin","previous":{"title":"Configurare un relay SMTP","permalink":"/pr-2672/it/admin/tutorials/email_configure_relay"},"next":{"title":"Certificati personalizzati","permalink":"/pr-2672/it/admin/tutorials/certificate_custom"}}'),r=n(4848),a=n(4429);let t={sidebar_label:"Configure Tor Hidden Service",title:"Collegarsi a YunoHost attraverso un Hidden Service"},s,d={},l=[{value:"Installare Tor",id:"installare-tor",level:3},{value:"Configurazione dell&#39;hidden service",id:"configurazione-dellhidden-service",level:3},{value:"Riavvia Tor",id:"riavvia-tor",level:3},{value:"Copia l&#39;hostname del tuo Hidden Service",id:"copia-lhostname-del-tuo-hidden-service",level:3},{value:"Aggiungi il dominio .onion a YunoHost",id:"aggiungi-il-dominio-onion-a-yunohost",level:3},{value:"Disabilita la redirezione SSO (opzionale)",id:"disabilita-la-redirezione-sso-opzionale",level:3},{value:"Riavvia NGINX",id:"riavvia-nginx",level:3}];function c(e){let i={a:"a",admonition:"admonition",code:"code",em:"em",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.admonition,{type:"warning",children:(0,r.jsxs)(i.p,{children:['Questo tutorial non \xe8 completo! Con queste impostazioni alcuni dati possono essere rivelati come ad esempio il dominio principale del tuo YunoHost, di conseguenza non pu\xf2 essere considerato un reale "Hidden service". Vedi ',(0,r.jsx)(i.a,{href:"https://www.torproject.org/docs/tor-hidden-service.html.en",children:"The official Tor hidden service documentation"}),"."]})}),"\n",(0,r.jsx)(i.h3,{id:"installare-tor",children:"Installare Tor"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"apt install tor \n"})}),"\n",(0,r.jsx)(i.h3,{id:"configurazione-dellhidden-service",children:"Configurazione dell'hidden service"}),"\n",(0,r.jsxs)(i.p,{children:["Modifica ",(0,r.jsx)(i.code,{children:"/etc/tor/torrc"})," aggiungendo queste righe:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-text",children:"HiddenServiceDir  /var/lib/tor/hidden_service/\nHiddenServicePort 80 127.0.0.1:80\nHiddenServicePort 443 127.0.0.1:443\n"})}),"\n",(0,r.jsx)(i.h3,{id:"riavvia-tor",children:"Riavvia Tor"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"service tor restart\n"})}),"\n",(0,r.jsx)(i.h3,{id:"copia-lhostname-del-tuo-hidden-service",children:"Copia l'hostname del tuo Hidden Service"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"cat /var/lib/tor/hidden_service/hostname\n"})}),"\n",(0,r.jsxs)(i.p,{children:["Il dominio dell'hidden service sar\xe0 una cosa tipo ",(0,r.jsx)(i.em,{children:"random123456789.onion"})]}),"\n",(0,r.jsx)(i.h3,{id:"aggiungi-il-dominio-onion-a-yunohost",children:"Aggiungi il dominio .onion a YunoHost"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"yunohost domain add random123456789.onion\n"})}),"\n",(0,r.jsx)(i.h3,{id:"disabilita-la-redirezione-sso-opzionale",children:"Disabilita la redirezione SSO (opzionale)"}),"\n",(0,r.jsxs)(i.p,{children:["Se non vuoi essere rediretto al portale SSO al login puoi disattivare SSOwat specificatamente per questo dominio modificando il file ",(0,r.jsx)(i.code,{children:"/etc/nginx/conf.d/random123456789.onion.conf"})," commentando le seguenti linee (due volte):"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-text",children:"#access_by_lua_file /usr/share/ssowat/access.lua;\n"})}),"\n",(0,r.jsx)(i.h3,{id:"riavvia-nginx",children:"Riavvia NGINX"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-bash",children:"service nginx restart\n"})})]})}function u(e={}){let{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},4429:function(e,i,n){n.d(i,{R:()=>t,x:()=>s});var o=n(6540);let r={},a=o.createContext(r);function t(e){let i=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),o.createElement(a.Provider,{value:i},e.children)}}}]);