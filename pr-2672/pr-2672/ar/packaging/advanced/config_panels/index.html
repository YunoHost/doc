<!doctype html><html lang=ar dir=rtl class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-packaging/advanced/config_panels" data-has-hydrated=false><head><meta charset=UTF-8><meta name=generator content="Docusaurus v3.9.0"><title data-rh=true>Config Panels | Yunohost</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"/><meta data-rh=true name=twitter:card content=summary_large_image /><meta data-rh=true property=og:image content=https://yunohost.org/assets/img/portal_simple_dark.jpg /><meta data-rh=true name=twitter:image content=https://yunohost.org/assets/img/portal_simple_dark.jpg /><meta data-rh=true property=og:url content=https://doc.next.yunohost.org/pr-2672/ar/packaging/advanced/config_panels /><meta data-rh=true property=og:locale content=ar /><meta data-rh=true property=og:locale:alternate content=ca /><meta data-rh=true property=og:locale:alternate content=de /><meta data-rh=true property=og:locale:alternate content=en /><meta data-rh=true property=og:locale:alternate content=es /><meta data-rh=true property=og:locale:alternate content=fr /><meta data-rh=true property=og:locale:alternate content=it /><meta data-rh=true property=og:locale:alternate content=oc /><meta data-rh=true property=og:locale:alternate content=ru /><meta data-rh=true property=og:locale:alternate content=en_GB /><meta data-rh=true name=docusaurus_locale content=ar /><meta data-rh=true name=docsearch:language content=ar /><meta data-rh=true name=docusaurus_version content=current /><meta data-rh=true name=docusaurus_tag content=docs-default-current /><meta data-rh=true name=docsearch:version content=current /><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current /><meta data-rh=true property=og:title content="Config Panels | Yunohost"/><meta data-rh=true name=description content="From a practical point of view, one of the main purpose of config panel is to &quot;expose&quot; settings from the app's configuration files to YunoHost's admins which are therefore able to manipulate them from a nice web ui. This is especially relevant for apps which do not provide any sort of admin UI and expect admins to manually edit the configuration files."/><meta data-rh=true property=og:description content="From a practical point of view, one of the main purpose of config panel is to &quot;expose&quot; settings from the app's configuration files to YunoHost's admins which are therefore able to manipulate them from a nice web ui. This is especially relevant for apps which do not provide any sort of admin UI and expect admins to manually edit the configuration files."/><link data-rh=true rel=icon href=/pr-2672/ar/img/favicon.png /><link data-rh=true rel=canonical href=https://doc.next.yunohost.org/pr-2672/ar/packaging/advanced/config_panels /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/ar/packaging/advanced/config_panels hreflang=ar /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/ca/packaging/advanced/config_panels hreflang=ca /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/de/packaging/advanced/config_panels hreflang=de /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/en/packaging/advanced/config_panels hreflang=en /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/es/packaging/advanced/config_panels hreflang=es /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/fr/packaging/advanced/config_panels hreflang=fr /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/it/packaging/advanced/config_panels hreflang=it /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/oc/packaging/advanced/config_panels hreflang=oc /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/ru/packaging/advanced/config_panels hreflang=ru /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/packaging/advanced/config_panels hreflang=en-GB /><link data-rh=true rel=alternate href=https://doc.next.yunohost.org/pr-2672/packaging/advanced/config_panels hreflang=x-default /><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://doc.next.yunohost.org/pr-2672/ar/packaging/","name":"Packaging applications","position":1},{"@type":"ListItem","item":"https://doc.next.yunohost.org/pr-2672/ar/packaging/advanced","name":"Advanced","position":2},{"@type":"ListItem","item":"https://doc.next.yunohost.org/pr-2672/ar/packaging/advanced/config_panels","name":"Config Panels","position":3}]}</script><script src=/js/language-detect.js async data-language-redirect='{"ar":"/ar/","ca":"/ca/","de":"/de/","en":"/en/","es":"/es/","fr":"/fr/","it":"/it/","oc":"/oc/","ru":"/ru/"}'></script><link rel=stylesheet href=/pr-2672/ar/assets/css/styles.05abd83e.css /><script src=/pr-2672/ar/assets/js/runtime~main.11ba7855.js defer></script><script src=/pr-2672/ar/assets/js/main.df3ac517.js defer></script></head><body class=navigation-with-keyboard><svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/pr-2672/ar/img/icons/logo-ynh_horizontal.png /><link rel=preload as=image href=/pr-2672/ar/img/icons/ynh_logo_roundcorner.png /><div role=region aria-label="انتقل إلى المحتوى الرئيسي"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>انتقل إلى المحتوى الرئيسي</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/pr-2672/ar/><div class=navbar__logo><img src=/pr-2672/ar/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/pr-2672/ar/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/></div><b class="navbar__title text--truncate">Docs</b></a><a class="navbar__item navbar__link" href=/pr-2672/ar/admin/>Administration</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/pr-2672/ar/dev/>Development and packaging</a><a class="navbar__item navbar__link" href=/pr-2672/ar/community/>Community</a><a href=https://apps.yunohost.org/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Apps catalog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class=navbarSearchContainer_Bca1><div class=navbar__search><span aria-label="expand searchbar" role=button class=search-icon tabindex=0></span><input id=search_input_react type=search placeholder=Loading... aria-label=Search class="navbar__search-input search-bar" disabled/></div></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>العربية</a><ul class=dropdown__menu><li><a href="/pr-2672/ar/packaging/advanced/config_panels?persistLocale=true" target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=ar>العربية</a><li><a href="/pr-2672/ca/packaging/advanced/config_panels?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=ca>Català</a><li><a href="/pr-2672/de/packaging/advanced/config_panels?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=de>Deutsch</a><li><a href="/pr-2672/en/packaging/advanced/config_panels?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href="/pr-2672/es/packaging/advanced/config_panels?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href="/pr-2672/fr/packaging/advanced/config_panels?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href="/pr-2672/it/packaging/advanced/config_panels?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=it>Italiano</a><li><a href="/pr-2672/oc/packaging/advanced/config_panels?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=oc>Occitan</a><li><a href="/pr-2672/ru/packaging/advanced/config_panels?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=ru>Русский</a><li><a href="/pr-2672/packaging/advanced/config_panels?persistLocale=true" target=_self rel="noopener noreferrer" class=dropdown__link lang=en-GB>British English</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="التبديل بين الوضع الداكن والفاتح (الحالي system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="أنتقل للأعلى" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex=-1 class=sidebarLogo_isFc href=/pr-2672/ar/><img src=/pr-2672/ar/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/pr-2672/ar/img/icons/logo-ynh_horizontal.png alt="Yunohost Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"/><b>Docs</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/pr-2672/ar/dev/><span title="Developer documentation" class=linkLabel_WmDU>Developer documentation</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/pr-2672/ar/dev/doc/><span title="Write documentation" class=categoryLinkLabel_W154>Write documentation</span></a><button aria-label="Expand sidebar category 'Write documentation'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" href=/pr-2672/ar/dev/core/><span title="Core development" class=categoryLinkLabel_W154>Core development</span></a><button aria-label="Expand sidebar category 'Core development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href=/pr-2672/ar/packaging/><span title="Packaging applications" class=categoryLinkLabel_W154>Packaging applications</span></a><button aria-label="Collapse sidebar category 'Packaging applications'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/><span title="Packaging applications" class=linkLabel_WmDU>Packaging applications</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/structure><span title="App structure" class=linkLabel_WmDU>App structure</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/pr-2672/ar/packaging/manifest/><span title="The manifest" class=categoryLinkLabel_W154>The manifest</span></a><button aria-label="Collapse sidebar category 'The manifest'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/manifest/resources><span title="App resources" class=linkLabel_WmDU>App resources</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/pr-2672/ar/packaging/scripts/><span title="The scripts" class=categoryLinkLabel_W154>The scripts</span></a><button aria-label="Collapse sidebar category 'The scripts'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/scripts/shell_variables_scope><span title="General scope of variables" class=linkLabel_WmDU>General scope of variables</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/scripts/helpers_v2.0><span title="App helpers (v2)" class=linkLabel_WmDU>App helpers (v2)</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/scripts/helpers_v2.1><span title="App helpers (v2.1)" class=linkLabel_WmDU>App helpers (v2.1)</span></a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/doc><span title=Documentation class=linkLabel_WmDU>Documentation</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/test><span title="Testing your app" class=linkLabel_WmDU>Testing your app</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/publish><span title="Publishing your app on the catalog" class=linkLabel_WmDU>Publishing your app on the catalog</span></a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex=0 href=/pr-2672/ar/packaging/advanced><span title=Advanced class=categoryLinkLabel_W154>Advanced</span></a><button aria-label="Collapse sidebar category 'Advanced'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/pr-2672/ar/packaging/advanced/config_panels><span title="Config Panels" class=linkLabel_WmDU>Config Panels</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/advanced/sso_ldap_integration><span title="SSO/LDAP integration" class=linkLabel_WmDU>SSO/LDAP integration</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/advanced/hooks><span title=Hooks class=linkLabel_WmDU>Hooks</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/advanced/advanced_packagers><span title="Advanced packagers" class=linkLabel_WmDU>Advanced packagers</span></a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/advanced/packaging_v2><span title="Packaging v2" class=linkLabel_WmDU>Packaging v2</span></a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex=0 href=/pr-2672/ar/category/misc-resources><span title="Misc resources" class=categoryLinkLabel_W154>Misc resources</span></a><button aria-label="Expand sidebar category 'Misc resources'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pr-2672/ar/packaging/policy><span title="Apps catalog policy" class=linkLabel_WmDU>Apps catalog policy</span></a></ul></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="التنقل التفصيلي"><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label=الرئيسية class=breadcrumbs__link href=/pr-2672/ar/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/pr-2672/ar/packaging/><span>Packaging applications</span></a><li class=breadcrumbs__item><a class=breadcrumbs__link href=/pr-2672/ar/packaging/advanced><span>Advanced</span></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Config Panels</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">محتويات هذه الصفحة</button></div><div class="theme-doc-markdown markdown"><header><h1>Config Panels</h1></header><p>From a practical point of view, one of the main purpose of config panel is to "expose" settings from the app's configuration files to YunoHost's admins which are therefore able to manipulate them from a nice web ui. This is especially relevant for apps which do not provide any sort of admin UI and expect admins to manually edit the configuration files.</p>
<p>Technically speaking, config panels are used both for apps packaging and also core features (domain configuration, global settings)</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_BuS1><p>Please: Keep in mind the YunoHost spirit, and try to build your panels in such a way as to expose only really useful, "high-level" parameters, and if there are many of them, to relegate those corresponding to rarer use cases to "Advanced" sub-sections. Keep it simple, focus on common needs, don't expect the admins to have 3 PhDs in computer science.</div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=community-examples>Community examples<a href=#community-examples class=hash-link aria-label="ارتباط مباشر بالعنوان Community examples" title="ارتباط مباشر بالعنوان Community examples" translate=no>​</a></h2>
<ul>
<li><a href=https://github.com/YunoHost/example_ynh/blob/master/config_panel.toml.example target=_blank rel="noopener noreferrer">Check the example_ynh app toml</a> and the <a href=https://github.com/YunoHost/example_ynh/blob/master/scripts/config target=_blank rel="noopener noreferrer">basic <code>scripts/config</code> example</a></li>
<li><a href="https://grep.app/search?q=version&filter%5Brepo.pattern%5D%5B0%5D=YunoHost-Apps&filter%5Blang%5D%5B0%5D=TOML" target=_blank rel="noopener noreferrer">Check config panels of other apps</a></li>
<li><a href="https://grep.app/search?q=ynh_app_config_apply&filter%5Brepo.pattern%5D%5B0%5D=YunoHost-Apps&filter%5Blang%5D%5B0%5D=Shell" target=_blank rel="noopener noreferrer">Check <code>scripts/config</code> of other apps</a></li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=overview>Overview<a href=#overview class=hash-link aria-label="ارتباط مباشر بالعنوان Overview" title="ارتباط مباشر بالعنوان Overview" translate=no>​</a></h2>
<p>From an app packager perspective, config panels are defined in <code>config_panel.toml</code> at the root of the app repository. It is coupled to the <code>scripts/config</code> script, which may be used to define custom getters/setters/validations/actions. However, most use cases should be covered automagically by the core, thus it may not be necessary to define such a <code>config</code> script at all!</p>
<p>The <code>config_panel.toml</code> describes one or several panels, containing sections, each containing questions generally binded to a params in the app's actual configuration files.</p>
<p>Let's imagine that the upstream app is configured using this simple <code>config.yml</code> file stored in the app's install directory (typically <code>/var/www/$app/config.yml</code>):</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token key atrule" style=color:#00a4db>title</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'My dummy app'</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>theme</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'white'</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>max_rate</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>10</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key atrule" style=color:#00a4db>max_age</span><span class="token punctuation" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>365</span><br/></span></code></pre></div></div>
<p>A simple configuration panel can be created with this syntax:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token key property" style=color:#36acaa>version</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1.0"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.main</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.main.title</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>ask.en</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Title"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"string"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>":__INSTALL_DIR__/config.yml"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.main.theme</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>ask.en</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Theme"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"select"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>choices</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token string" style=color:#e3116c>"white"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"dark"</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>":__INSTALL_DIR__/config.yml"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.limits</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.limits.max_rate</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>ask.en</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Maximum display rate"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"number"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>":__INSTALL_DIR__/config.yml"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.limits.max_age</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>ask.en</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Duration of a dummy"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"number"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>":__INSTALL_DIR__/config.yml"</span><br/></span></code></pre></div></div>
<p>Here, a <code>main</code> panel is created, containing the <code>main</code> and <code>limits</code> sections, containing questions corresponding to app options in <code>config.yml</code> file. Thanks to the <code>bind</code> property, all those questions are read/written to their values in the actual <code>config.yml</code> file.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=supported-questions-types-and-properties>Supported questions types and properties<a href=#supported-questions-types-and-properties class=hash-link aria-label="ارتباط مباشر بالعنوان Supported questions types and properties" title="ارتباط مباشر بالعنوان Supported questions types and properties" translate=no>​</a></h2>
<p>You can learn more about the full list of option types and their properties in <a href=/pr-2672/ar/dev/core/ynh_core/forms>their dedicated page</a>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=the-bind-statement>The "<code>bind</code>" statement<a href=#the-bind-statement class=hash-link aria-label="ارتباط مباشر بالعنوان the-bind-statement" title="ارتباط مباشر بالعنوان the-bind-statement" translate=no>​</a></h2>
<p>Without any <code>bind</code> statement attached to a config panel property, values are only read/written from/to the app's settings file (<code>/etc/yunohost/$app/settings.yml</code>). This is usually not very useful in practice.</p>
<p>Using <code>bind = ":/some/config/file"</code>, one declares that the actual truth used by the app lives in <code>/some/config/file</code>. The config panel will read/write the value from/to this file. YunoHost will automagically adapt to classic formats such as YAML, TOML, JSON, INI, PHP, <code>.env</code>-like and <code>.py</code>. (At least, assuming we're dealing with simple key&lt;->value mappings)</p>
<p>A simple real-life example looks like:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.main.theme</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"string"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>":__INSTALL_DIR__/config.yml"</span><br/></span></code></pre></div></div>
<p>In which case, YunoHost will look for something like a key/value, with the key being <code>theme</code> inside the app's <code>config.yml</code>.</p>
<p>If the question id in the config panel (here, <code>theme</code>) differs from the key in the actual conf file (let's say it's not <code>theme</code> but <code>css_theme</code>), then the syntax becomes:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.main.theme</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"string"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"css_theme:__FINALPATH__/config.yml"</span><br/></span></code></pre></div></div>
<p>You may also encounter situations such as:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"foo"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"max"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>123</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"bar"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"max"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>456</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>In which case if we want to interface with foo's <code>max</code> value, let's write:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"foo>max:__INSTALL_DIR__/conf.json"</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=binding-to-an-entire-file>"Binding" to an entire file<a href=#binding-to-an-entire-file class=hash-link aria-label='ارتباط مباشر بالعنوان "Binding" to an entire file' title='ارتباط مباشر بالعنوان "Binding" to an entire file' translate=no>​</a></h3>
<p>Useful when using a question <code>file</code> or <code>text</code> for which you want to save the raw content directly as a file on the system.</p>
<p>For example to be able to manipulate an image:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">panel.section.logo</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"file"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"__INSTALL_DIR__/assets/logo.png"</span><br/></span></code></pre></div></div>
<p>Or an entire text file:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">panel.section.config_content</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"text"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"__INSTALL_DIR__/config.ini"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>default</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"This is the default content"</span><br/></span></code></pre></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=custom-getterssettersvalidators-aka-bindnull>Custom getters/setters/validators (a.k.a <code>bind=null</code>)<a href=#custom-getterssettersvalidators-aka-bindnull class=hash-link aria-label="ارتباط مباشر بالعنوان custom-getterssettersvalidators-aka-bindnull" title="ارتباط مباشر بالعنوان custom-getterssettersvalidators-aka-bindnull" translate=no>​</a></h3>
<p>More complex use-case may appear, such as:</p>
<ul>
<li>you want to expose some "dynamic" information in the config panel, such as computed health status, computed disk usage, dynamic list of options, ...</li>
<li>password handling, where the data may be written but can't be read</li>
<li>the config file format is not supported (e.g. xml, csv, ...)</li>
<li>...</li>
</ul>
<p>You can create specific getter/setters functions inside the <code>config</code> script of the app to customize how the information is read/written. The basic structure of the script is:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token builtin class-name">source</span><span class="token plain"> /usr/share/yunohost/helpers</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ynh_abort_if_errors</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Put your getter, setter, validator or action here</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># Keep this last line</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">ynh_app_config_run </span><span class="token variable" style=color:#36acaa>$1</span><br/></span></code></pre></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=custom-getters>Custom getters<a href=#custom-getters class=hash-link aria-label="ارتباط مباشر بالعنوان Custom getters" title="ارتباط مباشر بالعنوان Custom getters" translate=no>​</a></h4>
<p>A question's getter is the function used to read the current value/state. Custom getters are defined using bash functions called <code>getter__QUESTION_SHORT_KEY()</code> which returns data through stdout.</p>
<p>Stdout can be generated into one of those formats:</p>
<ol>
<li>either just the raw value,</li>
<li>or a YAML message, containing the value and other metadata and properties (for example the <code>style</code> of an <code>alert</code>, the list of available <code>choices</code> of a <code>select</code>, etc.)
Note that in the first case, if the raw value contains any yaml-sensitive character (e.g. <code>#</code> which is interpreted as a comment in yaml), make sure it is returned between escaped quotes (cf. dedicated example below) as it will be <a href=https://github.com/YunoHost/issues/issues/2501 target=_blank rel="noopener noreferrer">converted to yaml</a> by YunoHost core in the end.</li>
</ol>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary><i>Basic example with raw stdout: get the timezone on the system</i></summary><div><div class=collapsibleContent_i85q><p><code>config_panel.toml</code><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.main.timezone</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>ask</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Timezone"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"string"</span><br/></span></code></pre></div></div><p><code>scripts/config</code><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function-name function" style=color:#d73a49>get__timezone</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>$(</span><span class="token string variable function" style=color:#d73a49>cat</span><span class="token string variable" style=color:#36acaa> /etc/timezone</span><span class="token string variable" style=color:#36acaa>)</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary><i>Basic example with raw stdout containing a yaml-sensitive character: return a HTML color code matched in a file</i></summary><div><div class=collapsibleContent_i85q><p><code>config_panel.toml</code><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.default_colors.background</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>ask</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Default background color"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"color"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>default</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"#cccccc"</span><br/></span></code></pre></div></div><p><code>scripts/config</code><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function-name function" style=color:#d73a49>get__background</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token assign-left variable" style=color:#36acaa>current_color</span><span class="token operator" style=color:#393A34>=</span><span class="token variable" style=color:#36acaa>$(</span><span class="token variable function" style=color:#d73a49>grep</span><span class="token variable" style=color:#36acaa> </span><span class="token variable string" style=color:#e3116c>'id="backgroundColorPicker'</span><span class="token variable" style=color:#36acaa> </span><span class="token variable string" style=color:#e3116c>"</span><span class="token variable string variable" style=color:#36acaa>$install_dir</span><span class="token variable string" style=color:#e3116c>/index.html"</span><span class="token variable" style=color:#36acaa> </span><span class="token variable operator" style=color:#393A34>|</span><span class="token variable" style=color:#36acaa> </span><span class="token variable function" style=color:#d73a49>grep</span><span class="token variable" style=color:#36acaa> </span><span class="token variable parameter variable" style=color:#36acaa>-oP</span><span class="token variable" style=color:#36acaa> </span><span class="token variable string" style=color:#e3116c>'value="\K[^"]*'</span><span class="token variable" style=color:#36acaa>)</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic># e.g. #2B748B</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic># explicitely add escaped quotes to protect YAML-sensitive comment char ('#')</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"</span><span class="token string entity" style=color:#36acaa>\"</span><span class="token string variable" style=color:#36acaa>$current_color</span><span class="token string entity" style=color:#36acaa>\"</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary><i>Basic example with yaml-formated stdout : Display a list of available plugins</i></summary><div><div class=collapsibleContent_i85q><p><code>config_panel.toml</code><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.plugins.plugins</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>ask</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Plugin to activate"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"tags"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>choices</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><br/></span></code></pre></div></div><p><code>scripts/config</code><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function-name function" style=color:#d73a49>get__plugins</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"choices: [</span><span class="token string variable" style=color:#36acaa>$(</span><span class="token string variable function" style=color:#d73a49>ls</span><span class="token string variable" style=color:#36acaa> $install_dir/plugins/ </span><span class="token string variable operator" style=color:#393A34>|</span><span class="token string variable" style=color:#36acaa> </span><span class="token string variable function" style=color:#d73a49>tr</span><span class="token string variable" style=color:#36acaa> </span><span class="token string variable string" style=color:#e3116c>'\n'</span><span class="token string variable" style=color:#36acaa> </span><span class="token string variable string" style=color:#e3116c>','</span><span class="token string variable" style=color:#36acaa>)</span><span class="token string" style=color:#e3116c>]"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary><i>Advanced example with yaml-formated stdout : Display the status of a VPN</i></summary><div><div class=collapsibleContent_i85q><p><code>config_panel.toml</code><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.cube.status</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>ask</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Custom getter alert"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"alert"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>style</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"info"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"null"</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic># no behaviour on</span><br/></span></code></pre></div></div><p><code>scripts/config</code><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function-name function" style=color:#d73a49>get__status</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-f</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/sys/class/net/tun0/operstate"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>$(</span><span class="token string variable function" style=color:#d73a49>cat</span><span class="token string variable" style=color:#36acaa> /sys/class/net/tun0/operstate</span><span class="token string variable" style=color:#36acaa>)</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"up"</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>then</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>cat</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&lt;&lt;</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>EOF</span><br/></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>style: success</span><br/></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>ask:</span><br/></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  en: Your VPN is running :)</span><br/></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>EOF</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>else</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>cat</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&lt;&lt;</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>EOF</span><br/></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>style: danger</span><br/></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>ask:</span><br/></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  en: Your VPN is down</span><br/></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>EOF</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>fi</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div></div></div></details>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=custom-setters>Custom setters<a href=#custom-setters class=hash-link aria-label="ارتباط مباشر بالعنوان Custom setters" title="ارتباط مباشر بالعنوان Custom setters" translate=no>​</a></h4>
<p>A question's setter is the function used to set new value/state. Custom setters are defined using bash functions called <code>setter__QUESTION_SHORT_KEY()</code>. In the context of the setter function, variables named with the various quetion's short keys are avaible ... for example the user-specified date for question <code>[main.main.theme]</code> is available as <code>$theme</code>.</p>
<p>When doing non-trivial operations to set a value, you may want to use <code>ynh_print_info</code> to inform the admin about what's going on.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed=true><summary><i>Basic example : Set the system timezone</i></summary><div><div class=collapsibleContent_i85q><p><code>config_panel.toml</code><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">main.main.timezone</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>ask</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Timezone"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"string"</span><br/></span></code></pre></div></div><p><code>scripts/config</code><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function-name function" style=color:#d73a49>set__timezone</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>$timezone</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>></span><span class="token plain"> /etc/timezone</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    ynh_print_info </span><span class="token string" style=color:#e3116c>"The timezone has been changed to </span><span class="token string variable" style=color:#36acaa>$timezone</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div></div></div></details>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=user-input-validations>User input validations<a href=#user-input-validations class=hash-link aria-label="ارتباط مباشر بالعنوان User input validations" title="ارتباط مباشر بالعنوان User input validations" translate=no>​</a></h2>
<p>You will sometimes need to validate data provided by the user before saving it.</p>
<p>Simple validation can be achieved using a regex pattern:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token key property" style=color:#36acaa>pattern.regexp</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'^.+@.+$'</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>pattern.error</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'An email is required for this field'</span><br/></span></code></pre></div></div>
<p>You can also restrict the accepted values using a choices list.</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token key property" style=color:#36acaa>choices.foo</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Foo (some explanation)"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>choices.bar</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Bar (moar explanation)"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>choices.loremipsum</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Lorem Ipsum Dolor Sit Amet"</span><br/></span></code></pre></div></div>
<p>Some other type specific argument exist like</p>
<table><thead><tr><th>type<th>validation arguments<tbody><tr><td><code>number</code>, <code>range</code><td><code>min</code>, <code>max</code>, <code>step</code><tr><td><code>file</code><td><code>accept</code><tr><td><code>boolean</code><td><code>yes</code> <code>no</code></table>
<p>See also : custom validators</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=custom-validators>Custom validators<a href=#custom-validators class=hash-link aria-label="ارتباط مباشر بالعنوان Custom validators" title="ارتباط مباشر بالعنوان Custom validators" translate=no>​</a></h3>
<p>In addition to the "simple" validation mechanism (see the 'option' doc), custom validators can be defined in a similar fashion as custom getters/setters:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function-name function" style=color:#d73a49>validate__login_user</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>${</span><span class="token string variable operator" style=color:#393A34>#</span><span class="token string variable" style=color:#36acaa>login_user}</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-lt</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>4</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>then</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'User login is too short, should be at least 4 chars'</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>fi</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=visible--enabled-expression-evaluation><code>visible</code> & <code>enabled</code> expression evaluation<a href=#visible--enabled-expression-evaluation class=hash-link aria-label="ارتباط مباشر بالعنوان visible--enabled-expression-evaluation" title="ارتباط مباشر بالعنوان visible--enabled-expression-evaluation" translate=no>​</a></h2>
<p>Sometimes we may want to conditionaly display a message or prompt for a value, for this we have the <code>visible</code> prop.
And we may want to allow a user to trigger an action only if some condition are met, for this we have the <code>enabled</code> prop.</p>
<p>Expressions are evaluated against a context containing previous values of the current section's options. This quite limited current design exists because on the web-admin or on the CLI we cannot guarantee that a value will be present in the form if the user queried only a single panel/section/option.
In the case of an action, the user will be shown or asked for each of the options of the section in which the button is present.</p>
<p>The expression has to be written in javascript (this has been designed for the web-admin first and is converted to python on the fly on the cli).</p>
<p>Available operators are: <code>==</code>, <code>!=</code>, <code>></code>, <code>>=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>!</code>, <code>&&</code>, <code>||</code>, <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code> and <code>match()</code>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=examples>Examples<a href=#examples class=hash-link aria-label="ارتباط مباشر بالعنوان Examples" title="ارتباط مباشر بالعنوان Examples" translate=no>​</a></h3>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic># simple "my_option_id" is thruthy/falsy</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>visible</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"my_option_id"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>visible</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"!my_option_id"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># misc</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>visible</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"my_value >= 10"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>visible</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"-(my_value + 1) &lt; 0"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>visible</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"!!my_value || my_other_value"</span><br/></span></code></pre></div></div>
<p>For a more complete set of examples, <a href=https://github.com/YunoHost/yunohost/blob/dev/src/tests/test_questions.py target=_blank rel="noopener noreferrer">check the tests at the end of the file</a>.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=match>match()<a href=#match class=hash-link aria-label="ارتباط مباشر بالعنوان match()" title="ارتباط مباشر بالعنوان match()" translate=no>​</a></h3>
<p>For more complex evaluation we can use regex matching.</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">my_string</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>default</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Lorem ipsum dolor et si qua met!"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">my_boolean</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"boolean"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>visible</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"my_string && match(my_string, '^Lorem [ia]psumE?')"</span><br/></span></code></pre></div></div>
<p>Match the content of a file.</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">my_file</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"file"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>accept</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>".txt"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"/etc/random/lorem.txt"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">my_boolean</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"boolean"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>visible</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"my_file && match(my_file, '^Lorem [ia]psumE?')"</span><br/></span></code></pre></div></div>
<p>with a file with content like:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">Lorem ipsum dolor et si qua met!</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=actions>Actions<a href=#actions class=hash-link aria-label="ارتباط مباشر بالعنوان Actions" title="ارتباط مباشر بالعنوان Actions" translate=no>​</a></h2>
<p>"Actions" correspond to config panel buttons triggering specific pieces of code. For example, one could implement an action to trigger a scan of Nextcloud files, or install a plugin inside an app that does not already provide an interface to do so. In core config panels, buttons are for example used to trigger certificate renewal.</p>
<p>The most basic example looks like this, using <code>type = 'button'</code>:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">panel.section.my_action</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"button"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>ask</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Run action"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic># (NB: no need to set `bind` to "null")</span><br/></span></code></pre></div></div>
<p>And then defining the controller, prefixed by <code>run__</code> inside the app's <code>config</code> script:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function-name function" style=color:#d73a49>run__my_action</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    ynh_print_info </span><span class="token string" style=color:#e3116c>"Running 'my_action'..."</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>You may build more complex actions, where the actions uses other form inputs:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">panel.my_action_section</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token key property" style=color:#36acaa>name</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Action section"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">panel.my_action_section.my_repo</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"url"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"null"</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic># this value won't be saved as a setting, it's ephemeral and only relevant for the action</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key property" style=color:#36acaa>ask</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"gimme a repo link"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">panel.my_action_section.my_repo_name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"string"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key property" style=color:#36acaa>bind</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"null"</span><span class="token plain"> </span><span class="token comment" style=color:#999988;font-style:italic># this value won't be saved as a setting, it's ephemeral and only relevant for the action</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key property" style=color:#36acaa>ask</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"gimme a custom folder name"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">panel.my_action_section.my_action</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key property" style=color:#36acaa>type</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"button"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key property" style=color:#36acaa>ask</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Clone the repo"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic># the button is clickable only once the previous values are provided</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token key property" style=color:#36acaa>enabled</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"my_repo && my_repo_name"</span><br/></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function-name function" style=color:#d73a49>run__my_action</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    ynh_print_info </span><span class="token string" style=color:#e3116c>"Cloning '</span><span class="token string variable" style=color:#36acaa>$my_repo</span><span class="token string" style=color:#e3116c>'..."</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token builtin class-name">cd</span><span class="token plain"> /tmp</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>git</span><span class="token plain"> clone </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>$my_repo</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"</span><span class="token string variable" style=color:#36acaa>$my_repo_name</span><span class="token string" style=color:#e3116c>"</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=overwrite-config-panel-mechanism>Overwrite config panel mechanism<a href=#overwrite-config-panel-mechanism class=hash-link aria-label="ارتباط مباشر بالعنوان Overwrite config panel mechanism" title="ارتباط مباشر بالعنوان Overwrite config panel mechanism" translate=no>​</a></h2>
<p>All main configuration helpers are overwritable, example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function-name function" style=color:#d73a49>ynh_app_config_apply</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic># Stop vpn client</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>touch</span><span class="token plain"> /tmp/.ynh-vpnclient-stopped</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    systemctl stop ynh-vpnclient</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    _ynh_app_config_apply</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic># Start vpn client</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    systemctl start ynh-vpnclient</span><br/></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>rm</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>-f</span><span class="token plain"> /tmp/.ynh-vpnclient-stopped</span><br/></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br/></span></code></pre></div></div>
<p>List of main configuration helpers:</p>
<ul>
<li><code>ynh_app_config_get</code></li>
<li><code>ynh_app_config_show</code></li>
<li><code>ynh_app_config_validate</code></li>
<li><code>ynh_app_config_apply</code></li>
<li><code>ynh_app_config_run</code></li>
</ul>
<p>More info on this can be found by reading <a href=https://github.com/YunoHost-Apps/vpnclient_ynh/blob/master/scripts/config target=_blank rel="noopener noreferrer">vpnclient_ynh config script</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=important-technical-notes>Important technical notes<a href=#important-technical-notes class=hash-link aria-label="ارتباط مباشر بالعنوان Important technical notes" title="ارتباط مباشر بالعنوان Important technical notes" translate=no>​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=options-short-keys-have-to-be-unique>Options short keys have to be unique<a href=#options-short-keys-have-to-be-unique class=hash-link aria-label="ارتباط مباشر بالعنوان Options short keys have to be unique" title="ارتباط مباشر بالعنوان Options short keys have to be unique" translate=no>​</a></h3>
<p>For performance reasons, questions short keys have to be unique in all the <code>config_panel.toml</code> file, not just inside its panel or its section. Hence it's not possible to have:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">manual.vpn.server_ip</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br/></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>[</span><span class="token table class-name">advanced.dns.server_ip</span><span class="token punctuation" style=color:#393A34>]</span><br/></span></code></pre></div></div>
<p>In which two questions have "real variable name" <code>is server_ip</code> and therefore conflict with each other.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_BuS1><p>Some short keys are forbidden cause it can interfer with config scripts (<code>old</code>, <code>file_hash</code>, <code>types</code>, <code>binds</code>, <code>formats</code>, <code>changed</code>) and you probably should avoid to use common settings name to avoid to bind your question to this settings (e.g. <code>id</code>, <code>install_time</code>, <code>mysql_pwd</code>, <code>path</code>, <code>domain</code>, <code>port</code>, <code>db_name</code>, <code>current_revision</code>, <code>admin</code>)</div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id=bind-versus-app-settings><code>bind</code> versus app settings<a href=#bind-versus-app-settings class=hash-link aria-label="ارتباط مباشر بالعنوان bind-versus-app-settings" title="ارتباط مباشر بالعنوان bind-versus-app-settings" translate=no>​</a></h3>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>warning</div><div class=admonitionContent_BuS1><p>IMPORTANT: with the exception of <code>bind = "null"</code> options, options ids should almost <strong>always</strong> correspond to an app setting initialized/reused during install/upgrade.</div></div>
<p>Not doing so may result in inconsistencies between the config panel mechanism and the use of ynh_add_config. See also <a href=https://github.com/YunoHost/issues/issues/1973 target=_blank rel="noopener noreferrer">the relevant issue</a>.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/YunoHost/doc/tree/main/docs/packaging/60.advanced/20.config_panels.mdx target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>تعديل هذه الصفحة</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="صفحة التوثيق"><a class="pagination-nav__link pagination-nav__link--prev" href=/pr-2672/ar/packaging/advanced><div class=pagination-nav__sublabel>السابق</div><div class=pagination-nav__label>Advanced</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/pr-2672/ar/packaging/advanced/sso_ldap_integration><div class=pagination-nav__sublabel>التالي</div><div class=pagination-nav__label>SSO/LDAP integration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#community-examples class="table-of-contents__link toc-highlight">Community examples</a><li><a href=#overview class="table-of-contents__link toc-highlight">Overview</a><li><a href=#supported-questions-types-and-properties class="table-of-contents__link toc-highlight">Supported questions types and properties</a><li><a href=#the-bind-statement class="table-of-contents__link toc-highlight">The "<code>bind</code>" statement</a><ul><li><a href=#binding-to-an-entire-file class="table-of-contents__link toc-highlight">"Binding" to an entire file</a><li><a href=#custom-getterssettersvalidators-aka-bindnull class="table-of-contents__link toc-highlight">Custom getters/setters/validators (a.k.a <code>bind=null</code>)</a></ul><li><a href=#user-input-validations class="table-of-contents__link toc-highlight">User input validations</a><ul><li><a href=#custom-validators class="table-of-contents__link toc-highlight">Custom validators</a></ul><li><a href=#visible--enabled-expression-evaluation class="table-of-contents__link toc-highlight"><code>visible</code> & <code>enabled</code> expression evaluation</a><ul><li><a href=#examples class="table-of-contents__link toc-highlight">Examples</a><li><a href=#match class="table-of-contents__link toc-highlight">match()</a></ul><li><a href=#actions class="table-of-contents__link toc-highlight">Actions</a><li><a href=#overwrite-config-panel-mechanism class="table-of-contents__link toc-highlight">Overwrite config panel mechanism</a><li><a href=#important-technical-notes class="table-of-contents__link toc-highlight">Important technical notes</a><ul><li><a href=#options-short-keys-have-to-be-unique class="table-of-contents__link toc-highlight">Options short keys have to be unique</a><li><a href=#bind-versus-app-settings class="table-of-contents__link toc-highlight"><code>bind</code> versus app settings</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Legal</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://github.com/YunoHost/yunohost/blob/dev/LICENSE target=_blank rel="noopener noreferrer" class=footer__link-item>License<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/pr-2672/ar/community/terms_of_services>CGUs</a><li class=footer__item><a href=https://github.com/YunoHost/project-organization target=_blank rel="noopener noreferrer" class=footer__link-item>Organization<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Follow us</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://forum.yunohost.org/c/announcement/8/none target=_blank rel="noopener noreferrer" class=footer__link-item>Blog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://toot.aquilenet.fr/@yunohost target=_blank rel="noopener noreferrer" class=footer__link-item>Mastodon<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href="https://videos.globenet.org/a/yunohost/videos?s=1" target=_blank rel="noopener noreferrer" class=footer__link-item>Peertube<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Use</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/pr-2672/ar/>Documentation</a><li class=footer__item><a href=https://apps.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Apps catalog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://forum.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Forum<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a class=footer__link-item href=/pr-2672/ar/community/help>Ask for help</a><li class=footer__item><a href=https://status.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Service status<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost/yunohost/blob/dev/debian/changelog target=_blank rel="noopener noreferrer" class=footer__link-item>Changelog<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Contribute</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://donate.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Donate<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost/issues/issues target=_blank rel="noopener noreferrer" class=footer__link-item>Issues<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub (core)<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/YunoHost-Apps target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub (apps)<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://translate.yunohost.org/ target=_blank rel="noopener noreferrer" class=footer__link-item>Translate<svg width=13.5 height=13.5 aria-label="(opens in new tab)" class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/pr-2672/ar/img/icons/ynh_logo_roundcorner.png alt="Yunohost Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"/><img src=/pr-2672/ar/img/icons/ynh_logo_roundcorner.png alt="Yunohost Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"/></div><div class=footer__copyright>Build with Docusaurus for YunoHost</div></div></div></footer></div></body>