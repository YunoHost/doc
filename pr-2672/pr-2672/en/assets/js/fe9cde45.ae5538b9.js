"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["9741"],{8854:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>r,toc:()=>c,default:()=>h,metadata:()=>i,assets:()=>d,contentTitle:()=>a});var i=JSON.parse('{"id":"admin/troubleshooting/ipv6","title":"Setting up IPv6","description":"IPv6 may work out of the box in many cases. But in some cases or some specific provider, you may need to tweak things manually to enable IPv6.","source":"@site/docs/admin/50.troubleshooting/20.ipv6.mdx","sourceDirName":"admin/50.troubleshooting","slug":"/admin/troubleshooting/ipv6","permalink":"/pr-2672/en/admin/troubleshooting/ipv6","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/docs/admin/50.troubleshooting/20.ipv6.mdx","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"title":"Setting up IPv6"},"sidebar":"admin","previous":{"title":"Get access back into YunoHost","permalink":"/pr-2672/en/admin/troubleshooting/noaccess"},"next":{"title":"Unblacklisting forms","permalink":"/pr-2672/en/admin/troubleshooting/blacklist_forms"}}'),o=t(4848),s=t(4429);let r={title:"Setting up IPv6"},a,d={},c=[{value:"With a VPS from OVH",id:"with-a-vps-from-ovh",level:2},{value:"Configure the DNS server",id:"configure-the-dns-server",level:3},{value:"Configure the server",id:"configure-the-server",level:3}];function l(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"IPv6 may work out of the box in many cases. But in some cases or some specific provider, you may need to tweak things manually to enable IPv6."}),"\n",(0,o.jsx)(n.h2,{id:"with-a-vps-from-ovh",children:"With a VPS from OVH"}),"\n",(0,o.jsxs)(n.p,{children:["OVH gives one IPv4 address and one IPv6 address for VPS but by default, only IPv4 is OK.\nPlease check ",(0,o.jsx)(n.a,{href:"https://docs.ovh.com/gb/en/vps/configuring-ipv6/",children:"The OVH documentation"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"configure-the-dns-server",children:"Configure the DNS server"}),"\n",(0,o.jsxs)(n.p,{children:["Also check ",(0,o.jsx)(n.a,{href:"/admin/tutorials/domains/dns_subdomains",children:"the documentation for subdomains"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"configure-the-server",children:"Configure the server"}),"\n",(0,o.jsx)(n.p,{children:"On the OVH panel, you will copy 3 elements:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"the IPv6 address"}),"\n",(0,o.jsx)(n.li,{children:"the IPv6 gateway address"}),"\n",(0,o.jsxs)(n.li,{children:["the IPv6 prefix. On OVH's VPS SSD, prefixes are ",(0,o.jsx)(n.code,{children:"/128"})," because you have only ",(0,o.jsx)(n.em,{children:"one"})," IPv6 address."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["On your VPS, create a backup of the network configuration with : ",(0,o.jsx)(n.code,{children:"cp /etc/network/interfaces ~/interfaces"})," in home directory.\nThen, you can edit the configuration file (",(0,o.jsx)(n.code,{children:"/etc/network/interfaces"}),") with the following."]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["In this example, it is assumed that your network interface is ",(0,o.jsx)(n.code,{children:"eth0"}),". If it's different (check with ",(0,o.jsx)(n.code,{children:"ip a"}),") you need to adapt the example below."]})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"iface eth0 inet6 static\naddress <your IPv6 address>\nnetmask <your IPv6 prefix>\npost-up /sbin/ip -6 route add <the IPv6 gateway> dev eth0\npost-up /sbin/ip -6 route add default via <the IPv6 gateway> dev eth0\npre-down /sbin/ip -6 route del default via <the IPv6 gateway> dev eth0\npre-down /sbin/ip -6 route del <the IPv6 gateway> dev eth0\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Now, save the file and restart the network service with : ",(0,o.jsx)(n.code,{children:"service networking restart"}),". (TODO : ideally we should find a way to validate the content of the configuration, otherwise it could fuck up the network stack and get disconnected from the VPS ?)"]}),"\n",(0,o.jsx)(n.p,{children:"Check your configuration with these commands :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ip a"})," to display network interfaces and addresses"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"hostname -I"})," to display the system IP addresses"]}),"\n",(0,o.jsxs)(n.li,{children:["try to ping an IPv6 server (for example you can use ",(0,o.jsx)(n.code,{children:"ping6 ip6.yunohost.org"}),")"]}),"\n",(0,o.jsx)(n.li,{children:"try to ping your server from your PC (assuming your PC has IPv6 enabled)"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"If it's ok, it's ok !"})]})}function h(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},4429:function(e,n,t){t.d(n,{R:()=>r,x:()=>a});var i=t(6540);let o={},s=i.createContext(o);function r(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);