"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["6617"],{6064:function(e,n,t){t.d(n,{Ay:()=>d,RM:()=>r});var i=t(4848),s=t(4429),o=t(4109),a=t(3703);let r=[{value:"<FAIcon></FAIcon> Proceed with the initial configuration",id:"-proceed-with-the-initial-configuration",level:2},{value:"<FAIcon></FAIcon> Main domain",id:"-main-domain",level:3},{value:"<FAIcon></FAIcon> First user",id:"-first-user",level:3},{value:"<FAIcon></FAIcon> Run the initial diagnosis",id:"-run-the-initial-diagnosis",level:2},{value:"<FAIcon></FAIcon> Get a Let&#39;s Encrypt certificate",id:"-get-a-lets-encrypt-certificate",level:2},{value:"\u{1F389} Congratz!",id:"-congratz",level:2}];function l(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:t,FAIcon:r,Figure:l}=n;return t||c("Details",!0),r||c("FAIcon",!0),l||c("Figure",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h2,{id:"-proceed-with-the-initial-configuration",children:[(0,i.jsx)(r,{icon:"fa-cog"})," Proceed with the initial configuration"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["If you are in the process of restoring a server using a YunoHost backup, you should skip this step and instead ",(0,i.jsx)(n.a,{href:"/admin/backups",children:"restore the backup instead of the postinstall step"}),"."]})}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsxs)(n.p,{children:["This documentation assumes you're on the same local network as your YunoHost installation.\n",(0,i.jsx)(n.a,{href:"/admin/get_started/post_install/find_ip",children:"Find out its IP address"})," before continuing."]}),(0,i.jsx)(n.p,{children:"For a VPS, please use the public IP address instead of the local domain or address."})]}),"\n",(0,i.jsxs)(o.A,{groupId:"admin-commands",children:[(0,i.jsxs)(a.A,{value:"web",label:"From the web interface",children:[(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["During the first visit, you will very likely encounter a security warning related to the certificate used by the server. For now, your server uses a self-signed certificate. You will later be able to add a certificate automatically recognized by web browsers as described in the ",(0,i.jsx)(n.a,{href:"/admin/domains/certificate",children:"certificate documentation"}),".  For now, you should add a security exception to accept the current certificate. (Though, PLEASE, do not take the habit of blindly accepting this kind of security alert!)"]})}),(0,i.jsx)(n.p,{children:"You should then land on this page:"}),(0,i.jsx)(l,{caption:"Preview of the Web initial configuration page",src:"/img/webadmin/postinstall_web.png"})]}),(0,i.jsxs)(a.A,{value:"cli",label:"From the command line",children:[(0,i.jsxs)(n.p,{children:["You can also perform the postinstallation with the command ",(0,i.jsx)(n.code,{children:"yunohost tools postinstall"})," directly on the server, or ",(0,i.jsx)(n.a,{href:"/admin/command_line",children:"via SSH"}),"."]}),(0,i.jsx)(l,{caption:"Preview of the command-line post-installation",src:"/img/postinstall_cli.png"})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"-main-domain",children:[(0,i.jsx)(r,{icon:"fa-globe"})," Main domain"]}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:"WSL specific configuration"}),(0,i.jsxs)(n.p,{children:["You will have to choose a fake domain, since it will not be accessible from outside.\nFor example, ",(0,i.jsx)(n.code,{children:"ynh.wsl"}),". The tricky part is advertising this domain to your host."]}),(0,i.jsxs)(n.p,{children:["Alter your ",(0,i.jsx)(n.code,{children:"C:\\Windows\\System32\\drivers\\etc\\hosts"})," file. You should have a line starting by ",(0,i.jsx)(n.code,{children:"::1"}),", update it or add it if needed to get:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"::1    ynh.wsl localhost\n"})}),(0,i.jsxs)(n.p,{children:["If you want to create subdomains, do not forget to add them in the ",(0,i.jsx)(n.code,{children:"hosts"})," file too:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"::1    ynh.wsl subdomain.ynh.wsl localhost\n"})})]}),"\n",(0,i.jsxs)(n.p,{children:["This will be the domain used by your server's users to access the ",(0,i.jsx)(n.strong,{children:"authentication portal"}),". You can later add other domains, and change which one is the main domain if needed."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If you're new to self-hosting and do not already have a domain name, we recommend using a ",(0,i.jsx)(n.strong,{children:".nohost.me"})," / ",(0,i.jsx)(n.strong,{children:".noho.st"})," / ",(0,i.jsx)(n.strong,{children:".ynh.fr"})," (e.g. ",(0,i.jsx)(n.code,{children:"homersimpson.nohost.me"}),"). Provided that it's not already taken, the domain will be configured automatically and you won't need any further configuration step. Please note that the downside is that you won't have full-control over the DNS configuration."]}),"\n",(0,i.jsxs)(n.li,{children:["If you already own a domain name, you probably want to use it here. You will later need to configure DNS records as explained ",(0,i.jsx)(n.a,{href:"/admin/get_started/post_install/dns_config",children:"here"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["Yes, you ",(0,i.jsx)(n.em,{children:"have to"})," configure a domain name. If you don't have any domain name and don't want a ",(0,i.jsx)(n.strong,{children:".nohost.me"})," / ",(0,i.jsx)(n.strong,{children:".noho.st"})," / ",(0,i.jsx)(n.strong,{children:".ynh.fr"})," either, you can set up a dummy domain such as ",(0,i.jsx)(n.code,{children:"yolo.test"})," and tweak your ",(0,i.jsx)(n.strong,{children:"local"})," ",(0,i.jsx)(n.code,{children:"/etc/hosts"})," file such that this dummy domain ",(0,i.jsx)(n.a,{href:"/admin/tutorials/domains/dns_local_network",children:"points to the appropriate IP, as explained here"}),"."]})}),"\n",(0,i.jsxs)(n.h3,{id:"-first-user",children:[(0,i.jsx)(r,{icon:"fa-key"})," First user"]}),"\n",(0,i.jsxs)(n.p,{children:["The first user is now created at this stage. You should pick a username and a reasonably complex password. (We cannot stress enough that the password should be ",(0,i.jsx)(n.strong,{children:"robust"}),"!) This user will be added to the Admins group, and will therefore be able to access the user portal, the web admin interface, and connect ",(0,i.jsxs)(n.a,{href:"/admin/command_line",children:["via ",(0,i.jsx)(n.strong,{children:"SSH"})]})," or ",(0,i.jsx)(n.a,{href:"/admin/tutorials/filezilla",children:(0,i.jsx)(n.strong,{children:"SFTP"})}),". Admins will also receive emails sent to ",(0,i.jsx)(n.code,{children:"root@yourdomain.tld"})," and ",(0,i.jsx)(n.code,{children:"admin@yourdomain.tld"}),": these emails may be used to send technical informations or alerts. You can later add additional users, which you can also add to the Admins group."]}),"\n",(0,i.jsxs)(n.p,{children:["This user replaces the old ",(0,i.jsx)(n.code,{children:"admin"})," user, which some old documentation page may still refer to. In which case: just replace ",(0,i.jsx)(n.code,{children:"admin"})," with your username."]}),"\n",(0,i.jsxs)(n.h2,{id:"-run-the-initial-diagnosis",children:[(0,i.jsx)(r,{icon:"fa-stethoscope"})," Run the initial diagnosis"]}),"\n",(0,i.jsx)(n.p,{children:"Once the postinstall is done, you should be able to actually log in the web admin interface using the credentials of the first user you just created."}),"\n",(0,i.jsx)(n.p,{children:"The diagnosis system is meant to provide an easy way to validate that all critical aspects of your server are properly configured - and guide you in how to fix issues. The diagnosis will run twice a day and send an alert if issues are detected."}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Don't run away"})," ! The first time you run the diagnosis, it is quite expected to see a bunch of yellow/red alerts because you typically need to ",(0,i.jsx)(n.a,{href:"/admin/get_started/post_install/dns_config",children:"configure DNS records"})," (if not using a ",(0,i.jsx)(n.code,{children:".nohost.me"}),"/",(0,i.jsx)(n.code,{children:"noho.st"}),"/",(0,i.jsx)(n.code,{children:"ynh.fr"})," domain), add a swapfile if not enough ram as well as ",(0,i.jsx)(n.a,{href:"/admin/get_started/post_install/port_forwarding",children:"port forwarding"})," on your home's router."]})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"If an alert is not relevant (for example because you don't intend on using a specific feature), it is perfectly fine to flag the issue as 'ignored' by going in the webadmin > Diagnosis, and clicking the ignore button for this specifc issue."})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"Especially, installations on WSL or virtual machines will likely not be reachable from outside without further network configuration on Virtualbox and your machine."})}),"\n",(0,i.jsxs)(o.A,{groupId:"admin-commands",children:[(0,i.jsxs)(a.A,{value:"web",label:"(Recommended) From the web interface",children:[(0,i.jsx)(n.p,{children:"To run a diagnosis, go on Web Admin in the Diagnosis section. Click Run initial diagnosis and you should get a screen like this:"}),(0,i.jsx)(l,{caption:"Preview of the diagnostic panel",src:"/img/webadmin/diagnostic.png"})]}),(0,i.jsx)(a.A,{value:"cli",label:"From the command line",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yunohost diagnosis run\nyunohost diagnosis show --issues --human-readable\n"})})})]}),"\n",(0,i.jsxs)(n.h2,{id:"-get-a-lets-encrypt-certificate",children:[(0,i.jsx)(r,{icon:"fa-lock"})," Get a Let's Encrypt certificate"]}),"\n",(0,i.jsx)(n.p,{children:"Once you configured DNS records and port forwarding (if needed), you should be able to install a Let's Encrypt certificate. This will get rid of the spooky security warning from earlier for new visitors."}),"\n",(0,i.jsxs)(n.p,{children:["For more detailed instructions, or to lean more about SSL/TLS certificates, see ",(0,i.jsx)(n.a,{href:"/admin/domains/certificate",children:"the corresponding page here"}),"."]}),"\n",(0,i.jsxs)(o.A,{groupId:"admin-commands",children:[(0,i.jsxs)(a.A,{value:"web",label:"From the web interface",children:[(0,i.jsx)(n.p,{children:"Go in Domains > Click on your domain > SSL Certificate"}),(0,i.jsx)(l,{caption:"Preview of the diagnostic panel",src:"/img/webadmin/certificate-before-LE.png"})]}),(0,i.jsx)(a.A,{value:"cli",label:"From the command line",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yunohost domain cert install\n"})})})]}),"\n",(0,i.jsx)(n.h2,{id:"-congratz",children:"\u{1F389} Congratz!"}),"\n",(0,i.jsxs)(n.p,{children:["You now have a pretty well configured server. If you're new to YunoHost, we recommend to have a look at ",(0,i.jsx)(n.a,{href:"/admin/webadmin",children:"the guided tour"}),". You should also be able to ",(0,i.jsx)(n.a,{href:"https://apps.yunohost.org/",children:"install your favourite applications"}),". Don't forget to ",(0,i.jsx)(n.a,{href:"/admin/backups",children:"plan backups"})," !"]})]})}function d(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}function c(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},9876:function(e,n,t){t.d(n,{Ay:()=>r,RM:()=>o});var i=t(4848),s=t(4429);let o=[{value:"<FAIcon></FAIcon> Run the install script",id:"-run-the-install-script",level:2}];function a(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{FAIcon:t}=n;return t||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("FAIcon",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h2,{id:"-run-the-install-script",children:[(0,i.jsx)(t,{icon:"fa-rocket"})," Run the install script"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Open a command line prompt on your server (either directly or ",(0,i.jsx)(n.a,{href:"/admin/command_line",children:"through SSH"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Make sure you are root (or type ",(0,i.jsx)(n.code,{children:"sudo -i"})," to become root)"]}),"\n",(0,i.jsx)(n.li,{children:"Run the following command:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl https://install.yunohost.org | bash\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"warning",children:[(0,i.jsxs)(n.p,{children:["You might need to first install ",(0,i.jsx)(n.code,{children:"curl"})," and ",(0,i.jsx)(n.code,{children:"ca-certificates"})," by running:"]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"apt install curl ca-certificates\n"})})]}),"\n",(0,i.jsx)(n.admonition,{type:"danger",children:(0,i.jsxs)(n.p,{children:["Always ensure there's an ",(0,i.jsx)(n.code,{children:"s"})," at the end of ",(0,i.jsx)(n.code,{children:"https"}),"."]})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:["For advanced users concerned with the ",(0,i.jsx)(n.code,{children:"curl | bash"})," approach:"]})," consider reading ",(0,i.jsx)(n.a,{href:"https://sandstorm.io/news/2015-09-24-is-curl-bash-insecure-pgp-verified-install",children:'"Is curl|bash insecure?"'})," on Sandstom's blog, and possibly ",(0,i.jsx)(n.a,{href:"https://news.ycombinator.com/item?id=12766350&noprocess",children:"this discussion on Hacker News"}),"."]})})]})}function r(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},1826:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>l,toc:()=>h,default:()=>p,metadata:()=>i,assets:()=>c,contentTitle:()=>d});var i=JSON.parse('{"id":"admin/get_started/install_on/wsl","title":"On WSL","description":"Experimental, for testing purposes","source":"@site/docs/admin/05.get_started/20.install_on/wsl.mdx","sourceDirName":"admin/05.get_started/20.install_on","slug":"/admin/get_started/install_on/wsl","permalink":"/doc/pr-2678/de/admin/get_started/install_on/wsl","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/docs/admin/05.get_started/20.install_on/wsl.mdx","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"On WSL","description":"Experimental, for testing purposes","sidebar_position":8,"sidebar_custom_props":{"doc_card_image":"/img/icons/logo-wsl.png"},"pagination_next":"admin/get_started/guidelines","sidebar_class_name":"hidden"},"sidebar":"admin","previous":{"title":"On top of Debian","permalink":"/doc/pr-2678/de/admin/get_started/install_on/on_top_of_debian"},"next":{"title":"Hinweise und Leitlinien","permalink":"/doc/pr-2678/de/admin/get_started/guidelines"}}'),s=t(4848),o=t(4429);t(4109),t(3703);var a=t(9876),r=t(6064);let l={title:"On WSL",description:"Experimental, for testing purposes",sidebar_position:8,sidebar_custom_props:{doc_card_image:"/img/icons/logo-wsl.png"},pagination_next:"admin/get_started/guidelines",sidebar_class_name:"hidden"},d,c={},h=[{value:"<FAIcon></FAIcon> Pre-requisites",id:"-pre-requisites",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Install Debian",id:"install-debian",level:2},{value:"Prevent WSL from tweaking configuration files",id:"prevent-wsl-from-tweaking-configuration-files",level:2},{value:"Force the use of iptables-legacy",id:"force-the-use-of-iptables-legacy",level:2},{value:"Install Systemd",id:"install-systemd",level:2},{value:"Install YunoHost",id:"install-yunohost",level:2},...a.RM,{value:"Access the command line",id:"access-the-command-line",level:3},{value:"Backup and restore the distro",id:"backup-and-restore-the-distro",level:2},{value:"Make your first distro backup",id:"make-your-first-distro-backup",level:3},{value:"In case of crash, delete and restore the whole distro",id:"in-case-of-crash-delete-and-restore-the-whole-distro",level:3},...r.RM];function u(e){let n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components},{FAIcon:t}=n;return t||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("FAIcon",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{type:"danger",children:(0,s.jsx)(n.p,{children:"This setup is mainly meant for local testing by advanced users. Due to limitations on WSL's side (changing IP address, notably), selfhosting from it can be tricky and will not be described here."})}),"\n",(0,s.jsxs)(n.h2,{id:"-pre-requisites",children:[(0,s.jsx)(t,{icon:"fa-list-alt"})," Pre-requisites"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Windows 10 and above"}),"\n",(0,s.jsx)(n.li,{children:"Administration rights"}),"\n",(0,s.jsx)(n.li,{children:"Windows Subsystem for Linux, installed from the Optional Features menu of Windows"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"Recommended:"})," Windows Terminal (Preview) app, installed from the Microsoft Store. Much better than the standard Terminal, as it offers shortcuts to the WSL distros."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(n.p,{children:"WSL is a nice feature of Windows 10, making Linux pseudo-distributions available through command line. Let's say pseudo, because even though they are not really like virtual machines, they rely on virtualization capacities that make their integration with Windows almost seamless.\nDocker for Windows can now rely on WSL instead of Hyper-V, for example."}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["Bear in mind, this setup itself is ",(0,s.jsx)(n.em,{children:"not"})," a container of any kind. If something breaks, there is no rollback capability.",(0,s.jsx)(n.br,{}),"\n","You may need to delete the Debian distro altogether and restore it whole."]})}),"\n",(0,s.jsx)(n.h2,{id:"install-debian",children:"Install Debian"}),"\n",(0,s.jsx)(n.p,{children:"Let's install YunoHost into its own distro, not altering the default one. In a PowerShell terminal:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Let's go in your home directory and prepare the working directories\ncd ~\nmkdir -p WSL\\YunoHost\n# Download the Debian appx package and unzip it\ncurl.exe -L -o debian.zip https://aka.ms/wsl-debian-gnulinux\nExpand-Archive .\\debian.zip -DestinationPath .\\debian\n# Import the Debian base into a new distro\nwsl --import YunoHost ~\\WSL\\YunoHost ~\\debian\\install.tar.gz --version 2\n# Cleanup\nrmdir .\\debian -R\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can now access it: run ",(0,s.jsx)(n.code,{children:"wsl.exe -d YunoHost"})]}),"\n",(0,s.jsx)(n.p,{children:"It is under Debian 9 Stretch, so let's upgrade it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# In WSL\nsudo sed -i 's/stretch/bookworm/g' /etc/apt/sources.list`\nsudo apt update\nsudo apt upgrade\n# optional\nsudo apt full-upgrade\n# wget needed for later setup\nsudo apt install wget -y\n"})}),"\n",(0,s.jsx)(n.h2,{id:"prevent-wsl-from-tweaking-configuration-files",children:"Prevent WSL from tweaking configuration files"}),"\n",(0,s.jsxs)(n.p,{children:["Edit ",(0,s.jsx)(n.code,{children:"/etc/wsl.conf"})," and put the following code in it:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"[network]\ngenerateHosts = false\ngenerateResolvConf = false\n"})}),"\n",(0,s.jsx)(n.h2,{id:"force-the-use-of-iptables-legacy",children:"Force the use of iptables-legacy"}),"\n",(0,s.jsx)(n.admonition,{title:"FIXME",type:"warning",children:(0,s.jsx)(n.p,{children:"YunoHost now uses nftables, these instructions might be out of date."})}),"\n",(0,s.jsxs)(n.p,{children:["Somehow the YunoHost post-installation does not like ",(0,s.jsx)(n.code,{children:"nf_tables"}),", the new software replacing ",(0,s.jsx)(n.code,{children:"iptables"}),".\nWe can still explicitely use the good ol' ",(0,s.jsx)(n.code,{children:"iptables"})," though:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# In WSL\nsudo update-alternatives --set iptables /usr/sbin/iptables-legacy\nsudo update-alternatives --set ip6tables /usr/sbin/ip6tables-legacy\n"})}),"\n",(0,s.jsx)(n.h2,{id:"install-systemd",children:"Install Systemd"}),"\n",(0,s.jsxs)(n.p,{children:["Debian on WSL does not have ",(0,s.jsx)(n.code,{children:"systemd"}),", a service configuration software.\nThis is a key element for YunoHost, and for any decent Debian distro (seriously MS, what the heck). Let's install it:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install dotNET runtime:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# In WSL\nwget https://packages.microsoft.com/config/debian/12/packages-microsoft-prod.deb -O packages-microsoft-prod.deb\nsudo dpkg -i packages-microsoft-prod.deb\nsudo apt update\nsudo apt install -y apt-transport-https\nsudo apt update\nsudo apt install -y dotnet-sdk-3.1\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install ",(0,s.jsx)(n.a,{href:"https://github.com/arkane-systems/genie",children:"Genie"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# In WSL\n# Add their repository\necho "deb [trusted=yes] https://wsl-translinux.arkane-systems.net/apt/ /" > /etc/apt/sources.list.d/wsl-translinux.list\n# Install Genie\nsudo apt update\nsudo apt install -y systemd-genie\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"install-yunohost",children:"Install YunoHost"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# In WSL\n# Let\'s switch to the root user, if you were not already\nsudo su\n\n# Initialize the Genie bottle to have systemd running\ngenie -s\n# Your hostname should have been appended with "-wsl"\n'})}),"\n",(0,s.jsx)(a.Ay,{}),"\n",(0,s.jsx)(n.h3,{id:"access-the-command-line",children:"Access the command line"}),"\n",(0,s.jsxs)(n.p,{children:["Always call ",(0,s.jsx)(n.code,{children:"genie -s"})," while starting your distro."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"wsl -d YunoHost -e genie -s\n"})}),"\n",(0,s.jsx)(n.h2,{id:"backup-and-restore-the-distro",children:"Backup and restore the distro"}),"\n",(0,s.jsx)(n.h3,{id:"make-your-first-distro-backup",children:"Make your first distro backup"}),"\n",(0,s.jsx)(n.p,{children:"As said before, there is no rollback capability. So let's export your fresh distro. In PowerShell:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ~\nwsl --export YunoHost .\\WSL\\YunoHost.tar.gz\n"})}),"\n",(0,s.jsx)(n.h3,{id:"in-case-of-crash-delete-and-restore-the-whole-distro",children:"In case of crash, delete and restore the whole distro"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ~\nwsl --unregister YunoHost\nwsl --import YunoHost .\\WSL\\YunoHost .\\WSL\\YunoHost.tar.gz --version 2\n"})}),"\n",(0,s.jsx)(r.Ay,{})]})}function p(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},3703:function(e,n,t){t.d(n,{A:()=>o});var i=t(4848);t(6540);var s=t(9836);function o({children:e,hidden:n,className:t}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)("tabItem_Ymn6",t),hidden:n,children:e})}},4109:function(e,n,t){t.d(n,{A:()=>b});var i=t(4848),s=t(6540),o=t(9836),a=t(6364),r=t(8251),l=t(6347),d=t(8004),c=t(5580),h=t(2213),u=t(5734);function p(e){return s.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,s.isValidElement)(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}var f=t(8864);function g({className:e,block:n,selectedValue:t,selectValue:s,tabValues:a}){let l=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.a_)(),c=e=>{let n=e.currentTarget,i=a[l.indexOf(n)].value;i!==t&&(d(n),s(i))},h=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{let t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{let t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1]}}n?.focus()};return(0,i.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:s})=>(0,i.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:h,onClick:c,...s,className:(0,o.A)("tabs__item","tabItem_LNqP",s?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function x({lazy:e,children:n,selectedValue:t}){let a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let e=a.find(e=>e.props.value===t);return e?(0,s.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,i.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function j(e){let n=function(e){let n,{defaultValue:t,queryString:i=!1,groupId:o}=e,a=function(e){let{values:n,children:t}=e;return(0,s.useMemo)(()=>{let e=n??p(t).map(({props:{value:e,label:n,attributes:t,default:i}})=>({value:e,label:n,attributes:t,default:i})),i=(0,h.XI)(e,(e,n)=>e.value===n.value);if(i.length>0)throw Error(`Docusaurus error: Duplicate values "${i.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[n,t])}(e),[r,f]=(0,s.useState)(()=>(function({defaultValue:e,tabValues:n}){if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let t=n.find(e=>e.default)??n[0];if(!t)throw Error("Unexpected error: 0 tabValues");return t.value})({defaultValue:t,tabValues:a})),[g,x]=function({queryString:e=!1,groupId:n}){let t=(0,l.W6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(i),(0,s.useCallback)(e=>{if(!i)return;let n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})},[i,t])]}({queryString:i,groupId:o}),[j,b]=function({groupId:e}){let n=e?`docusaurus.tab.${e}`:null,[t,i]=(0,u.Dv)(n);return[t,(0,s.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:o}),y=m({value:n=g??j,tabValues:a})?n:null;return(0,d.A)(()=>{y&&f(y)},[y]),{selectedValue:r,selectValue:(0,s.useCallback)(e=>{if(!m({value:e,tabValues:a}))throw Error(`Can't select invalid tab value=${e}`);f(e),x(e),b(e)},[x,b,a]),tabValues:a}}(e);return(0,i.jsxs)("div",{className:(0,o.A)(a.G.tabs.container,"tabs-container","tabList__CuJ"),children:[(0,i.jsx)(g,{...n,...e}),(0,i.jsx)(x,{...n,...e})]})}function b(e){let n=(0,f.A)();return(0,i.jsx)(j,{...e,children:p(e.children)},String(n))}},4429:function(e,n,t){t.d(n,{R:()=>a,x:()=>r});var i=t(6540);let s={},o=i.createContext(s);function a(e){let n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);