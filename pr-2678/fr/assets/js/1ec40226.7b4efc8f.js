"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["851"],{6172:function(e,n,s){s.r(n),s.d(n,{frontMatter:()=>u,toc:()=>c,default:()=>p,metadata:()=>o,assets:()=>l,contentTitle:()=>d});var o=JSON.parse('{"id":"admin/domains/index","title":"\u{1F310} Domaines","description":"YunoHost permet de g\xe9rer et de servir plusieurs domaines sur un m\xeame serveur. Vous pouvez donc h\xe9berger, par exemple, un blog et un Nextcloud sur un premier domaine yolo.com, et un client de messagerie web sur un second domaine swag.nohost.me. Chaque domaine est automatiquement configur\xe9 pour pouvoir g\xe9rer des services web et des courriels.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/admin/25.domains/index.mdx","sourceDirName":"admin/25.domains","slug":"/admin/domains/","permalink":"/doc/pr-2678/fr/admin/domains/","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/fr/docusaurus-plugin-content-docs/current/admin/25.domains/index.mdx","tags":[],"version":"current","frontMatter":{"title":"\u{1F310} Domaines"},"sidebar":"admin","previous":{"title":"Groupes et permissions","permalink":"/doc/pr-2678/fr/admin/users/groups_and_permissions"},"next":{"title":"Certificat","permalink":"/doc/pr-2678/fr/admin/domains/certificate"}}'),r=s(4848),i=s(4429),a=s(4109),t=s(3703);let u={title:"\u{1F310} Domaines"},d,l={},c=[{value:"Domaines locaux",id:"domaines-locaux",level:2},{value:"3 types de domaines",id:"3-types-de-domaines",level:2},{value:"Configuration DNS",id:"configuration-dns",level:2},{value:"A propos des caract\xe8res non-latins",id:"a-propos-des-caract\xe8res-non-latins",level:2},{value:"Certificats SSL/HTTPS",id:"certificats-sslhttps",level:2}];function m(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["YunoHost permet de g\xe9rer et de servir plusieurs domaines sur un m\xeame serveur. Vous pouvez donc h\xe9berger, par exemple, un blog et un Nextcloud sur un premier domaine ",(0,r.jsx)(n.code,{children:"yolo.com"}),", et un client de messagerie web sur un second domaine ",(0,r.jsx)(n.code,{children:"swag.nohost.me"}),". Chaque domaine est automatiquement configur\xe9 pour pouvoir g\xe9rer des services web et des courriels."]}),"\n",(0,r.jsxs)(n.p,{children:["Les domaines peuvent \xeatre g\xe9r\xe9s dans la section 'Domaines' de la webadmin, ou via la cat\xe9gorie ",(0,r.jsx)(n.code,{children:"yunohost domain"})," de la ligne de commande."]}),"\n",(0,r.jsxs)(n.p,{children:["Chaque fois que vous ajoutez un domaine, il est suppos\xe9 que vous avez achet\xe9 (ou en tout cas que vous contr\xf4lez) le domaine, de sorte que vous puissiez g\xe9rer la ",(0,r.jsx)(n.a,{href:"/admin/get_started/post_install/dns_config",children:"configuration DNS"})," de celui-ci. Une exception concerne les ",(0,r.jsxs)(n.a,{href:"/admin/tutorials/domains/dns_nohost_me",children:["domaines en ",(0,r.jsx)(n.code,{children:".nohost.me"}),", ",(0,r.jsx)(n.code,{children:".noho.st"})," et ",(0,r.jsx)(n.code,{children:"ynh.fr"})]})," qui sont offerts par le Projet YunoHost, et peuvent \xeatre directement int\xe9gr\xe9s avec YunoHost gr\xe2ce \xe0 une configuration DynDNS automatique. Pour limiter les abus et les co\xfbts, une instance ne peut avoir qu'un seul domaine offert \xe0 la fois, toutefois vous pouvez ajouter autant de sous-domaines de celui-ci que vous le souhaitez. Par exemple, ci vous choisissez ",(0,r.jsx)(n.code,{children:"exemple.ynh.fr"})," vous pourrez par la suite ajouter les domaines ",(0,r.jsx)(n.code,{children:"video.exemple.ynh.fr"})," ou ",(0,r.jsx)(n.code,{children:"www.exemple.ynh.fr"})," ou tout autre sous-domaine dont vous pourriez avoir l'utilit\xe9."]}),"\n",(0,r.jsxs)(n.p,{children:['Les domaines peuvent \xeatre g\xe9r\xe9s dans la section "Domaine" de la webadmin, ou via la ligne de commande (voir ',(0,r.jsx)(n.code,{children:"yunohost domain --help"}),")"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Une capture d&#39;\xe9cran de l&#39;interface de gestion des domaines dans la webadmin avec un bouton &quot;Ajouter un domain&quot; et la liste des domaines",src:s(7492).A+"",width:"768",height:"613"})}),"\n",(0,r.jsx)(n.h2,{id:"domaines-locaux",children:"Domaines locaux"}),"\n",(0,r.jsx)(n.h2,{id:"3-types-de-domaines",children:"3 types de domaines"}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsxs)(t.A,{value:"nohost",label:"Yunohost's domains (the free and easy way)",children:[(0,r.jsxs)(n.p,{children:["Afin de rendre l'auto-h\xe9bergement aussi accessible que possible, le projet YunoHost fournit un service de nom de domaine ",(0,r.jsx)(n.em,{children:"gratuit"})," et ",(0,r.jsx)(n.em,{children:"configur\xe9 automatiquement"}),". En utilisant ce service, vous n'aurez pas \xe0 ",(0,r.jsx)(n.a,{href:"/admin/get_started/post_install/dns_config",children:"configurer les enregistrements DNS"})," vous-m\xeame, ce qui peut \xeatre fastidieux et technique. N\xe9anmoins, soyez conscient que vous n'\xeates pas r\xe9ellement propri\xe9taire du domaine choisi..."]}),(0,r.jsx)(n.p,{children:"Les (sous-)domaines suivants sont propos\xe9s :"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"whateveryouwant.nohost.me"})," ;"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"whateveryouwant.noho.st"})," ;"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"whateveryouwant.ynh.fr"}),"."]}),"\n"]}),(0,r.jsx)(n.p,{children:"De plus, YunoHost utilise un m\xe9canisme de DNS dynamique int\xe9gr\xe9, de sorte que votre serveur reste accessible m\xeame si votre IP publique change."}),(0,r.jsxs)(n.p,{children:["Pour obtenir un de ces domaines, il vous suffit de choisir ",(0,r.jsx)(n.code,{children:"Je n'ai pas de nom de domaine..."})," lors de la configuration initiale (post-installation) ou sur la page ",(0,r.jsx)(n.code,{children:"Ajouter un domaine"}),"."]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Capture d&#39;\xe9cran de la page \xab Ajouter un domaine \xbb o\xf9 vous pouvez choisir \xab Je n&#39;ai pas de nom de domaine \xbb",src:s(7514).A+"",width:"768",height:"613"})}),(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Pour limiter les co\xfbts de ressources et les abus, chaque instance ne peut avoir qu'un seul de ces domaines \xe0 la fois, mais vous pouvez ajouter autant de sous-domaines que vous le souhaitez. Par exemple, si vous choisissez ",(0,r.jsx)(n.code,{children:"example.noho.st"})," vous pouvez plus tard ajouter les domaines ",(0,r.jsx)(n.code,{children:"video.example.noho.st"})," ou ",(0,r.jsx)(n.code,{children:"www.example.ynh.noho.st"})," ou tout autre sous-domaine dont vous pourriez avoir besoin. Dans ce cas, vous devez s\xe9lectionner \xab J'ai d\xe9j\xe0 un nom de domaine \xbb."]})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/admin/tutorials/domains/dns_nohost_me",children:"Plus d'informations sur ces domaines"})})]}),(0,r.jsxs)(t.A,{value:"own",label:"Your own domains",children:[(0,r.jsx)(n.p,{children:"Avoir son propre domaine apporte plusieurs avantages :"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"plus de contr\xf4le et d'autonomie"}),"\n",(0,r.jsx)(n.li,{children:"un nom de domaine plus simple (par exemple directement en .net ou .org)"}),"\n"]}),(0,r.jsxs)(n.p,{children:["Cependant, vous devez payer pour cela chaque ann\xe9e (environ 15\u20AC/an ... en fonction du TLD) et vous devez faire quelques configurations suppl\xe9mentaires pour ",(0,r.jsx)(n.a,{href:"/admin/get_started/post_install/dns_config",children:"mettre en place une zone DNS correcte"}),". L'outil de diagnostic peut vous aider \xe0 effectuer cette configuration."]}),(0,r.jsx)(n.p,{children:"Si vous avez d\xe9j\xe0 votre propre domaine, vous pouvez simplement cliquer sur \xab J'ai d\xe9j\xe0 un nom de domaine... \xbb. Dans le cas contraire, afin de simplifier et d'automatiser la configuration DNS, nous vous sugg\xe9rons de l'acheter aupr\xe8s d'un [registrar dont l'API est support\xe9e par YunoHost] (/admin/get_started/providers/registrar/)."}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(3765).A+"",children:"Cpture d'\xe9cran de la page \xab Ajouter un domaine \xbb o\xf9 vous pouvez choisir \xab J'ai d\xe9j\xe0 un nom de domaine \xbb"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"/admin/get_started/post_install/dns_config",children:"En savoir plus sur la configuration de la zone DNS"})})]}),(0,r.jsxs)(t.A,{value:"local",label:"Local domains (only reachable in your local network)",children:[(0,r.jsxs)(n.p,{children:["\xc0 partir de YunoHost v4.3, les domaines finissant par ",(0,r.jsx)(n.code,{children:".local"})," sont pleinement support\xe9s, en plus du ",(0,r.jsx)(n.code,{children:"yunohost.local"})," par d\xe9faut.\nIls n'utilisent pas le protocole DNS mais mDNS (appel\xe9 aussi Zeroconf, Bonjour), qui permet leur diffusion sans configuration particuli\xe8re mais exclusivement sur votre r\xe9seau local, ou votre VPN.\nLeur utilisation est donc parfaitement adapt\xe9e si vous ne pr\xe9voyez pas de rendre une de vos apps disponible sur l'Internet."]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(5252).A+"",children:"Capture d'\xe9cran de la page \xab Ajouter un domaine \xbb o\xf9 vous pouvez choisir \xab J'ai d\xe9j\xe0 un nom de domaine \xbb et configurer votre domaine se terminant par .local"})}),(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Le protocole mDNS ne permet pas d'ajouter des sous-domaines. Ainsi ",(0,r.jsx)(n.code,{children:"domaine.local"})," est valide, ",(0,r.jsx)(n.code,{children:"sous.domain.local"})," ne l'est pas."]})}),(0,r.jsxs)(n.p,{children:["C'est le service ",(0,r.jsx)(n.code,{children:"yunomdns"})," qui se charge de diffuser l'existence de vos domaines ",(0,r.jsx)(n.code,{children:".local"})," sur votre r\xe9seau.\nIl poss\xe8de un fichier de configuration, ",(0,r.jsx)(n.code,{children:"/etc/yunohost/mdns.yml"}),", qui permet de choisir quels domaines sont diffus\xe9s, et sur quelles interfaces r\xe9seau.\nCe fichier est r\xe9g\xe9n\xe9r\xe9 automatiquement d\xe8s que vous ajoutez ou supprimez un domaine ",(0,r.jsx)(n.code,{children:".local"}),"."]}),(0,r.jsxs)(n.p,{children:["Le service cherchera toujours \xe0 diffuser le domaine ",(0,r.jsx)(n.code,{children:"yunohost.local"}),". Si vous avez plusieurs serveurs YunoHost sur votre r\xe9seau, alors tentez ",(0,r.jsx)(n.code,{children:"yunohost-2.local"}),", etc.\nLe chiffre risque de changer selon quel serveur d\xe9marre en premier, donc ne comptez pas dessus pour y installer des apps : cr\xe9ez vos propres domaines locaux."]}),(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["Malheureusement, les appareils Android avant la version 12 (sortie en 2021) ne semblent pas \xe9couter le protocole mDNS.\nPour profiter des domaines ",(0,r.jsx)(n.code,{children:".local"})," sur vos appareils Android, vous devez entrer l'adresse IP locale de votre serveur YunoHost dans leur param\xe8tre DNS."]})})]})]}),"\n",(0,r.jsx)(n.h2,{id:"configuration-dns",children:"Configuration DNS"}),"\n",(0,r.jsxs)(n.p,{children:["DNS (Domain Name System) est un syst\xe8me qui permet aux ordinateurs du monde entier de traduire les noms de domaine lisibles par les humains (comme ",(0,r.jsx)(n.code,{children:"yolo.com"}),") en adresses IP compr\xe9hensibles par les machines (comme ",(0,r.jsx)(n.code,{children:"11.22.33.44"}),"). Pour que cette traduction (et d'autres fonctionnalit\xe9s) fonctionne, il faut configurer soigneusement les enregistrements DNS."]}),"\n",(0,r.jsxs)(n.p,{children:["YunoHost peut g\xe9n\xe9rer une configuration DNS recommand\xe9e pour chaque domaine, y compris les enregistrements n\xe9cessaires pour les emails. La configuration DNS recommand\xe9e est disponible dans l'administrateur web via Domaines > (le domaine) > configuration DNS, ou avec la commande ",(0,r.jsx)(n.code,{children:"yunohost domain dns-conf the.domain.tld"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"a-propos-des-caract\xe8res-non-latins",children:"A propos des caract\xe8res non-latins"}),"\n",(0,r.jsxs)(n.p,{children:["Si votre domaine comporte des caract\xe8res sp\xe9ciaux non-latins, il sera transform\xe9 par YunoHost en ",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Internationalized_domain_name",children:"version internationalis\xe9e"})," ou en ",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Punycode",children:"Punycode"}),". Ainsi, lorsque vous utilisez la ligne de commande, vous devez utiliser le format punycode renvoy\xe9 par exemple par ",(0,r.jsx)(n.code,{children:"yunohost domain list"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"certificats-sslhttps",children:"Certificats SSL/HTTPS"}),"\n",(0,r.jsxs)(n.p,{children:["Un autre aspect important de la configuration des domaines est le certificat SSL/HTTPS. YunoHost est int\xe9gr\xe9 avec Let's Encrypt, de sorte qu'une fois que votre serveur est correctement accessible depuis n'importe qui sur Internet via le nom de domaine, l'administrateur peut demander l'installation d'un certificat Let's Encrypt. Voir la documentation sur les ",(0,r.jsx)(n.a,{href:"/admin/domains/certificate",children:"certificats"})," pour plus d'informations."]})]})}function p(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},5252:function(e,n,s){s.d(n,{A:()=>o});let o=s.p+"assets/files/webadmin_domain_local-005e3765ab947a6af7b0c78c78eb8e75.png"},3765:function(e,n,s){s.d(n,{A:()=>o});let o=s.p+"assets/files/webadmin_domain_owndomain-9c72ca5915a3f19531863c74bb623a07.png"},7492:function(e,n,s){s.d(n,{A:()=>o});let o=s.p+"assets/images/webadmin_domain-24b9df6a504edcebb82ea5377103e7c7.png"},7514:function(e,n,s){s.d(n,{A:()=>o});let o=s.p+"assets/images/webadmin_dyndns-9f3fc29e81ad672ad134499c2122fac4.png"},3703:function(e,n,s){s.d(n,{A:()=>i});var o=s(4848);s(6540);var r=s(9836);function i({children:e,hidden:n,className:s}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)("tabItem_Ymn6",s),hidden:n,children:e})}},4109:function(e,n,s){s.d(n,{A:()=>g});var o=s(4848),r=s(6540),i=s(9836),a=s(6364),t=s(8251),u=s(6347),d=s(8004),l=s(5580),c=s(2213),m=s(5734);function p(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h({value:e,tabValues:n}){return n.some(n=>n.value===e)}var f=s(8864);function v({className:e,block:n,selectedValue:s,selectValue:r,tabValues:a}){let u=[],{blockElementScrollPositionUntilNextRender:d}=(0,t.a_)(),l=e=>{let n=e.currentTarget,o=a[u.indexOf(n)].value;o!==s&&(d(n),r(o))},c=e=>{let n=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{let s=u.indexOf(e.currentTarget)+1;n=u[s]??u[0];break}case"ArrowLeft":{let s=u.indexOf(e.currentTarget)-1;n=u[s]??u[u.length-1]}}n?.focus()};return(0,o.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},e),children:a.map(({value:e,label:n,attributes:r})=>(0,o.jsx)("li",{role:"tab",tabIndex:s===e?0:-1,"aria-selected":s===e,ref:e=>{u.push(e)},onKeyDown:c,onClick:l,...r,className:(0,i.A)("tabs__item","tabItem_LNqP",r?.className,{"tabs__item--active":s===e}),children:n??e},e))})}function x({lazy:e,children:n,selectedValue:s}){let a=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let e=a.find(e=>e.props.value===s);return e?(0,r.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,o.jsx)("div",{className:"margin-top--md",children:a.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s}))})}function j(e){let n=function(e){let n,{defaultValue:s,queryString:o=!1,groupId:i}=e,a=function(e){let{values:n,children:s}=e;return(0,r.useMemo)(()=>{let e=n??p(s).map(({props:{value:e,label:n,attributes:s,default:o}})=>({value:e,label:n,attributes:s,default:o})),o=(0,c.XI)(e,(e,n)=>e.value===n.value);if(o.length>0)throw Error(`Docusaurus error: Duplicate values "${o.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[n,s])}(e),[t,f]=(0,r.useState)(()=>(function({defaultValue:e,tabValues:n}){if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let s=n.find(e=>e.default)??n[0];if(!s)throw Error("Unexpected error: 0 tabValues");return s.value})({defaultValue:s,tabValues:a})),[v,x]=function({queryString:e=!1,groupId:n}){let s=(0,u.W6)(),o=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l.aZ)(o),(0,r.useCallback)(e=>{if(!o)return;let n=new URLSearchParams(s.location.search);n.set(o,e),s.replace({...s.location,search:n.toString()})},[o,s])]}({queryString:o,groupId:i}),[j,g]=function({groupId:e}){let n=e?`docusaurus.tab.${e}`:null,[s,o]=(0,m.Dv)(n);return[s,(0,r.useCallback)(e=>{n&&o.set(e)},[n,o])]}({groupId:i}),b=h({value:n=v??j,tabValues:a})?n:null;return(0,d.A)(()=>{b&&f(b)},[b]),{selectedValue:t,selectValue:(0,r.useCallback)(e=>{if(!h({value:e,tabValues:a}))throw Error(`Can't select invalid tab value=${e}`);f(e),x(e),g(e)},[x,g,a]),tabValues:a}}(e);return(0,o.jsxs)("div",{className:(0,i.A)(a.G.tabs.container,"tabs-container","tabList__CuJ"),children:[(0,o.jsx)(v,{...n,...e}),(0,o.jsx)(x,{...n,...e})]})}function g(e){let n=(0,f.A)();return(0,o.jsx)(j,{...e,children:p(e.children)},String(n))}},4429:function(e,n,s){s.d(n,{R:()=>a,x:()=>t});var o=s(6540);let r={},i=o.createContext(r);function a(e){let n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);