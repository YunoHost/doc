"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["7408"],{2728:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>r,toc:()=>d,default:()=>l,metadata:()=>o,assets:()=>a,contentTitle:()=>c});var o=JSON.parse('{"id":"dev/core/ynh_admin","title":"Working on the YunoHost web admin","description":"When using ynh-dev, run in the container:","source":"@site/docs/dev/80.core/25.ynh_admin.mdx","sourceDirName":"dev/80.core","slug":"/dev/core/ynh_admin","permalink":"/doc/pr-2675/oc/dev/core/ynh_admin","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/docs/dev/80.core/25.ynh_admin.mdx","tags":[],"version":"current","sidebarPosition":25,"frontMatter":{"title":"Working on the YunoHost web admin"},"sidebar":"devpackaging","previous":{"title":"Working on the API and CLI","permalink":"/doc/pr-2675/oc/dev/core/ynh_core"},"next":{"title":"Technical details for config panel structure and form option types","permalink":"/doc/pr-2675/oc/dev/core/forms"}}'),s=t(4848),i=t(4429);let r={title:"Working on the YunoHost web admin"},c,a={},d=[];function h(e){let n={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["When using ",(0,s.jsx)(n.code,{children:"ynh-dev"}),", run in the container:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"./ynh-dev use-git yunohost-admin\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"FIXME",type:"danger",children:(0,s.jsx)(n.p,{children:"The rest of this section is completely outdated and should be rewritten from scratch..."})}),"\n",(0,s.jsx)(n.p,{children:"It launches gulp, such as each time you modify sources, it recompiles the code and\nyou can use it by refreshing (Ctrl+F5) your web administration."}),"\n",(0,s.jsx)(n.p,{children:"To stop the command, just do Ctrl+C."}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["You might need to force-clear the cache of your browser sometimes to refresh\nthe JavaScript and/or HTML (so each time you edit something in ",(0,s.jsx)(n.code,{children:"js"})," or ",(0,s.jsx)(n.code,{children:"views"}),")."]})}),"\n",(0,s.jsxs)(n.p,{children:["The web interface uses the API to interact with YunoHost. The API\ncommands/requests are also defined via the actionsmap. For instance, accessing\nthe page ",(0,s.jsx)(n.code,{children:"https://domain.tld/yunohost/api/users"})," corresponds to a ",(0,s.jsx)(n.code,{children:"GET /users"})," requests on the YunoHost API. It is mapped to the function\n",(0,s.jsx)(n.code,{children:"user_list()"}),". Accessing the URL should display the JSON returned by this\nfunction. 'GET' requests are typically meant to ask information to the server.\n'POST' requests are meant to ask the server to edit/change some information,\nor to execute some actions."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"js/yunohost/controllers"})," contains the JavaScript parts,\nand define which requests to make to the API when loading a specific page of\nthe interface, and how to process the data to generate the page, using\ntemplates."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"views"})," contains the various templates for the pages of the interface. In the\ntemplate, data coming from the JavaScript part can be used with the syntax\n",(0,s.jsx)(n.code,{children:"{{some-variable}}"}),", which will be replaced when building/accessing the page.\nIt is also possible to have conditions using the\n",(0,s.jsx)(n.a,{href:"http://handlebarsjs.com",children:"handlebars.js"})," syntax: ",(0,s.jsx)(n.code,{children:"{{#if some-variable}}<p>Some conditional HTML code here !</p>{{/if}}"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["For internationalized strings, use ",(0,s.jsx)(n.code,{children:"y18n.t('some-string-code')"})," in the\nJavaScript, or ",(0,s.jsx)(n.code,{children:"{{t 'some-string-code'}}"})," in the HTML template, and put your\nstring in ",(0,s.jsx)(n.code,{children:"locales/en.json"}),". Don't edit other locales files,\nthis will be done using ",(0,s.jsx)(n.a,{href:"https://translate.yunohost.org/",children:"Weblate"}),"!"]}),"\n"]}),"\n"]})]})}function l(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},4429:function(e,n,t){t.d(n,{R:()=>r,x:()=>c});var o=t(6540);let s={},i=o.createContext(s);function r(e){let n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);