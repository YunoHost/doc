"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["3383"],{2044:function(e,s,n){n.r(s),n.d(s,{frontMatter:()=>o,toc:()=>c,default:()=>p,metadata:()=>r,assets:()=>d,contentTitle:()=>a});var r=JSON.parse('{"id":"admin/tutorials/sftp_on_apps","title":"Donner la permission SFTP d\'\xe9diter une application","description":"Dans YunoHost, depuis la gestion des permissions par l\'interface d\'administration web, vous pouvez sp\xe9cifier quel utilisateur peut acc\xe9der \xe0 votre syst\xe8me \xe0 travers SFTP.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/admin/45.tutorials/65.sftp_on_apps.mdx","sourceDirName":"admin/45.tutorials","slug":"/admin/tutorials/sftp_on_apps","permalink":"/doc/pr-2675/fr/admin/tutorials/sftp_on_apps","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/i18n/fr/docusaurus-plugin-content-docs/current/admin/45.tutorials/65.sftp_on_apps.mdx","tags":[],"version":"current","sidebarPosition":65,"frontMatter":{"sidebar_label":"Acc\xe9der aux applications via SFTP","title":"Donner la permission SFTP d\'\xe9diter une application"},"sidebar":"admin","previous":{"title":"S\xe9curit\xe9","permalink":"/doc/pr-2675/fr/admin/tutorials/security"},"next":{"title":"Use Freebox\'s storage (French ISP)","permalink":"/doc/pr-2675/fr/admin/tutorials/freebox_storage"}}'),i=n(4848),t=n(4429);let o={sidebar_label:"Acc\xe9der aux applications via SFTP",title:"Donner la permission SFTP d'\xe9diter une application"},a,d={},c=[];function l(e){let s={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"Dans YunoHost, depuis la gestion des permissions par l'interface d'administration web, vous pouvez sp\xe9cifier quel utilisateur peut acc\xe9der \xe0 votre syst\xe8me \xe0 travers SFTP."}),"\n",(0,i.jsx)(s.p,{children:"Go to :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Groups and permissions > Individual user permissions."}),"\n",(0,i.jsx)(s.li,{children:"Click on add a permission and select SFTP"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Cependant ces utilisateurs sont chroot\xe9s dans leur r\xe9pertoire home pour des raisons de s\xe9curit\xe9."}),"\n",(0,i.jsx)(s.p,{children:"Si vous d\xe9sirez donner acc\xe8s \xe0 une application sp\xe9cifique \xe0 travers SFTP, voici les actions \xe0 faire apr\xe8s avoir donn\xe9 les droits \xe0 l'utilisateur dans l'interface d'adminstration web."}),"\n",(0,i.jsx)(s.p,{children:"Dans les instructions suivantes:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"USER est l'utilisateur \xe0 qui sont donn\xe9es les permissions d'\xe9diter des fichiers wordpress."}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"/var/www/wordpress/wp-config.php"})," est \xe0 remplacer par le chemin du fichier de config de l'app. Par exemple, pour YesWiki (",(0,i.jsx)(s.code,{children:"/var/www/yeswiki/wakka.config.php"}),")"]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'mkdir -p /home/USER/apps/wordpress\ntouch /home/USER/.nobackup\nmount --bind /var/www/wordpress /home/USER/apps/wordpress\necho "/var/www/wordpress /home/USER/apps/wordpress none defaults,bind 0 0" >> /etc/fstab\nfind /var/www/wordpress -type d -exec chmod g+s {} \\;\n\nsetfacl -R -m u:wordpress:rwX /var/www/wordpress\nsetfacl -R -d -m u:wordpress:rwX /var/www/wordpress\nsetfacl -m u:wordpress:r-- /var/www/wordpress/wp-config.php\n\nsetfacl -R -m u:USER:rwX /var/www/wordpress\nsetfacl -R -d -m u:USER:rwX /var/www/wordpress\n'})}),"\n",(0,i.jsx)(s.p,{children:"Quick commands explanation :"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"mkdir -p /PATH"})," creates a folder in the specified PATH"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"touch"})," creates an empty file"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"mount --bind"})," makes the contents of the source file or directory available at the target location without actually moving or copying the data."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"setfacl"})," set the file permissions"]}),"\n"]})]})}function p(e={}){let{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},4429:function(e,s,n){n.d(s,{R:()=>o,x:()=>a});var r=n(6540);let i={},t=r.createContext(i);function o(e){let s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);