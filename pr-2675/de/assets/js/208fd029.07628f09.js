"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([["8061"],{4451:function(e,t,o){o.r(t),o.d(t,{frontMatter:()=>n,toc:()=>c,default:()=>h,metadata:()=>s,assets:()=>a,contentTitle:()=>l});var s=JSON.parse('{"id":"admin/troubleshooting/blacklist_forms","title":"Unblacklisting forms","description":"It could happen sometimes that your IP is blacklisted by some email provider, or anti-spam services. If you receive an alert from the diagnosis tool, click on details to find the unblocking forms.","source":"@site/docs/admin/50.troubleshooting/25.blacklist_forms.mdx","sourceDirName":"admin/50.troubleshooting","slug":"/admin/troubleshooting/blacklist_forms","permalink":"/doc/pr-2675/de/admin/troubleshooting/blacklist_forms","draft":false,"unlisted":false,"editUrl":"https://github.com/YunoHost/doc/tree/main/docs/admin/50.troubleshooting/25.blacklist_forms.mdx","tags":[],"version":"current","sidebarPosition":25,"frontMatter":{"title":"Unblacklisting forms"},"sidebar":"admin","previous":{"title":"Setting up IPv6","permalink":"/doc/pr-2675/de/admin/troubleshooting/ipv6"},"next":{"title":"\u2728 Upgrades","permalink":"/doc/pr-2675/de/admin/upgrade/"}}'),i=o(4848),r=o(4429);let n={title:"Unblacklisting forms"},l,a={},c=[{value:"Test your server",id:"test-your-server",level:2},{value:"Check your mail logs",id:"check-your-mail-logs",level:2},{value:"Untestable email providers",id:"untestable-email-providers",level:2},{value:"Microsoft",id:"microsoft",level:3},{value:"Gmail",id:"gmail",level:3},{value:"Yahoo",id:"yahoo",level:3},{value:"Free",id:"free",level:3},{value:"Get alert about emails sent without SPF or DKIM",id:"get-alert-about-emails-sent-without-spf-or-dkim",level:2}];function d(e){let t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"It could happen sometimes that your IP is blacklisted by some email provider, or anti-spam services. If you receive an alert from the diagnosis tool, click on details to find the unblocking forms."}),"\n",(0,i.jsx)(t.h2,{id:"test-your-server",children:"Test your server"}),"\n",(0,i.jsxs)(t.p,{children:["To check your Email deliverability, YunoHost provide some tests avilables in the Diagnosis tool. This tools evalutes  a lot of configuration and ip reputation points. It gives you also an indicator if some mails are blocked inside the mail queue (waiting to be sent).\nall the points evaluated by ",(0,i.jsx)(t.a,{href:"https://www.mail-tester.com",children:"the well known mail-tester.com"})," except for mail content (usefull if you prepare a newsletter)."]}),"\n",(0,i.jsx)(t.p,{children:"However, if you have a doubt on the internal diagnosis results, you could check on external tools:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["by sending an emails : ",(0,i.jsx)(t.a,{href:"https://www.mail-tester.com",children:"Mail tester"})]}),"\n",(0,i.jsxs)(t.li,{children:["by providing the public ip : ",(0,i.jsx)(t.a,{href:"https://multirbl.valli.org/",children:"MultiRBL Valli"})," or ",(0,i.jsx)(t.a,{href:"https://whatismyipaddress.com/blacklist-check",children:"Whatismyip"})]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"check-your-mail-logs",children:"Check your mail logs"}),"\n",(0,i.jsx)(t.p,{children:"This command can help you to summarize which emails has been refused by other SMTP server and why."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:'cat /var/log/mail.log | grep "deferred" | sed -E "s/(:[0-9][0-9]).+</\\1\\t/g" | sed -E "s/>.+dsn/\\terror/g" | sed -E "s/, status=deferred \\(/ /g" | sed -E "s/\\)$//g"\n'})}),"\n",(0,i.jsxs)(t.p,{children:["See ",(0,i.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/List_of_SMTP_server_return_codes",children:"the list of SMTP return code"})," from wikipedia."]}),"\n",(0,i.jsx)(t.h2,{id:"untestable-email-providers",children:"Untestable email providers"}),"\n",(0,i.jsx)(t.p,{children:"YunoHost is only able to test generic blacklist using the DNS RBL mechanism. However, Gmail, Microsoft, Yahoo or Free maintains their own blacklisting mechanism, so in some situation you may need to contact their teams through dedicated forms or use dedicated tools."}),"\n",(0,i.jsx)(t.h3,{id:"microsoft",children:"Microsoft"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"No way to test easily IP reputation"}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://sendersupport.olc.protection.outlook.com/pm/",children:"Microsoft guide for postmaster"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://sendersupport.olc.protection.outlook.com/pm/troubleshooting.aspx#Codes",children:"Information about SMTP return code from Microsoft"})}),"\n",(0,i.jsxs)(t.li,{children:["Reputation Management tools :","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://postmaster.live.com/snds/JMRP.aspx",children:"Junk Email Reporting Program (JMRP)"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://postmaster.live.com/snds/index.aspx",children:"Smart Network Data Services (SNDS)"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://support.microsoft.com/supportrequestform/8ad563e3-288e-2a61-8122-3ba03d6b8d75",children:"Get support form for deliverability issues"})," (Sadly you need a Microsoft account :/ )"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"gmail",children:"Gmail"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"No way to test easily IP reputation"}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://support.google.com/a/topic/1354753",children:"Google guide for postmaster"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://support.google.com/a/answer/3726730",children:"Information about SMTP return code from Google"})}),"\n",(0,i.jsxs)(t.li,{children:["Reputation Management tools : ",(0,i.jsx)(t.a,{href:"https://postmaster.google.com",children:"Google Postmaster Tools"})]}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://support.google.com/mail/contact/bulk_send_new",children:"Get support form for deliverability issues"})}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"yahoo",children:"Yahoo"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"No way to test easily IP reputation"}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://senders.yahooinc.com/best-practices",children:"Yahoo guide for postmaster"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://senders.yahooinc.com/smtp-error-codes",children:"Information about SMTP return code from Yahoo"})}),"\n",(0,i.jsxs)(t.li,{children:["Reputation Management tools : ",(0,i.jsx)(t.a,{href:"https://io.help.yahoo.com/contact/index?page=contactform&locale=en_US&token=Zh%2FBBVqXzLHlIbokbUqVWTUbuuQeXGkGnZzhKR2JQ4O6mMQdy9JSWdtWFXvjthcYCRj9bUIFfycOfG%2B4GOHPHoOGa8HwDO2%2B0kYRtTcdR8Nja5P9HWkKh3VWfS3pyu4UdjhvwG%2BBCvnYFl5dToDK%2Fw%3D%3D&selectedChannel=email-icon",children:"Complaint Feedback Loop"})]}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://senders.yahooinc.com/contact",children:"Get support form for deliverability issues"})}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"free",children:"Free"}),"\n",(0,i.jsxs)(t.p,{children:["You can find a tool to test your IP, advices, explanation of error code and a way to contact Free on ",(0,i.jsx)(t.a,{href:"https://postmaster.free.fr/",children:"this page"})]}),"\n",(0,i.jsx)(t.h2,{id:"get-alert-about-emails-sent-without-spf-or-dkim",children:"Get alert about emails sent without SPF or DKIM"}),"\n",(0,i.jsx)(t.p,{children:"If you use your own domains and think that some mails are sent by unauthorized servers (so without SPF/DKIM), you  get report about this mail with."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-text",children:'_dmarc.DOMAIN 3600 IN TXT "v=DMARC1; p=none; fo=1; rua=mailto:example@domain.tld!10m"\n'})})]})}function h(e={}){let{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},4429:function(e,t,o){o.d(t,{R:()=>n,x:()=>l});var s=o(6540);let i={},r=s.createContext(i);function n(e){let t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);